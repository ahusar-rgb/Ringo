2023-08-13 10:37:26.493 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 44533 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:37:26.508 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:37:28.210 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:37:28.408 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 184 ms. Found 13 JPA repository interfaces.
2023-08-13 10:37:29.438 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:37:29.455 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:37:29.455 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:37:29.681 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:37:29.681 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2736 ms
2023-08-13 10:37:29.867 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:37:30.140 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@786a3477
2023-08-13 10:37:30.144 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:37:30.332 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:37:30.466 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:37:30.609 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:37:31.038 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:37:31.043 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:37:31.045 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:37:31.132 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:37:31.289 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:37:31.441 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:37:31.536 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:37:32.111 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:37:33.787 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:37:33.801 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:37:39.266 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:37:40.167 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:37:41.008 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:37:43.664 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d548872, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d576ea9, org.springframework.security.web.context.SecurityContextHolderFilter@5ac1ba35, org.springframework.security.web.header.HeaderWriterFilter@5119e01a, org.springframework.web.filter.CorsFilter@3d1b6816, org.springframework.security.web.authentication.logout.LogoutFilter@5d5984aa, com.ringo.auth.JwtFilter@230ea983, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f815a12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d67a1ad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2eb82c04, org.springframework.security.web.session.SessionManagementFilter@44eb9af1, org.springframework.security.web.access.ExceptionTranslationFilter@1b406bc2, org.springframework.security.web.access.intercept.AuthorizationFilter@119636bf]
2023-08-13 10:37:44.156 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:37:44.171 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.381 seconds (process running for 19.353)
2023-08-13 10:38:05.946 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 10:38:05.947 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 10:38:05.950 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 10:38:54.124 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.272 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 10:38:57.354 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.371 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.430 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.438 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.489 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.496 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.550 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:57.560 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:57.607 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.614 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.662 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.671 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.718 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.725 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.769 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.776 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.840 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:57.850 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:57.892 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.899 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.939 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:57.945 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:57.984 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:57.991 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.050 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:109)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 10:38:58.108 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.118 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.159 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.170 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.205 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.212 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.249 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.255 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.286 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.293 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.341 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 10:38:58.389 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.406 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.448 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.457 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.499 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.505 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.547 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.554 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.603 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.611 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.666 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:38:58.672 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:38:58.712 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.719 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.755 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.763 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.792 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.802 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:38:58.837 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:38:58.846 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:40:02.667 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:40:02.671 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 10:40:02.677 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 10:42:15.053 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 44631 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:42:15.057 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:42:16.608 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:42:16.798 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 13 JPA repository interfaces.
2023-08-13 10:42:17.827 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:42:17.846 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:42:17.861 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:42:18.071 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:42:18.072 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2674 ms
2023-08-13 10:42:18.268 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:42:18.535 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46d1b59
2023-08-13 10:42:18.541 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:42:18.865 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:42:19.094 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:42:19.203 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:42:19.592 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:42:19.596 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:42:19.598 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:42:19.627 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 10:42:19.642 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:42:19.872 [main] INFO  liquibase.changelog - Table category created
2023-08-13 10:42:19.877 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 10:42:19.908 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 10:42:19.917 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 24ms
2023-08-13 10:42:19.972 [main] INFO  liquibase.changelog - Table event created
2023-08-13 10:42:19.976 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 29ms
2023-08-13 10:42:19.988 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 10:42:19.995 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:42:20.012 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 10:42:20.015 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:42:20.029 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 10:42:20.032 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:42:20.041 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 10:42:20.045 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.058 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 10:42:20.063 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:42:20.078 [main] INFO  liquibase.changelog - Table label created
2023-08-13 10:42:20.082 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:42:20.103 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 10:42:20.105 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 16ms
2023-08-13 10:42:20.118 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 10:42:20.121 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.136 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 10:42:20.139 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:42:20.152 [main] INFO  liquibase.changelog - Table review created
2023-08-13 10:42:20.154 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.168 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 10:42:20.171 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.189 [main] INFO  liquibase.changelog - Table users created
2023-08-13 10:42:20.193 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 17ms
2023-08-13 10:42:20.211 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 10:42:20.215 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 15ms
2023-08-13 10:42:20.231 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 10:42:20.235 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:42:20.252 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 10:42:20.257 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 15ms
2023-08-13 10:42:20.275 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 10:42:20.279 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:42:20.297 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 10:42:20.301 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:42:20.313 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 10:42:20.315 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.327 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 10:42:20.330 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.341 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 10:42:20.345 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.356 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 10:42:20.358 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:42:20.370 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 10:42:20.372 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.384 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 10:42:20.387 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.397 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 10:42:20.400 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.411 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 10:42:20.415 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.426 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 10:42:20.431 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.443 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 10:42:20.447 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.457 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 10:42:20.460 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.473 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 10:42:20.476 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.487 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 10:42:20.490 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.503 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 10:42:20.506 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.517 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 10:42:20.520 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.530 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 10:42:20.532 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.543 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 10:42:20.546 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.556 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 10:42:20.560 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:42:20.572 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 10:42:20.576 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:42:20.588 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 10:42:20.592 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.604 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 10:42:20.608 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:42:20.622 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 10:42:20.626 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:42:20.638 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 10:42:20.642 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:42:20.667 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:42:20.671 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 23ms
2023-08-13 10:42:20.689 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:42:20.694 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 17ms
2023-08-13 10:42:20.716 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:42:20.720 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 17ms
2023-08-13 10:42:20.733 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:42:20.890 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:42:20.985 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:42:21.472 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:42:22.958 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:42:22.971 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:42:28.461 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:42:28.970 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:42:30.126 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:42:32.506 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@555bb408, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c1c9116, org.springframework.security.web.context.SecurityContextHolderFilter@68300fe2, org.springframework.security.web.header.HeaderWriterFilter@24d5a3b8, org.springframework.web.filter.CorsFilter@6d9069ab, org.springframework.security.web.authentication.logout.LogoutFilter@686aa9c9, com.ringo.auth.JwtFilter@3e0575a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6799243b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4aa4a3e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cdf48b9, org.springframework.security.web.session.SessionManagementFilter@544b0bd2, org.springframework.security.web.access.ExceptionTranslationFilter@6998743e, org.springframework.security.web.access.intercept.AuthorizationFilter@1bd051c4]
2023-08-13 10:42:33.057 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:42:33.080 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.635 seconds (process running for 19.272)
2023-08-13 10:43:07.355 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 10:43:07.356 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 10:43:07.360 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 10:43:07.463 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.234 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-13 10:43:10.289 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:43:10.301 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:43:10.367 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.375 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:43:10.421 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.432 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:43:10.482 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.493 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:43:10.545 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:43:10.562 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-13 10:43:10.637 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.645 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:43:10.698 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.705 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:43:10.751 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.757 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:43:10.801 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-13 10:43:10.808 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-13 10:44:31.836 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:44:31.840 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 10:44:31.843 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 10:45:34.859 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 44722 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:45:34.864 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:45:36.484 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:45:36.696 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 193 ms. Found 13 JPA repository interfaces.
2023-08-13 10:45:37.808 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:45:37.826 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:45:37.826 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:45:38.010 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:45:38.011 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2785 ms
2023-08-13 10:45:38.191 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:45:38.426 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61d2f267
2023-08-13 10:45:38.430 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:45:38.614 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:45:38.766 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:45:38.907 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:45:39.270 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:45:39.274 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:45:39.277 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:45:39.365 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:45:39.499 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:45:39.628 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:45:39.694 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:45:40.071 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:45:41.740 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:45:41.754 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:45:46.731 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:45:47.272 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:45:48.176 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:45:50.649 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24d7df03, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a35041, org.springframework.security.web.context.SecurityContextHolderFilter@38f183e9, org.springframework.security.web.header.HeaderWriterFilter@5e0fbfb6, org.springframework.web.filter.CorsFilter@7c4b7bc3, org.springframework.security.web.authentication.logout.LogoutFilter@38421084, com.ringo.auth.JwtFilter@72f4232, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2edd66c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@315139e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2169e311, org.springframework.security.web.session.SessionManagementFilter@7dfccbf2, org.springframework.security.web.access.ExceptionTranslationFilter@7d0c21, org.springframework.security.web.access.intercept.AuthorizationFilter@2f815a12]
2023-08-13 10:45:51.232 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:45:51.247 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.018 seconds (process running for 17.935)
2023-08-13 10:45:51.269 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:45:51.274 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 10:45:51.293 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 10:45:58.695 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 44739 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:45:58.699 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:46:00.099 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:46:00.308 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 195 ms. Found 13 JPA repository interfaces.
2023-08-13 10:46:01.277 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:46:01.291 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:46:01.292 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:46:01.478 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:46:01.479 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2440 ms
2023-08-13 10:46:01.671 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:46:01.911 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f883d90
2023-08-13 10:46:01.915 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:46:02.095 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:46:02.290 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:46:02.428 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:46:02.861 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:46:02.864 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:46:02.867 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:46:02.901 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 10:46:02.919 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:46:03.172 [main] INFO  liquibase.changelog - Table category created
2023-08-13 10:46:03.177 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 20ms
2023-08-13 10:46:03.202 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 10:46:03.206 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 17ms
2023-08-13 10:46:03.228 [main] INFO  liquibase.changelog - Table event created
2023-08-13 10:46:03.232 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 19ms
2023-08-13 10:46:03.247 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 10:46:03.253 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:46:03.272 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 10:46:03.275 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 16ms
2023-08-13 10:46:03.292 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 10:46:03.295 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:46:03.308 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 10:46:03.311 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:46:03.324 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 10:46:03.327 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:46:03.343 [main] INFO  liquibase.changelog - Table label created
2023-08-13 10:46:03.345 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:46:03.361 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 10:46:03.365 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 14ms
2023-08-13 10:46:03.384 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 10:46:03.388 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:46:03.415 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 10:46:03.418 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 22ms
2023-08-13 10:46:03.439 [main] INFO  liquibase.changelog - Table review created
2023-08-13 10:46:03.444 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 17ms
2023-08-13 10:46:03.465 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 10:46:03.468 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 17ms
2023-08-13 10:46:03.494 [main] INFO  liquibase.changelog - Table users created
2023-08-13 10:46:03.498 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 21ms
2023-08-13 10:46:03.517 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 10:46:03.522 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 14ms
2023-08-13 10:46:03.539 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 10:46:03.542 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:46:03.575 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 10:46:03.580 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 32ms
2023-08-13 10:46:03.595 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 10:46:03.598 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:46:03.611 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 10:46:03.615 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:46:03.629 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 10:46:03.632 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:46:03.646 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 10:46:03.649 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.661 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 10:46:03.664 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.677 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 10:46:03.680 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.693 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 10:46:03.697 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:46:03.709 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 10:46:03.712 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.724 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 10:46:03.727 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.738 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 10:46:03.741 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.753 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 10:46:03.756 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:46:03.769 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 10:46:03.771 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:46:03.783 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 10:46:03.785 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.794 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 10:46:03.796 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:46:03.806 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 10:46:03.809 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:46:03.820 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 10:46:03.822 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:46:03.833 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 10:46:03.836 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.844 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 10:46:03.847 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:46:03.858 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 10:46:03.860 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:46:03.872 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 10:46:03.876 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:46:03.887 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 10:46:03.889 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.903 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 10:46:03.907 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:46:03.920 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 10:46:03.923 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:46:03.934 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 10:46:03.936 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:46:03.944 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 10:46:03.946 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:46:03.964 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:46:03.967 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-13 10:46:03.981 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:46:03.985 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 13ms
2023-08-13 10:46:04.005 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:46:04.009 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 17ms
2023-08-13 10:46:04.024 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:46:04.144 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:46:04.245 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:46:04.659 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:46:05.934 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:46:05.944 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:46:10.628 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:46:11.576 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:46:12.786 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:46:15.403 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22ef458d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44f6c323, org.springframework.security.web.context.SecurityContextHolderFilter@3cab5869, org.springframework.security.web.header.HeaderWriterFilter@686aa9c9, org.springframework.web.filter.CorsFilter@34e785db, org.springframework.security.web.authentication.logout.LogoutFilter@50f77755, com.ringo.auth.JwtFilter@64b7719f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6115b4a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a57cec1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c5c622, org.springframework.security.web.session.SessionManagementFilter@1cdf48b9, org.springframework.security.web.access.ExceptionTranslationFilter@d6b8c43, org.springframework.security.web.access.intercept.AuthorizationFilter@5a178d0e]
2023-08-13 10:46:15.892 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:46:15.905 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.771 seconds (process running for 18.347)
2023-08-13 10:46:51.005 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 10:46:51.006 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 10:46:51.009 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 10:46:51.092 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691912809309@test.com, role: ROLE_ORGANISATION
2023-08-13 10:46:53.627 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912809309@test.com] is authenticated
2023-08-13 10:46:53.681 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691912813647@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:46:55.388 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912813647@test.com] is authenticated
2023-08-13 10:46:55.453 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 10:46:55.636 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691912815612@test.com, role: ROLE_ORGANISATION
2023-08-13 10:46:57.310 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691912817283@test.com, role: ROLE_ORGANISATION
2023-08-13 10:46:59.018 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912815612@test.com] is authenticated
2023-08-13 10:46:59.138 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912817283@test.com] is authenticated
2023-08-13 10:46:59.186 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 10:46:59.204 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 10:46:59.255 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691912819223@test.com, role: ROLE_ORGANISATION
2023-08-13 10:47:01.081 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912819223@test.com] is authenticated
2023-08-13 10:47:01.106 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691912821090@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:02.789 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912821090@test.com] is authenticated
2023-08-13 10:47:02.818 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 10:47:02.905 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691912822879@test.com, role: ROLE_ORGANISATION
2023-08-13 10:47:04.669 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691912824651@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:06.414 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912824651@test.com] is authenticated
2023-08-13 10:47:06.455 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 7
2023-08-13 10:47:06.546 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 10:47:06.590 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691912826562@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:08.367 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912826562@test.com] is authenticated
2023-08-13 10:47:08.396 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691912828375
2023-08-13 10:47:08.400 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691912828375 was not found
2023-08-13 10:47:08.445 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691912828422@test.com, role: ROLE_ORGANISATION
2023-08-13 10:47:10.144 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912828422@test.com] is authenticated
2023-08-13 10:47:10.166 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691912830151@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:12.003 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912830151@test.com] is authenticated
2023-08-13 10:47:12.034 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 10
2023-08-13 10:47:12.125 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691912832098@test.com, role: ROLE_ORGANISATION
2023-08-13 10:47:13.919 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912832098@test.com] is authenticated
2023-08-13 10:47:13.936 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691912833925@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:15.706 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912833925@test.com] is authenticated
2023-08-13 10:47:15.730 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 10:47:15.805 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691912835781@test.com, role: ROLE_ORGANISATION
2023-08-13 10:47:17.569 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912835781@test.com] is authenticated
2023-08-13 10:47:17.590 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691912837576@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:19.315 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912837576@test.com] is authenticated
2023-08-13 10:47:19.337 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 10:47:19.403 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691912839386@test.com, role: ROLE_ORGANISATION
2023-08-13 10:47:21.127 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691912841111@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:22.774 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912841111@test.com] is authenticated
2023-08-13 10:47:22.804 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 10:47:22.891 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691912842870@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:47:24.660 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912842870@test.com] is authenticated
2023-08-13 10:47:24.682 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 10:49:01.657 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:49:01.661 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 10:49:01.667 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 10:49:11.596 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 44821 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:49:11.602 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:49:13.210 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:49:13.399 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 177 ms. Found 13 JPA repository interfaces.
2023-08-13 10:49:14.368 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:49:14.386 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:49:14.387 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:49:14.555 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:49:14.556 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2537 ms
2023-08-13 10:49:14.738 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:49:14.971 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4586a8aa
2023-08-13 10:49:14.974 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:49:15.314 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:49:15.480 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:49:15.582 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:49:15.954 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:49:15.957 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:49:15.961 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:49:15.983 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 10:49:15.997 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:49:16.230 [main] INFO  liquibase.changelog - Table category created
2023-08-13 10:49:16.233 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 15ms
2023-08-13 10:49:16.253 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 10:49:16.257 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:49:16.278 [main] INFO  liquibase.changelog - Table event created
2023-08-13 10:49:16.280 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 17ms
2023-08-13 10:49:16.292 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 10:49:16.295 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:49:16.311 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 10:49:16.314 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:49:16.330 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 10:49:16.334 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:49:16.345 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 10:49:16.348 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:49:16.361 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 10:49:16.364 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:49:16.379 [main] INFO  liquibase.changelog - Table label created
2023-08-13 10:49:16.383 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:49:16.400 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 10:49:16.404 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 14ms
2023-08-13 10:49:16.418 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 10:49:16.421 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:49:16.440 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 10:49:16.443 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 15ms
2023-08-13 10:49:16.457 [main] INFO  liquibase.changelog - Table review created
2023-08-13 10:49:16.459 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.473 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 10:49:16.476 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:49:16.489 [main] INFO  liquibase.changelog - Table users created
2023-08-13 10:49:16.492 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:49:16.506 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 10:49:16.508 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.522 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 10:49:16.525 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:49:16.540 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 10:49:16.543 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:49:16.556 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 10:49:16.558 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.572 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 10:49:16.574 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.586 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 10:49:16.589 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.602 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 10:49:16.605 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.621 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 10:49:16.624 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:49:16.636 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 10:49:16.639 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:49:16.652 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 10:49:16.655 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.667 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 10:49:16.670 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:49:16.682 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 10:49:16.686 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.696 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 10:49:16.698 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:49:16.707 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 10:49:16.709 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:49:16.718 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 10:49:16.720 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 5ms
2023-08-13 10:49:16.729 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 10:49:16.731 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:49:16.739 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 10:49:16.741 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 5ms
2023-08-13 10:49:16.749 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 10:49:16.752 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:49:16.760 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 10:49:16.762 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:49:16.771 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 10:49:16.773 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:49:16.782 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 10:49:16.784 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:49:16.793 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 10:49:16.796 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:49:16.804 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 10:49:16.806 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 6ms
2023-08-13 10:49:16.818 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 10:49:16.821 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:49:16.836 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 10:49:16.839 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:49:16.854 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 10:49:16.858 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:49:16.872 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 10:49:16.876 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:49:16.886 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 10:49:16.889 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:49:16.914 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:49:16.918 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 21ms
2023-08-13 10:49:16.932 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:49:16.935 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 10:49:16.951 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:49:16.953 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 10:49:16.968 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:49:17.094 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:49:17.191 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:49:17.614 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:49:18.909 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:49:18.918 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:49:23.895 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:49:25.082 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:49:26.358 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:49:29.879 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67b9b79c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62418263, org.springframework.security.web.context.SecurityContextHolderFilter@3325afbc, org.springframework.security.web.header.HeaderWriterFilter@5c4e96ec, org.springframework.web.filter.CorsFilter@53251e03, org.springframework.security.web.authentication.logout.LogoutFilter@a22be4c, com.ringo.auth.JwtFilter@71669835, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@544b0bd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a0b3704, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bd051c4, org.springframework.security.web.session.SessionManagementFilter@23abf9c9, org.springframework.security.web.access.ExceptionTranslationFilter@7ec16640, org.springframework.security.web.access.intercept.AuthorizationFilter@7c5f244c]
2023-08-13 10:49:30.320 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:49:30.333 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.371 seconds (process running for 20.049)
2023-08-13 10:49:55.643 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 10:49:55.644 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 10:49:55.646 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 10:49:55.731 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691912993994@test.com, role: ROLE_ORGANISATION
2023-08-13 10:49:58.105 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912993994@test.com] is authenticated
2023-08-13 10:49:58.157 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691912998126@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:49:59.799 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912998126@test.com] is authenticated
2023-08-13 10:49:59.861 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 10:49:59.999 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691912999980@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:01.718 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691912999980@test.com] is authenticated
2023-08-13 10:50:01.768 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 10:50:01.900 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913001874@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:03.496 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691913003476@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:05.104 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913001874@test.com] is authenticated
2023-08-13 10:50:05.221 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913003476@test.com] is authenticated
2023-08-13 10:50:05.266 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 10:50:05.287 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 10:50:05.349 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913005320@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:06.981 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913005320@test.com] is authenticated
2023-08-13 10:50:07.024 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913006991@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:09.130 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913006991@test.com] is authenticated
2023-08-13 10:50:09.157 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 10:50:09.214 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913009197@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:10.919 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913009197@test.com] is authenticated
2023-08-13 10:50:10.946 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 10:50:11.020 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 10:50:11.020 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 10:50:11.032 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 10:50:11.063 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913011042@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:12.655 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913012641@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:14.444 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913012641@test.com] is authenticated
2023-08-13 10:50:14.474 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 10:50:14.536 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 10:50:14.572 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691913014552@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:16.241 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913014552@test.com] is authenticated
2023-08-13 10:50:16.268 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691913016248
2023-08-13 10:50:16.273 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691913016248 was not found
2023-08-13 10:50:16.307 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913016288@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:18.008 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913016288@test.com] is authenticated
2023-08-13 10:50:18.030 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691913018016@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:19.632 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913018016@test.com] is authenticated
2023-08-13 10:50:19.657 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 10:50:19.717 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 10:50:19.822 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691913019803@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:21.464 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913019803@test.com] is authenticated
2023-08-13 10:50:21.484 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691913021471@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:23.106 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913021471@test.com] is authenticated
2023-08-13 10:50:23.125 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 10:50:23.217 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 10:50:23.236 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 10:50:23.277 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913023254@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:24.972 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913023254@test.com] is authenticated
2023-08-13 10:50:24.991 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691913024979@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:26.588 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913024979@test.com] is authenticated
2023-08-13 10:50:26.611 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 10:50:26.662 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 10:50:26.698 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913026684@test.com, role: ROLE_ORGANISATION
2023-08-13 10:50:28.439 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691913028425@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:30.144 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913028425@test.com] is authenticated
2023-08-13 10:50:30.167 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 10:50:30.220 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913030206@test.com, role: ROLE_PARTICIPANT
2023-08-13 10:50:31.808 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913030206@test.com] is authenticated
2023-08-13 10:50:31.828 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 10:55:40.800 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:55:40.804 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 10:55:40.808 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 10:56:25.286 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45066 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:56:25.291 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:56:26.833 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:56:27.063 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 218 ms. Found 13 JPA repository interfaces.
2023-08-13 10:56:28.067 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:56:28.083 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:56:28.083 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:56:28.260 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:56:28.261 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2609 ms
2023-08-13 10:56:28.445 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:56:28.675 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dc82e6a
2023-08-13 10:56:28.679 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:56:29.027 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:56:29.208 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:56:29.310 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:56:29.718 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:56:29.721 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:56:29.725 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:56:29.746 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 10:56:29.760 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:56:29.996 [main] INFO  liquibase.changelog - Table category created
2023-08-13 10:56:30.001 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 18ms
2023-08-13 10:56:30.025 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 10:56:30.028 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:56:30.049 [main] INFO  liquibase.changelog - Table event created
2023-08-13 10:56:30.052 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 16ms
2023-08-13 10:56:30.064 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 10:56:30.067 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.079 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 10:56:30.083 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:56:30.094 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 10:56:30.098 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:56:30.108 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 10:56:30.110 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.121 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 10:56:30.124 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.137 [main] INFO  liquibase.changelog - Table label created
2023-08-13 10:56:30.140 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:56:30.154 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 10:56:30.156 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:56:30.169 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 10:56:30.171 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.186 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 10:56:30.190 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:56:30.203 [main] INFO  liquibase.changelog - Table review created
2023-08-13 10:56:30.206 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-13 10:56:30.220 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 10:56:30.224 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 13ms
2023-08-13 10:56:30.238 [main] INFO  liquibase.changelog - Table users created
2023-08-13 10:56:30.241 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:56:30.252 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 10:56:30.255 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.264 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 10:56:30.267 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.312 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 10:56:30.317 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 45ms
2023-08-13 10:56:30.333 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 10:56:30.337 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:56:30.354 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 10:56:30.358 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 12ms
2023-08-13 10:56:30.372 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 10:56:30.376 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:56:30.387 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 10:56:30.390 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.401 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 10:56:30.403 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.413 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 10:56:30.417 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.427 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 10:56:30.431 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.441 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 10:56:30.443 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.453 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 10:56:30.457 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.465 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 10:56:30.468 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.477 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 10:56:30.479 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.491 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 10:56:30.494 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.505 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 10:56:30.509 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.520 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 10:56:30.524 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.535 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 10:56:30.538 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.552 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 10:56:30.555 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.567 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 10:56:30.570 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.580 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 10:56:30.585 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 10ms
2023-08-13 10:56:30.595 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 10:56:30.598 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.608 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 10:56:30.610 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.620 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 10:56:30.624 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.636 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 10:56:30.638 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 8ms
2023-08-13 10:56:30.651 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 10:56:30.653 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 10:56:30.665 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 10:56:30.667 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.677 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 10:56:30.679 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 10:56:30.701 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:56:30.703 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 18ms
2023-08-13 10:56:30.715 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:56:30.718 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 10:56:30.733 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 10:56:30.735 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 10:56:30.746 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:56:30.893 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:56:30.977 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:56:31.430 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:56:32.949 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:56:32.960 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:56:37.985 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:56:39.178 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:56:39.991 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:56:42.164 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62418263, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd051c4, org.springframework.security.web.context.SecurityContextHolderFilter@4fbc7da0, org.springframework.security.web.header.HeaderWriterFilter@45c34a2, org.springframework.web.filter.CorsFilter@654322b0, org.springframework.security.web.authentication.logout.LogoutFilter@6593f4fd, com.ringo.auth.JwtFilter@20fdd484, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a0b3704, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@444d2bb6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11483b6f, org.springframework.security.web.session.SessionManagementFilter@1af03386, org.springframework.security.web.access.ExceptionTranslationFilter@2e16c98b, org.springframework.security.web.access.intercept.AuthorizationFilter@4ad667c8]
2023-08-13 10:56:42.657 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:56:42.672 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.983 seconds (process running for 18.684)
2023-08-13 10:57:17.302 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:57:17.306 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 10:57:17.310 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 10:59:20.416 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45146 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 10:59:20.419 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 10:59:22.000 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 10:59:22.211 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 13 JPA repository interfaces.
2023-08-13 10:59:23.099 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 10:59:23.113 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 10:59:23.114 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 10:59:23.266 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 10:59:23.266 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2531 ms
2023-08-13 10:59:23.430 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 10:59:23.622 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@85ab964
2023-08-13 10:59:23.625 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 10:59:23.888 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 10:59:23.998 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 10:59:24.119 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 10:59:24.475 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 10:59:24.478 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 10:59:24.480 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 10:59:24.563 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 10:59:24.696 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 10:59:24.812 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 10:59:24.875 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 10:59:25.253 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 10:59:26.514 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 10:59:26.524 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 10:59:30.777 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 10:59:31.955 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 10:59:32.881 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 10:59:35.508 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7432a39e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f88d401, org.springframework.security.web.context.SecurityContextHolderFilter@50b1aea, org.springframework.security.web.header.HeaderWriterFilter@7076714c, org.springframework.web.filter.CorsFilter@20c1cb0c, org.springframework.security.web.authentication.logout.LogoutFilter@2e4382e5, com.ringo.auth.JwtFilter@3aee72d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28e6f5c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10c04710, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@197d38a, org.springframework.security.web.session.SessionManagementFilter@23497c5e, org.springframework.security.web.access.ExceptionTranslationFilter@769e025c, org.springframework.security.web.access.intercept.AuthorizationFilter@1a35041]
2023-08-13 10:59:36.003 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 10:59:36.016 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.155 seconds (process running for 16.877)
2023-08-13 10:59:57.487 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 10:59:57.488 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 10:59:57.490 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 10:59:57.577 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913595778@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:00.330 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913595778@test.com] is authenticated
2023-08-13 11:00:00.382 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913600350@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:02.193 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913600350@test.com] is authenticated
2023-08-13 11:00:02.258 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 11:00:02.419 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913602396@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:04.044 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913602396@test.com] is authenticated
2023-08-13 11:00:04.101 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 11:00:04.119 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 11:00:04.201 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913604175@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:05.787 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691913605767@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:07.509 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913604175@test.com] is authenticated
2023-08-13 11:00:07.626 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913605767@test.com] is authenticated
2023-08-13 11:00:07.669 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 11:00:07.684 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 11:00:07.737 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913607714@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:09.363 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913607714@test.com] is authenticated
2023-08-13 11:00:09.384 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913609370@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:11.085 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913609370@test.com] is authenticated
2023-08-13 11:00:11.118 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:00:11.176 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913611160@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:13.070 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913611160@test.com] is authenticated
2023-08-13 11:00:13.096 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:00:13.210 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:00:13.211 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 11:00:13.228 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:00:13.267 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913613244@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:14.829 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913614811@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:16.592 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913614811@test.com] is authenticated
2023-08-13 11:00:16.620 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 11:00:16.689 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:00:16.722 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691913616703@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:18.669 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913616703@test.com] is authenticated
2023-08-13 11:00:18.692 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691913618674
2023-08-13 11:00:18.696 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691913618674 was not found
2023-08-13 11:00:18.729 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913618709@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:20.604 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913618709@test.com] is authenticated
2023-08-13 11:00:20.621 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913620611@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:22.342 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913620611@test.com] is authenticated
2023-08-13 11:00:22.379 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 11:00:22.434 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 11:00:22.531 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691913622513@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:24.249 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913622513@test.com] is authenticated
2023-08-13 11:00:24.270 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913624258@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:25.944 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913624258@test.com] is authenticated
2023-08-13 11:00:25.967 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:00:26.026 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:00:26.036 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 11:00:26.063 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913626046@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:27.879 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913626046@test.com] is authenticated
2023-08-13 11:00:27.895 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691913627884@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:29.513 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913627884@test.com] is authenticated
2023-08-13 11:00:29.531 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 11:00:29.582 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 11:00:29.623 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913629605@test.com, role: ROLE_ORGANISATION
2023-08-13 11:00:31.255 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913631244@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:32.888 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913631244@test.com] is authenticated
2023-08-13 11:00:32.911 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 11:00:32.958 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913632947@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:00:34.628 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913632947@test.com] is authenticated
2023-08-13 11:00:34.644 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:03:36.643 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:03:36.648 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 11:03:36.650 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 11:03:48.257 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45243 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 11:03:48.261 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 11:03:50.094 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 11:03:50.373 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 261 ms. Found 13 JPA repository interfaces.
2023-08-13 11:03:51.475 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 11:03:51.494 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 11:03:51.494 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 11:03:51.695 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 11:03:51.695 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3012 ms
2023-08-13 11:03:51.900 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 11:03:52.168 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22fb9a2c
2023-08-13 11:03:52.173 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 11:03:52.486 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 11:03:52.686 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 11:03:52.809 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 11:03:53.297 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 11:03:53.302 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 11:03:53.305 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 11:03:53.336 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 11:03:53.350 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 11:03:53.651 [main] INFO  liquibase.changelog - Table category created
2023-08-13 11:03:53.655 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 18ms
2023-08-13 11:03:53.677 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 11:03:53.680 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:03:53.702 [main] INFO  liquibase.changelog - Table event created
2023-08-13 11:03:53.706 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 19ms
2023-08-13 11:03:53.718 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 11:03:53.721 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:03:53.736 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 11:03:53.740 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:53.752 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 11:03:53.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:53.768 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 11:03:53.771 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:03:53.785 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 11:03:53.788 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:53.802 [main] INFO  liquibase.changelog - Table label created
2023-08-13 11:03:53.807 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:53.824 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 11:03:53.827 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:03:53.841 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 11:03:53.844 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:53.860 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 11:03:53.866 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 17ms
2023-08-13 11:03:53.887 [main] INFO  liquibase.changelog - Table review created
2023-08-13 11:03:53.891 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 16ms
2023-08-13 11:03:53.909 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 11:03:53.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 16ms
2023-08-13 11:03:53.935 [main] INFO  liquibase.changelog - Table users created
2023-08-13 11:03:53.939 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 17ms
2023-08-13 11:03:53.954 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 11:03:53.958 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:03:53.972 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 11:03:53.974 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:53.988 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 11:03:53.991 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:54.005 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 11:03:54.009 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:54.027 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 11:03:54.044 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 27ms
2023-08-13 11:03:54.057 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 11:03:54.061 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:03:54.075 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 11:03:54.079 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:54.092 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 11:03:54.095 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:03:54.107 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 11:03:54.110 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:03:54.122 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 11:03:54.125 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:54.135 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 11:03:54.139 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:03:54.148 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 11:03:54.151 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:03:54.167 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 11:03:54.172 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:54.188 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 11:03:54.191 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:03:54.202 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 11:03:54.207 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:54.223 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 11:03:54.227 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:54.241 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 11:03:54.244 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:54.256 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 11:03:54.258 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:03:54.271 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 11:03:54.274 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:03:54.285 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 11:03:54.288 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:03:54.296 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 11:03:54.298 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 5ms
2023-08-13 11:03:54.309 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 11:03:54.313 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:03:54.324 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 11:03:54.328 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:03:54.338 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 11:03:54.341 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:03:54.350 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 11:03:54.352 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:03:54.368 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 11:03:54.373 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:54.389 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 11:03:54.393 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:03:54.406 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 11:03:54.410 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:03:54.440 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:03:54.443 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 24ms
2023-08-13 11:03:54.460 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:03:54.463 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 12ms
2023-08-13 11:03:54.480 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:03:54.484 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-13 11:03:54.496 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 11:03:54.633 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 11:03:54.697 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 11:03:55.092 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 11:03:56.394 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 11:03:56.403 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:04:01.204 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 11:04:02.463 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 11:04:03.380 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 11:04:05.768 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37ee58cf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d6b8c43, org.springframework.security.web.context.SecurityContextHolderFilter@2ab0114a, org.springframework.security.web.header.HeaderWriterFilter@5bc971ef, org.springframework.web.filter.CorsFilter@260d878a, org.springframework.security.web.authentication.logout.LogoutFilter@7d352874, com.ringo.auth.JwtFilter@511e0453, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29820c06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@345b515e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12a4937c, org.springframework.security.web.session.SessionManagementFilter@41496617, org.springframework.security.web.access.ExceptionTranslationFilter@4b3a6383, org.springframework.security.web.access.intercept.AuthorizationFilter@2571d0c]
2023-08-13 11:04:06.213 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 11:04:06.227 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.617 seconds (process running for 19.376)
2023-08-13 11:04:29.062 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 11:04:29.063 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 11:04:29.067 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 11:04:29.185 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913866932@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:31.640 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913866932@test.com] is authenticated
2023-08-13 11:04:31.702 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913871665@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:33.457 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913871665@test.com] is authenticated
2023-08-13 11:04:33.522 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 11:04:33.659 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913873637@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:35.397 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913873637@test.com] is authenticated
2023-08-13 11:04:35.450 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 11:04:35.468 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 11:04:35.559 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913875533@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:37.182 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691913877157@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:38.972 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913875533@test.com] is authenticated
2023-08-13 11:04:39.098 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913877157@test.com] is authenticated
2023-08-13 11:04:39.141 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 11:04:39.155 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 11:04:39.206 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691913879181@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:40.938 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913879181@test.com] is authenticated
2023-08-13 11:04:40.960 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913880945@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:42.607 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913880945@test.com] is authenticated
2023-08-13 11:04:42.633 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:04:42.691 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913882675@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:44.402 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913882675@test.com] is authenticated
2023-08-13 11:04:44.438 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:04:44.539 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:04:44.540 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 11:04:44.555 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:04:44.604 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691913884576@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:46.529 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691913886511@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:48.282 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913886511@test.com] is authenticated
2023-08-13 11:04:48.308 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 11:04:48.376 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:04:48.417 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691913888395@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:50.040 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913888395@test.com] is authenticated
2023-08-13 11:04:50.065 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691913890048
2023-08-13 11:04:50.070 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691913890048 was not found
2023-08-13 11:04:50.107 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691913890082@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:51.766 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913890082@test.com] is authenticated
2023-08-13 11:04:51.785 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691913891773@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:53.403 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913891773@test.com] is authenticated
2023-08-13 11:04:53.425 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 11:04:53.487 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 11:04:53.597 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691913893578@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:55.241 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913893578@test.com] is authenticated
2023-08-13 11:04:55.261 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691913895249@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:04:57.005 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913895249@test.com] is authenticated
2023-08-13 11:04:57.026 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:04:57.088 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:04:57.103 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 11:04:57.140 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691913897117@test.com, role: ROLE_ORGANISATION
2023-08-13 11:04:58.932 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913897117@test.com] is authenticated
2023-08-13 11:04:58.951 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691913898939@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:05:00.664 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691913898939@test.com] is authenticated
2023-08-13 11:05:00.685 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 11:05:25.307 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:05:25.317 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 11:05:25.321 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 11:06:08.262 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45284 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 11:06:08.266 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 11:06:09.756 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 11:06:09.947 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 178 ms. Found 13 JPA repository interfaces.
2023-08-13 11:06:10.969 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 11:06:10.983 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 11:06:10.984 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 11:06:11.170 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 11:06:11.172 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2566 ms
2023-08-13 11:06:11.365 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 11:06:11.600 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dc82e6a
2023-08-13 11:06:11.603 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 11:06:11.949 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 11:06:12.126 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 11:06:12.224 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 11:06:12.568 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 11:06:12.573 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 11:06:12.575 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 11:06:12.606 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 11:06:12.621 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 11:06:12.853 [main] INFO  liquibase.changelog - Table category created
2023-08-13 11:06:12.856 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 16ms
2023-08-13 11:06:12.873 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 11:06:12.875 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:06:12.903 [main] INFO  liquibase.changelog - Table event created
2023-08-13 11:06:12.906 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 22ms
2023-08-13 11:06:12.921 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 11:06:12.924 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:06:12.942 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 11:06:12.947 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:06:12.962 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 11:06:12.965 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:06:12.976 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 11:06:12.980 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:12.991 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 11:06:12.995 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:06:13.009 [main] INFO  liquibase.changelog - Table label created
2023-08-13 11:06:13.014 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:06:13.029 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 11:06:13.032 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:06:13.045 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 11:06:13.047 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:06:13.062 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 11:06:13.066 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:06:13.083 [main] INFO  liquibase.changelog - Table review created
2023-08-13 11:06:13.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:06:13.107 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 11:06:13.112 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 16ms
2023-08-13 11:06:13.131 [main] INFO  liquibase.changelog - Table users created
2023-08-13 11:06:13.135 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 17ms
2023-08-13 11:06:13.152 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 11:06:13.154 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:06:13.167 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 11:06:13.170 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:06:13.182 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 11:06:13.186 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:06:13.202 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 11:06:13.206 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:06:13.220 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 11:06:13.224 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:06:13.236 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 11:06:13.240 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:06:13.252 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 11:06:13.256 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:06:13.267 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 11:06:13.270 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:13.280 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 11:06:13.283 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.292 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 11:06:13.294 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.304 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 11:06:13.307 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:13.316 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 11:06:13.318 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.328 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 11:06:13.330 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.340 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 11:06:13.342 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:13.350 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 11:06:13.353 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.361 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 11:06:13.364 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:06:13.373 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 11:06:13.375 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:06:13.383 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 11:06:13.388 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:13.396 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 11:06:13.399 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:06:13.409 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 11:06:13.426 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 21ms
2023-08-13 11:06:13.435 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 11:06:13.439 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:13.447 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 11:06:13.449 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.458 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 11:06:13.460 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:06:13.469 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 11:06:13.473 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:06:13.485 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 11:06:13.490 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:06:13.506 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 11:06:13.509 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:06:13.524 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 11:06:13.528 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:06:13.544 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 11:06:13.547 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:06:13.573 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:06:13.576 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 21ms
2023-08-13 11:06:13.590 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:06:13.592 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 11:06:13.608 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:06:13.610 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 11:06:13.622 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 11:06:13.754 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 11:06:13.835 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 11:06:14.218 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 11:06:15.471 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 11:06:15.481 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:06:19.997 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 11:06:21.161 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 11:06:22.063 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 11:06:24.595 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62418263, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd051c4, org.springframework.security.web.context.SecurityContextHolderFilter@4fbc7da0, org.springframework.security.web.header.HeaderWriterFilter@45c34a2, org.springframework.web.filter.CorsFilter@654322b0, org.springframework.security.web.authentication.logout.LogoutFilter@6593f4fd, com.ringo.auth.JwtFilter@20fdd484, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a0b3704, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@444d2bb6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11483b6f, org.springframework.security.web.session.SessionManagementFilter@1af03386, org.springframework.security.web.access.ExceptionTranslationFilter@2e16c98b, org.springframework.security.web.access.intercept.AuthorizationFilter@4ad667c8]
2023-08-13 11:06:25.077 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 11:06:25.092 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.382 seconds (process running for 17.999)
2023-08-13 11:08:12.943 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 11:08:12.944 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 11:08:12.946 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 11:08:13.030 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691914091239@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:15.330 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914091239@test.com] is authenticated
2023-08-13 11:08:15.385 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691914095351@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:17.200 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914095351@test.com] is authenticated
2023-08-13 11:08:17.263 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 11:08:17.396 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691914097372@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:19.144 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914097372@test.com] is authenticated
2023-08-13 11:08:19.196 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 11:08:19.215 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 11:08:19.286 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691914099263@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:20.889 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914100871@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:22.617 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914099263@test.com] is authenticated
2023-08-13 11:08:22.737 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914100871@test.com] is authenticated
2023-08-13 11:08:22.780 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 11:08:22.794 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 11:08:22.847 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691914102819@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:24.458 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914102819@test.com] is authenticated
2023-08-13 11:08:24.482 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691914104466@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:26.193 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914104466@test.com] is authenticated
2023-08-13 11:08:26.219 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:08:26.273 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691914106259@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:28.041 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914106259@test.com] is authenticated
2023-08-13 11:08:28.065 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:08:28.138 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:08:28.139 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 11:08:28.151 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:08:28.180 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691914108163@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:29.792 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691914109777@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:32.538 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914109777@test.com] is authenticated
2023-08-13 11:08:32.563 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 11:08:32.612 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:08:32.641 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914112623@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:34.384 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914112623@test.com] is authenticated
2023-08-13 11:08:34.411 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691914114389
2023-08-13 11:08:34.415 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691914114389 was not found
2023-08-13 11:08:34.450 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691914114428@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:36.238 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914114428@test.com] is authenticated
2023-08-13 11:08:36.257 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914116243@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:37.968 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914116243@test.com] is authenticated
2023-08-13 11:08:37.991 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 11:08:38.042 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 11:08:38.125 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:08:38.125 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 11:08:38.128 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:08:38.158 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914118141@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:39.903 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914118141@test.com] is authenticated
2023-08-13 11:08:39.919 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691914119908@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:41.554 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914119908@test.com] is authenticated
2023-08-13 11:08:41.573 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:08:41.629 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:08:41.642 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 11:08:41.673 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691914121655@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:43.326 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914121655@test.com] is authenticated
2023-08-13 11:08:43.343 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691914123333@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:45.344 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914123333@test.com] is authenticated
2023-08-13 11:08:45.365 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 11:08:45.415 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 11:08:45.448 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:08:45.448 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 11:08:45.450 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:08:45.482 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691914125465@test.com, role: ROLE_ORGANISATION
2023-08-13 11:08:47.096 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914127081@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:48.820 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914127081@test.com] is authenticated
2023-08-13 11:08:48.846 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 11:08:48.899 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691914128886@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:08:50.664 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914128886@test.com] is authenticated
2023-08-13 11:08:50.683 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:09:25.188 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:09:25.193 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 11:09:25.195 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 11:11:13.641 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45392 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 11:11:13.646 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 11:11:15.572 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 11:11:15.835 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 244 ms. Found 13 JPA repository interfaces.
2023-08-13 11:11:16.869 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 11:11:16.886 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 11:11:16.886 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 11:11:17.076 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 11:11:17.077 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3029 ms
2023-08-13 11:11:17.270 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 11:11:17.494 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23c7cb18
2023-08-13 11:11:17.500 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 11:11:17.827 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 11:11:18.021 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 11:11:18.135 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 11:11:18.502 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 11:11:18.505 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 11:11:18.508 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 11:11:18.530 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 11:11:18.545 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 11:11:18.808 [main] INFO  liquibase.changelog - Table category created
2023-08-13 11:11:18.812 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 18ms
2023-08-13 11:11:18.836 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 11:11:18.839 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 15ms
2023-08-13 11:11:18.896 [main] INFO  liquibase.changelog - Table event created
2023-08-13 11:11:18.900 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 53ms
2023-08-13 11:11:18.911 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 11:11:18.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:11:18.930 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 11:11:18.934 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:11:18.950 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 11:11:18.953 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:11:18.968 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 11:11:18.972 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:11:18.987 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 11:11:18.990 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:11:19.009 [main] INFO  liquibase.changelog - Table label created
2023-08-13 11:11:19.012 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:11:19.033 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 11:11:19.036 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 17ms
2023-08-13 11:11:19.048 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 11:11:19.052 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:11:19.070 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 11:11:19.074 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 16ms
2023-08-13 11:11:19.094 [main] INFO  liquibase.changelog - Table review created
2023-08-13 11:11:19.099 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 15ms
2023-08-13 11:11:19.119 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 11:11:19.122 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 15ms
2023-08-13 11:11:19.148 [main] INFO  liquibase.changelog - Table users created
2023-08-13 11:11:19.155 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 24ms
2023-08-13 11:11:19.171 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 11:11:19.174 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:11:19.187 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 11:11:19.190 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:11:19.203 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 11:11:19.206 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:11:19.218 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 11:11:19.220 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:11:19.232 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 11:11:19.234 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:11:19.242 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 11:11:19.245 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:11:19.255 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 11:11:19.257 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:11:19.271 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 11:11:19.276 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:11:19.292 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 11:11:19.298 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:11:19.315 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 11:11:19.320 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:11:19.337 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 11:11:19.341 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:11:19.360 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 11:11:19.365 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:11:19.379 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 11:11:19.383 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:11:19.396 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 11:11:19.400 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:11:19.408 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 11:11:19.412 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:11:19.421 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 11:11:19.423 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:11:19.433 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 11:11:19.435 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:11:19.446 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 11:11:19.449 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:11:19.458 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 11:11:19.462 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:11:19.474 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 11:11:19.478 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:11:19.492 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 11:11:19.496 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:11:19.508 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 11:11:19.512 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:11:19.524 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 11:11:19.528 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:11:19.543 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 11:11:19.549 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:11:19.568 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 11:11:19.571 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:11:19.583 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 11:11:19.587 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:11:19.597 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 11:11:19.600 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:11:19.609 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 11:11:19.613 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:11:19.630 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:11:19.632 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-13 11:11:19.645 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:11:19.648 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-13 11:11:19.662 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:11:19.665 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 11:11:19.674 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 11:11:19.800 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 11:11:19.904 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 11:11:20.307 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 11:11:21.752 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 11:11:21.762 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:11:26.964 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 11:11:28.117 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 11:11:28.946 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 11:11:31.348 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cb0ab1e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bb500fa, org.springframework.security.web.context.SecurityContextHolderFilter@1bd051c4, org.springframework.security.web.header.HeaderWriterFilter@43759560, org.springframework.web.filter.CorsFilter@79d538c1, org.springframework.security.web.authentication.logout.LogoutFilter@5eb20abb, com.ringo.auth.JwtFilter@816272a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3be76b8d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@555bb408, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@939f06, org.springframework.security.web.session.SessionManagementFilter@77cfbbba, org.springframework.security.web.access.ExceptionTranslationFilter@27ad844d, org.springframework.security.web.access.intercept.AuthorizationFilter@7a00446]
2023-08-13 11:11:31.777 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 11:11:31.791 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.739 seconds (process running for 19.45)
2023-08-13 11:11:48.215 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 11:11:48.216 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 11:11:48.218 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 11:11:48.299 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691914306435@test.com, role: ROLE_ORGANISATION
2023-08-13 11:11:50.677 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914306435@test.com] is authenticated
2023-08-13 11:11:50.745 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691914310700@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:11:52.434 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914310700@test.com] is authenticated
2023-08-13 11:11:52.491 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 11:11:52.638 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691914312605@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:11:54.295 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914312605@test.com] is authenticated
2023-08-13 11:11:54.352 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 11:11:54.373 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 11:11:54.462 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691914314432@test.com, role: ROLE_ORGANISATION
2023-08-13 11:11:56.060 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914316040@test.com, role: ROLE_ORGANISATION
2023-08-13 11:11:57.868 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914314432@test.com] is authenticated
2023-08-13 11:11:57.981 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914316040@test.com] is authenticated
2023-08-13 11:11:58.019 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 11:11:58.034 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 11:11:58.087 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691914318065@test.com, role: ROLE_ORGANISATION
2023-08-13 11:11:59.914 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914318065@test.com] is authenticated
2023-08-13 11:11:59.945 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691914319924@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:01.651 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914319924@test.com] is authenticated
2023-08-13 11:12:01.680 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:12:01.732 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691914321719@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:03.416 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914321719@test.com] is authenticated
2023-08-13 11:12:03.445 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 11:12:03.521 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:12:03.521 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 11:12:03.533 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:12:03.583 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691914323562@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:05.338 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691914325324@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:06.983 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914325324@test.com] is authenticated
2023-08-13 11:12:07.011 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 11:12:07.070 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:12:07.109 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914327086@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:08.726 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914327086@test.com] is authenticated
2023-08-13 11:12:08.752 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691914328732
2023-08-13 11:12:08.757 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691914328732 was not found
2023-08-13 11:12:08.786 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914328769@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:10.455 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914328769@test.com] is authenticated
2023-08-13 11:12:10.477 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691914330461@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:12.192 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914330461@test.com] is authenticated
2023-08-13 11:12:12.215 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 11:12:12.269 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 11:12:12.356 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:12:12.356 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 11:12:12.358 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:12:12.391 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914332373@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:13.988 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914332373@test.com] is authenticated
2023-08-13 11:12:14.010 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691914333993@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:15.637 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914333993@test.com] is authenticated
2023-08-13 11:12:15.659 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:12:15.722 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 11:12:15.735 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 11:12:15.761 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691914335747@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:17.518 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914335747@test.com] is authenticated
2023-08-13 11:12:17.537 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691914337525@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:19.152 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914337525@test.com] is authenticated
2023-08-13 11:12:19.179 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 11:12:19.232 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 11:12:19.267 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 11:12:19.267 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 11:12:19.270 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 11:12:19.301 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914339286@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:20.912 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691914340897@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:22.542 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914340897@test.com] is authenticated
2023-08-13 11:12:22.563 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 11:12:22.615 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691914342604@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:24.379 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914342604@test.com] is authenticated
2023-08-13 11:12:24.394 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 11:12:24.434 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914344419@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:26.040 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 11:12:26.147 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914344419@test.com] is authenticated
2023-08-13 11:12:26.215 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691914346202@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:27.964 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914346202@test.com] is authenticated
2023-08-13 11:12:28.290 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 11:12:28.393 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914346202@test.com] is authenticated
2023-08-13 11:12:28.461 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914348449@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:30.165 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914348449@test.com] is authenticated
2023-08-13 11:12:30.220 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691914350208@test.com, role: ROLE_PARTICIPANT
2023-08-13 11:12:31.952 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914350208@test.com] is authenticated
2023-08-13 11:12:32.275 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 11:12:32.379 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691914350208@test.com] is authenticated
2023-08-13 11:12:32.441 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:109)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 11:12:32.496 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691914352480@test.com, role: ROLE_ORGANISATION
2023-08-13 11:12:34.132 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:12:34.135 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 11:12:34.138 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 11:15:01.860 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45457 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 11:15:01.865 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 11:15:03.418 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 11:15:03.619 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 189 ms. Found 13 JPA repository interfaces.
2023-08-13 11:15:04.642 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 11:15:04.659 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 11:15:04.660 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 11:15:04.839 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 11:15:04.840 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2626 ms
2023-08-13 11:15:05.007 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 11:15:05.255 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23afc725
2023-08-13 11:15:05.259 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 11:15:05.525 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 11:15:05.650 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 11:15:05.775 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 11:15:06.183 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 11:15:06.186 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 11:15:06.189 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 11:15:06.271 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 11:15:06.406 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 11:15:06.507 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 11:15:06.562 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 11:15:06.977 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 11:15:08.653 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 11:15:08.664 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:15:13.091 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 11:15:13.955 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 11:15:15.166 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 11:15:18.792 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18b9b269, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bda778a, org.springframework.security.web.context.SecurityContextHolderFilter@2169e311, org.springframework.security.web.header.HeaderWriterFilter@7c1ac3b, org.springframework.web.filter.CorsFilter@373e09c7, org.springframework.security.web.authentication.logout.LogoutFilter@119636bf, com.ringo.auth.JwtFilter@3d2a164e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7432a39e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6f88d401, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e14627b, org.springframework.security.web.session.SessionManagementFilter@4aa0b026, org.springframework.security.web.access.ExceptionTranslationFilter@2a447744, org.springframework.security.web.access.intercept.AuthorizationFilter@be706e2]
2023-08-13 11:15:19.265 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 11:15:19.279 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.053 seconds (process running for 18.891)
2023-08-13 11:15:35.655 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 11:15:35.656 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 11:15:35.659 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 11:15:35.740 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_PARTICIPANT
2023-08-13 11:16:14.930 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 11:16:29.057 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: aahusar@gmail.com] is authenticated
2023-08-13 11:16:42.059 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported
2023-08-13 11:16:48.850 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: aahusar@gmail.com
2023-08-13 11:16:48.854 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User [email: aahusar@gmail.com] is already active
2023-08-13 11:17:06.223 [http-nio-8080-exec-9] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 11:17:10.444 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:17:10.448 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 11:17:10.453 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 11:18:03.107 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45518 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 11:18:03.112 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 11:18:04.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 11:18:05.065 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 198 ms. Found 13 JPA repository interfaces.
2023-08-13 11:18:06.040 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 11:18:06.056 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 11:18:06.057 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 11:18:06.208 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 11:18:06.208 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2552 ms
2023-08-13 11:18:06.383 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 11:18:06.621 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61d2f267
2023-08-13 11:18:06.624 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 11:18:06.958 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 11:18:07.131 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 11:18:07.221 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 11:18:07.609 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 11:18:07.612 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 11:18:07.616 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 11:18:07.640 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 11:18:07.657 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 11:18:07.884 [main] INFO  liquibase.changelog - Table category created
2023-08-13 11:18:07.889 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 11:18:07.912 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 11:18:07.915 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:18:07.936 [main] INFO  liquibase.changelog - Table event created
2023-08-13 11:18:07.940 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 18ms
2023-08-13 11:18:07.950 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 11:18:07.955 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:07.971 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 11:18:07.974 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 11:18:07.989 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 11:18:07.991 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:08.001 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 11:18:08.005 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:18:08.017 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 11:18:08.020 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:08.033 [main] INFO  liquibase.changelog - Table label created
2023-08-13 11:18:08.037 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:18:08.050 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 11:18:08.055 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:18:08.066 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 11:18:08.069 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:18:08.084 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 11:18:08.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:18:08.101 [main] INFO  liquibase.changelog - Table review created
2023-08-13 11:18:08.103 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:08.116 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 11:18:08.120 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:18:08.134 [main] INFO  liquibase.changelog - Table users created
2023-08-13 11:18:08.138 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:18:08.151 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 11:18:08.154 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:08.166 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 11:18:08.170 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:08.186 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 11:18:08.190 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:18:08.209 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 11:18:08.212 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:18:08.230 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 11:18:08.235 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 14ms
2023-08-13 11:18:08.250 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 11:18:08.254 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:18:08.269 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 11:18:08.273 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 12ms
2023-08-13 11:18:08.286 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 11:18:08.290 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 11:18:08.301 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 11:18:08.304 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:18:08.312 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 11:18:08.314 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.324 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 11:18:08.326 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.336 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 11:18:08.338 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:18:08.347 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 11:18:08.350 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:18:08.359 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 11:18:08.361 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.370 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 11:18:08.372 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.380 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 11:18:08.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:18:08.393 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 11:18:08.395 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.405 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 11:18:08.407 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:18:08.415 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 11:18:08.418 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 7ms
2023-08-13 11:18:08.427 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 11:18:08.430 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:18:08.439 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 11:18:08.441 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.450 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 11:18:08.452 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.461 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 11:18:08.463 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 6ms
2023-08-13 11:18:08.473 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 11:18:08.495 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 27ms
2023-08-13 11:18:08.510 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 11:18:08.515 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 11:18:08.527 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 11:18:08.532 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 11ms
2023-08-13 11:18:08.543 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 11:18:08.546 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:18:08.557 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 11:18:08.560 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 11:18:08.581 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:18:08.585 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 18ms
2023-08-13 11:18:08.595 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:18:08.598 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-13 11:18:08.612 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 11:18:08.614 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 10ms
2023-08-13 11:18:08.624 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 11:18:08.742 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 11:18:08.812 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 11:18:09.204 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 11:18:10.518 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 11:18:10.528 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:18:14.836 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 11:18:16.110 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 11:18:17.342 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 11:18:21.117 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c1c9116, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cdf48b9, org.springframework.security.web.context.SecurityContextHolderFilter@64298cad, org.springframework.security.web.header.HeaderWriterFilter@a3ace4, org.springframework.web.filter.CorsFilter@648ec9f4, org.springframework.security.web.authentication.logout.LogoutFilter@2d87ac2b, com.ringo.auth.JwtFilter@65589d76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4aa4a3e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2203fa4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ce4f3ac, org.springframework.security.web.session.SessionManagementFilter@5a0b3704, org.springframework.security.web.access.ExceptionTranslationFilter@41496617, org.springframework.security.web.access.intercept.AuthorizationFilter@11483b6f]
2023-08-13 11:18:21.478 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 11:18:21.492 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.995 seconds (process running for 19.624)
2023-08-13 11:18:25.412 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 11:18:25.413 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 11:18:25.414 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 11:18:25.484 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_PARTICIPANT
2023-08-13 11:18:36.559 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: aahusar@gmail.com] is authenticated
2023-08-13 11:18:57.500 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: aahusar@gmail.com
2023-08-13 11:18:57.507 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Email is not verified
2023-08-13 11:19:08.403 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: aahusar@gmail.com
2023-08-13 11:19:14.578 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<com.ringo.dto.company.LabelDto>` from String value (token `JsonToken.VALUE_STRING`)
2023-08-13 11:20:30.993 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-13 11:22:17.356 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 2
2023-08-13 11:22:17.364 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Organisation#2 was not found
2023-08-13 11:22:37.903 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 11:22:37.906 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 11:22:37.909 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 13:32:27.739 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 45979 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 13:32:27.746 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 13:32:29.533 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 13:32:29.747 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 199 ms. Found 13 JPA repository interfaces.
2023-08-13 13:32:30.807 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 13:32:30.831 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 13:32:30.832 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 13:32:31.164 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 13:32:31.165 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2950 ms
2023-08-13 13:32:31.341 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 13:32:31.648 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e58f697
2023-08-13 13:32:31.651 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 13:32:31.846 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 13:32:32.039 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 13:32:32.198 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 13:32:32.664 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 13:32:32.669 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 13:32:32.671 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 13:32:32.703 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 13:32:32.714 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 13:32:32.941 [main] INFO  liquibase.changelog - Table category created
2023-08-13 13:32:32.946 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 23ms
2023-08-13 13:32:32.964 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 13:32:32.967 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:32:32.984 [main] INFO  liquibase.changelog - Table event created
2023-08-13 13:32:32.988 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 16ms
2023-08-13 13:32:33.000 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 13:32:33.003 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.018 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 13:32:33.021 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.037 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 13:32:33.041 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.053 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 13:32:33.055 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:32:33.069 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 13:32:33.071 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:32:33.085 [main] INFO  liquibase.changelog - Table label created
2023-08-13 13:32:33.088 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.101 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 13:32:33.103 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:32:33.115 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 13:32:33.118 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:32:33.137 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 13:32:33.140 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 16ms
2023-08-13 13:32:33.152 [main] INFO  liquibase.changelog - Table review created
2023-08-13 13:32:33.155 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.169 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 13:32:33.172 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.192 [main] INFO  liquibase.changelog - Table users created
2023-08-13 13:32:33.196 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 17ms
2023-08-13 13:32:33.219 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 13:32:33.223 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 17ms
2023-08-13 13:32:33.246 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 13:32:33.251 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 16ms
2023-08-13 13:32:33.298 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 13:32:33.303 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 42ms
2023-08-13 13:32:33.318 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 13:32:33.321 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:32:33.335 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 13:32:33.338 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:32:33.351 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 13:32:33.353 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:32:33.367 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 13:32:33.370 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:32:33.383 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 13:32:33.386 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.401 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 13:32:33.404 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:32:33.425 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 13:32:33.430 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 14ms
2023-08-13 13:32:33.445 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 13:32:33.450 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.467 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 13:32:33.471 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.488 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 13:32:33.493 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:32:33.512 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 13:32:33.515 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.527 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 13:32:33.530 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:32:33.541 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 13:32:33.544 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.554 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 13:32:33.557 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.569 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 13:32:33.572 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.587 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 13:32:33.591 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:32:33.603 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 13:32:33.608 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:32:33.623 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 13:32:33.628 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.645 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 13:32:33.648 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.663 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 13:32:33.667 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:32:33.684 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 13:32:33.690 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:32:33.707 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 13:32:33.711 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:32:33.724 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 13:32:33.727 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.739 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 13:32:33.741 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:32:33.753 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 13:32:33.756 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:32:33.779 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 13:32:33.782 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-13 13:32:33.796 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 13:32:33.799 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-13 13:32:33.816 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 13:32:33.819 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-13 13:32:33.834 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 13:32:33.998 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 13:32:34.100 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 13:32:34.603 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 13:32:36.290 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 13:32:36.306 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 13:32:41.669 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 13:32:42.873 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 13:32:43.715 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 13:32:46.517 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60b65a4a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@363b24aa, org.springframework.security.web.context.SecurityContextHolderFilter@7da1bf14, org.springframework.security.web.header.HeaderWriterFilter@6799243b, org.springframework.web.filter.CorsFilter@5f83b506, org.springframework.security.web.authentication.logout.LogoutFilter@6115b4a0, com.ringo.auth.JwtFilter@414b785c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d352874, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f31ff7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ebbb581, org.springframework.security.web.session.SessionManagementFilter@5194394, org.springframework.security.web.access.ExceptionTranslationFilter@68300fe2, org.springframework.security.web.access.intercept.AuthorizationFilter@5c51515f]
2023-08-13 13:32:47.026 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 13:32:47.043 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.018 seconds (process running for 21.815)
2023-08-13 13:33:50.116 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 46028 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 13:33:50.119 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 13:33:51.951 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 13:33:52.220 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 248 ms. Found 13 JPA repository interfaces.
2023-08-13 13:33:53.341 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 13:33:53.360 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 13:33:53.360 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 13:33:53.563 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 13:33:53.563 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3020 ms
2023-08-13 13:33:53.800 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 13:33:54.079 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-13 13:33:54.084 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 13:33:54.301 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 13:33:54.543 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 13:33:54.681 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 13:33:55.143 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 13:33:55.146 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 13:33:55.148 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 13:33:55.173 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 13:33:55.188 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 13:33:55.433 [main] INFO  liquibase.changelog - Table category created
2023-08-13 13:33:55.436 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 24ms
2023-08-13 13:33:55.457 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 13:33:55.460 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:33:55.513 [main] INFO  liquibase.changelog - Table event created
2023-08-13 13:33:55.516 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 49ms
2023-08-13 13:33:55.530 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 13:33:55.533 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 13:33:55.548 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 13:33:55.551 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:33:55.564 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 13:33:55.567 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:33:55.578 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 13:33:55.582 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:33:55.595 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 13:33:55.598 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:33:55.613 [main] INFO  liquibase.changelog - Table label created
2023-08-13 13:33:55.615 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:33:55.630 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 13:33:55.633 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:33:55.645 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 13:33:55.648 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:33:55.662 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 13:33:55.666 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:33:55.680 [main] INFO  liquibase.changelog - Table review created
2023-08-13 13:33:55.685 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 14ms
2023-08-13 13:33:55.709 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 13:33:55.713 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 21ms
2023-08-13 13:33:55.741 [main] INFO  liquibase.changelog - Table users created
2023-08-13 13:33:55.746 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 23ms
2023-08-13 13:33:55.773 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 13:33:55.778 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 21ms
2023-08-13 13:33:55.800 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 13:33:55.804 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 16ms
2023-08-13 13:33:55.818 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 13:33:55.822 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:33:55.837 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 13:33:55.840 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:33:55.858 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 13:33:55.861 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:33:55.875 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 13:33:55.878 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 13:33:55.899 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 13:33:55.904 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 16ms
2023-08-13 13:33:55.923 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 13:33:55.928 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 15ms
2023-08-13 13:33:55.947 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 13:33:55.951 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:33:55.972 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 13:33:55.977 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 18ms
2023-08-13 13:33:55.995 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 13:33:55.998 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:33:56.010 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 13:33:56.012 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:33:56.023 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 13:33:56.025 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:33:56.035 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 13:33:56.038 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:33:56.047 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 13:33:56.049 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 13:33:56.059 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 13:33:56.061 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 5ms
2023-08-13 13:33:56.072 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 13:33:56.075 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:33:56.085 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 13:33:56.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 6ms
2023-08-13 13:33:56.098 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 13:33:56.100 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 8ms
2023-08-13 13:33:56.110 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 13:33:56.112 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 6ms
2023-08-13 13:33:56.121 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 13:33:56.124 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:33:56.132 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 13:33:56.134 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 6ms
2023-08-13 13:33:56.143 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 13:33:56.146 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:33:56.155 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 13:33:56.158 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:33:56.169 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 13:33:56.172 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 7ms
2023-08-13 13:33:56.186 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 13:33:56.191 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 12ms
2023-08-13 13:33:56.206 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 13:33:56.210 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 11ms
2023-08-13 13:33:56.226 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 13:33:56.231 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 13ms
2023-08-13 13:33:56.263 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 13:33:56.269 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 29ms
2023-08-13 13:33:56.293 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 13:33:56.297 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 19ms
2023-08-13 13:33:56.315 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 13:33:56.318 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-13 13:33:56.332 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 13:33:56.471 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 13:33:56.610 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 13:33:57.177 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 13:33:58.805 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 13:33:58.817 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 13:34:04.026 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 13:34:04.867 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 13:34:05.850 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 13:34:10.013 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cdf48b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ce4f3ac, org.springframework.security.web.context.SecurityContextHolderFilter@6799243b, org.springframework.security.web.header.HeaderWriterFilter@2ab0114a, org.springframework.web.filter.CorsFilter@158119bf, org.springframework.security.web.authentication.logout.LogoutFilter@7c5f244c, com.ringo.auth.JwtFilter@7a213820, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2203fa4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a674645, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1497efcc, org.springframework.security.web.session.SessionManagementFilter@444d2bb6, org.springframework.security.web.access.ExceptionTranslationFilter@24d5a3b8, org.springframework.security.web.access.intercept.AuthorizationFilter@3be76b8d]
2023-08-13 13:34:10.513 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 13:34:10.529 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 21.049 seconds (process running for 21.811)
2023-08-13 13:38:40.323 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 13:38:40.326 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 13:38:40.344 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 17 ms
2023-08-13 13:38:40.516 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691923118298@test.com, role: ROLE_ORGANISATION
2023-08-13 13:38:44.008 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923118298@test.com] is authenticated
2023-08-13 13:38:44.060 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691923124031@test.com, role: ROLE_PARTICIPANT
2023-08-13 13:38:45.827 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923124031@test.com] is authenticated
2023-08-13 13:38:45.893 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 13:38:45.911 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1 was not found
2023-08-13 13:38:46.003 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691923125971@test.com, role: ROLE_ORGANISATION
2023-08-13 13:38:47.722 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691923127700@test.com, role: ROLE_ORGANISATION
2023-08-13 13:38:49.539 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923125971@test.com] is authenticated
2023-08-13 13:38:49.667 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923127700@test.com] is authenticated
2023-08-13 13:38:49.712 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 13:38:49.717 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Organisation#3 was not found
2023-08-13 13:38:49.775 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691923129747@test.com, role: ROLE_ORGANISATION
2023-08-13 13:38:51.510 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923129747@test.com] is authenticated
2023-08-13 13:38:51.534 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691923131518@test.com, role: ROLE_PARTICIPANT
2023-08-13 13:38:53.624 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923131518@test.com] is authenticated
2023-08-13 13:38:53.657 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 13:38:53.661 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation#5 was not found
2023-08-13 13:38:53.697 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691923133673@test.com, role: ROLE_ORGANISATION
2023-08-13 13:38:55.594 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691923135576@test.com, role: ROLE_PARTICIPANT
2023-08-13 13:38:57.325 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923135576@test.com] is authenticated
2023-08-13 13:38:57.363 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 7
2023-08-13 13:38:57.370 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Organisation#7 was not found
2023-08-13 13:38:57.421 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691923137386@test.com, role: ROLE_PARTICIPANT
2023-08-13 13:38:59.207 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691923137386@test.com] is authenticated
2023-08-13 13:38:59.234 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691923139214
2023-08-13 13:38:59.238 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691923139214 was not found
2023-08-13 13:38:59.272 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691923139252@test.com, role: ROLE_ORGANISATION
2023-08-13 14:21:09.340 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 46780 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:21:09.346 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:21:11.405 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:21:11.666 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 245 ms. Found 13 JPA repository interfaces.
2023-08-13 14:21:12.928 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:21:12.950 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:21:12.950 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:21:13.381 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:21:13.381 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3583 ms
2023-08-13 14:21:13.565 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:21:13.870 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f883d90
2023-08-13 14:21:13.876 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:21:14.224 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:21:14.400 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:21:14.515 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:21:14.978 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:21:14.981 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:21:14.984 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:21:15.014 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 14:21:15.027 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:21:15.230 [main] INFO  liquibase.changelog - Table category created
2023-08-13 14:21:15.234 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 18ms
2023-08-13 14:21:15.256 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 14:21:15.259 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:21:15.276 [main] INFO  liquibase.changelog - Table event created
2023-08-13 14:21:15.279 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 15ms
2023-08-13 14:21:15.291 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 14:21:15.293 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:21:15.308 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 14:21:15.311 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:21:15.324 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 14:21:15.326 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.338 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 14:21:15.341 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.352 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 14:21:15.356 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.372 [main] INFO  liquibase.changelog - Table label created
2023-08-13 14:21:15.375 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:21:15.389 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 14:21:15.392 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:21:15.406 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 14:21:15.408 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.426 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 14:21:15.428 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 15ms
2023-08-13 14:21:15.440 [main] INFO  liquibase.changelog - Table review created
2023-08-13 14:21:15.443 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.456 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 14:21:15.458 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.473 [main] INFO  liquibase.changelog - Table users created
2023-08-13 14:21:15.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:21:15.489 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 14:21:15.492 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:21:15.502 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 14:21:15.507 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:21:15.522 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 14:21:15.526 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:21:15.542 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 14:21:15.546 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:21:15.562 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 14:21:15.565 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:21:15.580 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 14:21:15.583 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.599 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 14:21:15.602 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.617 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 14:21:15.621 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.631 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 14:21:15.634 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.646 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 14:21:15.648 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.660 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 14:21:15.662 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:21:15.674 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 14:21:15.676 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:21:15.685 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 14:21:15.689 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:21:15.699 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 14:21:15.702 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.712 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 14:21:15.714 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:21:15.724 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 14:21:15.727 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.738 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 14:21:15.741 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:21:15.751 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 14:21:15.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:21:15.765 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 14:21:15.768 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.780 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 14:21:15.783 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:21:15.794 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 14:21:15.797 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.810 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 14:21:15.813 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.826 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 14:21:15.829 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:21:15.843 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 14:21:15.881 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 44ms
2023-08-13 14:21:15.897 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 14:21:15.901 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:21:15.914 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 14:21:15.917 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:21:15.930 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 14:21:15.932 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:21:15.944 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 14:21:15.946 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:21:15.966 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:21:15.968 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 17ms
2023-08-13 14:21:15.980 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:21:15.983 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 8ms
2023-08-13 14:21:15.999 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:21:16.001 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 14:21:16.015 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:21:16.159 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:21:16.254 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:21:16.746 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:21:18.381 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:21:18.396 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:21:23.627 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:21:24.849 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:21:25.674 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:21:28.352 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e7c780, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60b65a4a, org.springframework.security.web.context.SecurityContextHolderFilter@7fb7be26, org.springframework.security.web.header.HeaderWriterFilter@64298cad, org.springframework.web.filter.CorsFilter@34e785db, org.springframework.security.web.authentication.logout.LogoutFilter@5ad755c5, com.ringo.auth.JwtFilter@64b7719f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32eb46d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d352874, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@363b24aa, org.springframework.security.web.session.SessionManagementFilter@11c27ace, org.springframework.security.web.access.ExceptionTranslationFilter@444d2bb6, org.springframework.security.web.access.intercept.AuthorizationFilter@152e530d]
2023-08-13 14:21:28.837 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:21:28.855 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.295 seconds (process running for 21.755)
2023-08-13 14:22:14.480 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:22:14.482 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:22:14.485 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 14:22:14.608 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691925732540@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:17.824 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925732540@test.com] is authenticated
2023-08-13 14:22:17.990 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691925737969@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:19.813 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925737969@test.com] is authenticated
2023-08-13 14:22:19.893 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691925739864@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:21.748 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925739864@test.com] is authenticated
2023-08-13 14:22:21.836 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691925741801@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:23.594 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925741801@test.com] is authenticated
2023-08-13 14:22:23.673 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691925743637@test.com, role: ROLE_PARTICIPANT
2023-08-13 14:22:25.569 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925743637@test.com] is authenticated
2023-08-13 14:22:25.630 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691925745606@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:27.448 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925745606@test.com] is authenticated
2023-08-13 14:22:27.519 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691925747493@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:29.420 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925747493@test.com] is authenticated
2023-08-13 14:22:29.491 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691925749458@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:31.262 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925749458@test.com] is authenticated
2023-08-13 14:22:31.325 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691925751306@test.com, role: ROLE_ORGANISATION
2023-08-13 14:22:33.090 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925751306@test.com] is authenticated
2023-08-13 14:22:49.116 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:22:49.120 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:22:49.125 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:23:24.127 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 46838 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:23:24.130 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:23:25.879 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:23:26.208 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 311 ms. Found 13 JPA repository interfaces.
2023-08-13 14:23:27.395 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:23:27.632 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3132 ms
2023-08-13 14:23:27.855 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:23:28.195 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-13 14:23:28.201 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:23:30.820 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:23:30.916 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:23:31.389 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:23:32.807 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:23:32.820 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:23:37.463 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:23:38.644 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:23:39.830 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:23:42.447 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@555bb408, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c1c9116, org.springframework.security.web.context.SecurityContextHolderFilter@68300fe2, org.springframework.security.web.header.HeaderWriterFilter@24d5a3b8, org.springframework.web.filter.CorsFilter@6d9069ab, org.springframework.security.web.authentication.logout.LogoutFilter@686aa9c9, com.ringo.auth.JwtFilter@3e0575a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6799243b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4aa4a3e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cdf48b9, org.springframework.security.web.session.SessionManagementFilter@544b0bd2, org.springframework.security.web.access.ExceptionTranslationFilter@6998743e, org.springframework.security.web.access.intercept.AuthorizationFilter@1bd051c4]
2023-08-13 14:23:42.958 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:23:42.976 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.48 seconds (process running for 20.201)
2023-08-13 14:23:42.997 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:23:43.000 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:23:43.003 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:23:54.229 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 46851 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:23:54.235 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:23:55.727 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:23:56.006 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 260 ms. Found 13 JPA repository interfaces.
2023-08-13 14:23:57.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:23:57.033 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:23:57.033 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:23:57.203 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:23:57.204 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2614 ms
2023-08-13 14:23:57.384 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:23:57.607 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2d44f3
2023-08-13 14:23:57.611 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:23:57.798 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:23:57.967 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:23:58.092 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:23:58.489 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:23:58.492 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:23:58.494 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:23:58.602 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:23:58.754 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:23:58.872 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:23:58.925 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:23:59.308 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:24:00.614 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:24:00.623 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:24:05.639 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:24:06.217 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:24:07.026 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:24:09.603 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22b4ceb9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18b9b269, org.springframework.security.web.context.SecurityContextHolderFilter@1a35041, org.springframework.security.web.header.HeaderWriterFilter@69d2cffb, org.springframework.web.filter.CorsFilter@147a8d7c, org.springframework.security.web.authentication.logout.LogoutFilter@11f505e8, com.ringo.auth.JwtFilter@44bbf5e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e07469a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7432a39e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bda778a, org.springframework.security.web.session.SessionManagementFilter@1d67a1ad, org.springframework.security.web.access.ExceptionTranslationFilter@422179c7, org.springframework.security.web.access.intercept.AuthorizationFilter@720907c9]
2023-08-13 14:24:10.123 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:24:10.137 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.547 seconds (process running for 17.209)
2023-08-13 14:24:30.462 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:24:30.462 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:24:30.464 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 14:24:30.571 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691925868756@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:33.285 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925868756@test.com] is authenticated
2023-08-13 14:24:33.407 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:33.480 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691925873454@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:35.565 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925873454@test.com] is authenticated
2023-08-13 14:24:35.605 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:35.648 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691925875622@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:37.637 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925875622@test.com] is authenticated
2023-08-13 14:24:37.674 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:37.726 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691925877692@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:39.517 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925877692@test.com] is authenticated
2023-08-13 14:24:39.543 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:39.585 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691925879556@test.com, role: ROLE_PARTICIPANT
2023-08-13 14:24:41.450 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925879556@test.com] is authenticated
2023-08-13 14:24:41.476 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:41.513 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691925881489@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:43.348 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925881489@test.com] is authenticated
2023-08-13 14:24:43.376 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:43.416 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691925883391@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:45.505 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925883391@test.com] is authenticated
2023-08-13 14:24:45.530 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:45.564 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691925885542@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:47.653 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925885542@test.com] is authenticated
2023-08-13 14:24:47.685 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:24:47.720 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691925887697@test.com, role: ROLE_ORGANISATION
2023-08-13 14:24:49.408 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691925887697@test.com] is authenticated
2023-08-13 14:24:49.431 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:27:33.717 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:27:33.723 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:27:33.726 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:27:47.540 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 46930 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:27:47.545 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:27:49.132 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:27:49.346 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 199 ms. Found 13 JPA repository interfaces.
2023-08-13 14:27:50.364 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:27:50.379 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:27:50.380 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:27:50.566 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:27:50.567 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2662 ms
2023-08-13 14:27:50.761 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:27:51.004 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46d1b59
2023-08-13 14:27:51.008 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:27:51.340 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:27:51.551 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:27:51.685 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:27:52.079 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:27:52.083 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:27:52.085 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:27:52.111 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 14:27:52.127 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:27:52.358 [main] INFO  liquibase.changelog - Table category created
2023-08-13 14:27:52.361 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 16ms
2023-08-13 14:27:52.381 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 14:27:52.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:27:52.408 [main] INFO  liquibase.changelog - Table event created
2023-08-13 14:27:52.411 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 18ms
2023-08-13 14:27:52.424 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 14:27:52.427 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:27:52.444 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 14:27:52.447 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:27:52.460 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 14:27:52.462 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:27:52.473 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 14:27:52.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:27:52.486 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 14:27:52.489 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:27:52.501 [main] INFO  liquibase.changelog - Table label created
2023-08-13 14:27:52.505 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:27:52.517 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 14:27:52.521 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:27:52.531 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 14:27:52.533 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:27:52.551 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 14:27:52.555 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 14ms
2023-08-13 14:27:52.567 [main] INFO  liquibase.changelog - Table review created
2023-08-13 14:27:52.571 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:27:52.606 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 14:27:52.609 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:27:52.628 [main] INFO  liquibase.changelog - Table users created
2023-08-13 14:27:52.632 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 17ms
2023-08-13 14:27:52.650 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 14:27:52.654 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:27:52.669 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 14:27:52.672 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:27:52.688 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 14:27:52.691 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:27:52.707 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 14:27:52.709 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:27:52.722 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 14:27:52.724 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:27:52.734 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 14:27:52.738 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:27:52.747 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 14:27:52.750 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:27:52.762 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 14:27:52.764 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:27:52.774 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 14:27:52.777 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:27:52.785 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 14:27:52.789 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:27:52.797 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 14:27:52.799 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:27:52.807 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 14:27:52.810 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:27:52.818 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 14:27:52.820 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:27:52.829 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 14:27:52.831 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:27:52.839 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 14:27:52.841 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 5ms
2023-08-13 14:27:52.850 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 14:27:52.853 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:27:52.862 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 14:27:52.864 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:27:52.875 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 14:27:52.877 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:27:52.888 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 14:27:52.891 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:27:52.900 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 14:27:52.905 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:27:52.916 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 14:27:52.920 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:27:52.933 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 14:27:52.936 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:27:52.948 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 14:27:52.952 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:27:52.966 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 14:27:52.971 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:27:52.986 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 14:27:52.991 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:27:53.007 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 14:27:53.010 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:27:53.022 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 14:27:53.024 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:27:53.033 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 14:27:53.036 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:27:53.058 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:27:53.061 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-13 14:27:53.073 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:27:53.076 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 14:27:53.091 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:27:53.093 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 14:27:53.107 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:27:53.246 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:27:53.313 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:27:53.701 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:27:54.979 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:27:54.989 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:27:59.884 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:28:00.703 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:28:01.567 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:28:03.946 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@555bb408, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c1c9116, org.springframework.security.web.context.SecurityContextHolderFilter@68300fe2, org.springframework.security.web.header.HeaderWriterFilter@24d5a3b8, org.springframework.web.filter.CorsFilter@6d9069ab, org.springframework.security.web.authentication.logout.LogoutFilter@686aa9c9, com.ringo.auth.JwtFilter@3e0575a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6799243b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4aa4a3e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cdf48b9, org.springframework.security.web.session.SessionManagementFilter@544b0bd2, org.springframework.security.web.access.ExceptionTranslationFilter@6998743e, org.springframework.security.web.access.intercept.AuthorizationFilter@1bd051c4]
2023-08-13 14:28:04.371 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:28:04.385 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.451 seconds (process running for 18.128)
2023-08-13 14:28:23.621 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:28:23.622 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:28:23.625 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 14:28:23.708 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691926101523@test.com, role: ROLE_ORGANISATION
2023-08-13 14:28:26.289 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926101523@test.com] is authenticated
2023-08-13 14:29:08.376 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:29:08.384 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:29:08.395 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:31:35.570 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 46987 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:31:35.574 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:31:37.259 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:31:37.465 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 192 ms. Found 13 JPA repository interfaces.
2023-08-13 14:31:38.581 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:31:38.602 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:31:38.603 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:31:38.789 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:31:38.790 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2817 ms
2023-08-13 14:31:38.981 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:31:39.220 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4586a8aa
2023-08-13 14:31:39.225 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:31:39.605 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:31:39.792 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:31:39.907 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:31:40.361 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:31:40.366 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:31:40.369 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:31:40.437 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 14:31:40.468 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:31:40.723 [main] INFO  liquibase.changelog - Table category created
2023-08-13 14:31:40.726 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 17ms
2023-08-13 14:31:40.743 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 14:31:40.745 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:40.764 [main] INFO  liquibase.changelog - Table event created
2023-08-13 14:31:40.768 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 15ms
2023-08-13 14:31:40.779 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 14:31:40.783 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:40.797 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 14:31:40.801 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:31:40.836 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 14:31:40.839 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 13ms
2023-08-13 14:31:40.851 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 14:31:40.854 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:40.866 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 14:31:40.868 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:40.881 [main] INFO  liquibase.changelog - Table label created
2023-08-13 14:31:40.884 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:31:40.897 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 14:31:40.900 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:31:40.912 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 14:31:40.915 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:40.931 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 14:31:40.935 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 14ms
2023-08-13 14:31:40.949 [main] INFO  liquibase.changelog - Table review created
2023-08-13 14:31:40.952 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:31:40.967 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 14:31:40.969 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:31:40.990 [main] INFO  liquibase.changelog - Table users created
2023-08-13 14:31:40.994 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 18ms
2023-08-13 14:31:41.012 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 14:31:41.017 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 15ms
2023-08-13 14:31:41.034 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 14:31:41.037 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:31:41.053 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 14:31:41.056 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 12ms
2023-08-13 14:31:41.075 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 14:31:41.079 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 15ms
2023-08-13 14:31:41.097 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 14:31:41.101 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 11ms
2023-08-13 14:31:41.112 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 14:31:41.116 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.128 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 14:31:41.133 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:31:41.144 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 14:31:41.147 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:41.159 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 14:31:41.161 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:31:41.172 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 14:31:41.175 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:41.185 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 14:31:41.187 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:41.197 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 14:31:41.201 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.209 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 14:31:41.211 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:31:41.221 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 14:31:41.223 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:31:41.234 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 14:31:41.237 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.245 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 14:31:41.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:31:41.255 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 14:31:41.257 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:31:41.266 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 14:31:41.268 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 6ms
2023-08-13 14:31:41.278 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 14:31:41.282 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.294 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 14:31:41.297 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.308 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 14:31:41.312 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:41.324 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 14:31:41.326 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 14:31:41.339 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 14:31:41.342 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.355 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 14:31:41.358 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:31:41.373 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 14:31:41.376 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 14:31:41.389 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 14:31:41.392 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 14:31:41.405 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 14:31:41.407 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:41.418 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 14:31:41.421 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 14:31:41.438 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:31:41.441 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 16ms
2023-08-13 14:31:41.452 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:31:41.455 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 14:31:41.469 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 14:31:41.472 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 14:31:41.483 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:31:41.605 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:31:41.695 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:31:42.115 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:31:43.480 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:31:43.493 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:31:48.751 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:31:50.129 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:31:51.017 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:31:53.430 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67b9b79c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62418263, org.springframework.security.web.context.SecurityContextHolderFilter@3325afbc, org.springframework.security.web.header.HeaderWriterFilter@5c4e96ec, org.springframework.web.filter.CorsFilter@53251e03, org.springframework.security.web.authentication.logout.LogoutFilter@a22be4c, com.ringo.auth.JwtFilter@71669835, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@544b0bd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a0b3704, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bd051c4, org.springframework.security.web.session.SessionManagementFilter@23abf9c9, org.springframework.security.web.access.ExceptionTranslationFilter@7ec16640, org.springframework.security.web.access.intercept.AuthorizationFilter@7c5f244c]
2023-08-13 14:31:53.864 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:31:53.879 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.909 seconds (process running for 19.574)
2023-08-13 14:32:26.677 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:32:26.678 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:32:26.685 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2023-08-13 14:32:26.819 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691926344665@test.com, role: ROLE_ORGANISATION
2023-08-13 14:32:29.467 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926344665@test.com] is authenticated
2023-08-13 14:32:37.001 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:32:37.006 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:32:37.014 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:34:14.529 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47053 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:34:14.533 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:34:16.188 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:34:16.422 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 218 ms. Found 13 JPA repository interfaces.
2023-08-13 14:34:17.436 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:34:17.451 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:34:17.452 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:34:17.622 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:34:17.623 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2682 ms
2023-08-13 14:34:17.830 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:34:18.082 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c34402
2023-08-13 14:34:18.101 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:34:18.274 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:34:18.448 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:34:18.597 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:34:19.010 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:34:19.013 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:34:19.015 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:34:19.119 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:34:19.265 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:34:19.392 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:34:19.461 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:34:19.861 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:34:21.190 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:34:21.201 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:34:25.430 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:34:26.664 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:34:27.472 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:34:31.255 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@198fb504, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57f1cb96, org.springframework.security.web.context.SecurityContextHolderFilter@1b406bc2, org.springframework.security.web.header.HeaderWriterFilter@6dc82d99, org.springframework.web.filter.CorsFilter@373e09c7, org.springframework.security.web.authentication.logout.LogoutFilter@228a6823, com.ringo.auth.JwtFilter@3d2a164e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5119e01a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73536bcc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@274b3fc6, org.springframework.security.web.session.SessionManagementFilter@17778985, org.springframework.security.web.access.ExceptionTranslationFilter@315139e2, org.springframework.security.web.access.intercept.AuthorizationFilter@37df3dee]
2023-08-13 14:34:31.684 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:34:31.697 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.901 seconds (process running for 18.756)
2023-08-13 14:34:53.456 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:34:53.456 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:34:53.458 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 14:34:53.545 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691926491492@test.com, role: ROLE_ORGANISATION
2023-08-13 14:34:55.979 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926491492@test.com] is authenticated
2023-08-13 14:34:56.108 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:34:56.180 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691926496157@test.com, role: ROLE_ORGANISATION
2023-08-13 14:34:57.895 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926496157@test.com] is authenticated
2023-08-13 14:34:57.927 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:34:57.966 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691926497941@test.com, role: ROLE_ORGANISATION
2023-08-13 14:34:59.668 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926497941@test.com] is authenticated
2023-08-13 14:34:59.696 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:34:59.734 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691926499710@test.com, role: ROLE_ORGANISATION
2023-08-13 14:35:01.385 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926499710@test.com] is authenticated
2023-08-13 14:35:01.410 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:35:01.468 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691926501430@test.com, role: ROLE_PARTICIPANT
2023-08-13 14:35:03.180 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926501430@test.com] is authenticated
2023-08-13 14:35:03.205 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:35:03.247 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691926503220@test.com, role: ROLE_ORGANISATION
2023-08-13 14:35:05.000 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926503220@test.com] is authenticated
2023-08-13 14:35:05.024 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:35:05.062 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691926505039@test.com, role: ROLE_ORGANISATION
2023-08-13 14:35:06.823 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926505039@test.com] is authenticated
2023-08-13 14:35:06.868 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:35:06.919 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691926506887@test.com, role: ROLE_ORGANISATION
2023-08-13 14:35:08.522 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926506887@test.com] is authenticated
2023-08-13 14:35:08.552 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:35:08.595 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691926508572@test.com, role: ROLE_ORGANISATION
2023-08-13 14:35:10.191 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926508572@test.com] is authenticated
2023-08-13 14:35:11.880 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:35:11.890 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:35:11.900 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:35:27.480 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47088 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:35:27.487 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:35:29.201 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:35:29.409 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 195 ms. Found 13 JPA repository interfaces.
2023-08-13 14:35:30.409 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:35:30.423 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:35:30.424 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:35:30.584 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:35:30.586 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2654 ms
2023-08-13 14:35:30.778 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:35:31.029 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46d1b59
2023-08-13 14:35:31.033 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:35:31.246 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:35:31.415 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:35:31.575 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:35:32.096 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:35:32.101 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:35:32.105 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:35:32.223 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:35:32.443 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:35:32.571 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:35:32.643 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:35:33.154 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:35:34.544 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:35:34.552 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:35:39.572 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:35:40.691 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:35:41.828 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:35:44.152 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a35041, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2169e311, org.springframework.security.web.context.SecurityContextHolderFilter@23497c5e, org.springframework.security.web.header.HeaderWriterFilter@1eea09a4, org.springframework.web.filter.CorsFilter@5a36a405, org.springframework.security.web.authentication.logout.LogoutFilter@32e8c3c3, com.ringo.auth.JwtFilter@1c74eeb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@315139e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50b1aea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e07469a, org.springframework.security.web.session.SessionManagementFilter@1fe24f79, org.springframework.security.web.access.ExceptionTranslationFilter@472c5608, org.springframework.security.web.access.intercept.AuthorizationFilter@1d67a1ad]
2023-08-13 14:35:44.561 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:35:44.574 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.932 seconds (process running for 18.604)
2023-08-13 14:36:25.159 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:36:25.160 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:36:25.162 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 14:36:25.246 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691926583220@test.com, role: ROLE_ORGANISATION
2023-08-13 14:36:27.568 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691926583220@test.com] is authenticated
2023-08-13 14:36:37.781 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:36:37.785 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:36:37.788 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:40:56.509 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47204 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:40:56.514 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:40:58.112 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:40:58.327 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 201 ms. Found 13 JPA repository interfaces.
2023-08-13 14:40:59.422 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:40:59.448 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:40:59.449 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:40:59.669 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:40:59.670 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2782 ms
2023-08-13 14:40:59.854 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:41:00.106 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46d1b59
2023-08-13 14:41:00.110 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:41:00.458 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:41:00.605 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:41:00.709 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:41:01.119 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:41:01.122 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:41:01.124 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:41:01.205 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:41:01.340 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:41:01.475 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:41:01.546 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:41:01.947 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:41:03.288 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:41:03.298 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:41:07.954 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:41:08.849 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:41:09.718 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:41:12.858 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a35041, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2169e311, org.springframework.security.web.context.SecurityContextHolderFilter@23497c5e, org.springframework.security.web.header.HeaderWriterFilter@1eea09a4, org.springframework.web.filter.CorsFilter@5a36a405, org.springframework.security.web.authentication.logout.LogoutFilter@32e8c3c3, com.ringo.auth.JwtFilter@1c74eeb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@315139e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50b1aea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e07469a, org.springframework.security.web.session.SessionManagementFilter@1fe24f79, org.springframework.security.web.access.ExceptionTranslationFilter@472c5608, org.springframework.security.web.access.intercept.AuthorizationFilter@1d67a1ad]
2023-08-13 14:41:13.278 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:41:13.293 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.492 seconds (process running for 18.158)
2023-08-13 14:41:16.603 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:41:16.606 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:41:16.611 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:41:20.936 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47221 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:41:20.941 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:41:22.780 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:41:23.027 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 233 ms. Found 13 JPA repository interfaces.
2023-08-13 14:41:24.174 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:41:24.195 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:41:24.196 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:41:24.408 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:41:24.409 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3023 ms
2023-08-13 14:41:24.652 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:41:24.923 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2d44f3
2023-08-13 14:41:24.931 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:41:25.117 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:41:25.311 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:41:25.469 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:41:25.931 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:41:25.935 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:41:25.939 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:41:26.039 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:41:26.204 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:41:26.369 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:41:26.446 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:41:26.985 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:41:28.577 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:41:28.586 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:41:33.518 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:41:34.358 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:41:35.163 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:41:37.417 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22b4ceb9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18b9b269, org.springframework.security.web.context.SecurityContextHolderFilter@1a35041, org.springframework.security.web.header.HeaderWriterFilter@69d2cffb, org.springframework.web.filter.CorsFilter@147a8d7c, org.springframework.security.web.authentication.logout.LogoutFilter@11f505e8, com.ringo.auth.JwtFilter@44bbf5e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e07469a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7432a39e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bda778a, org.springframework.security.web.session.SessionManagementFilter@1d67a1ad, org.springframework.security.web.access.ExceptionTranslationFilter@422179c7, org.springframework.security.web.access.intercept.AuthorizationFilter@720907c9]
2023-08-13 14:41:37.934 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:41:37.949 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.682 seconds (process running for 18.609)
2023-08-13 14:44:03.255 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:44:03.257 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:44:03.269 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 12 ms
2023-08-13 14:44:03.422 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691927041201@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:05.902 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927041201@test.com] is authenticated
2023-08-13 14:44:15.684 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:15.767 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691927055741@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:17.667 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927055741@test.com] is authenticated
2023-08-13 14:44:17.709 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:17.746 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691927057724@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:19.718 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927057724@test.com] is authenticated
2023-08-13 14:44:19.762 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:19.801 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691927059779@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:21.676 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927059779@test.com] is authenticated
2023-08-13 14:44:21.701 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:21.735 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691927061715@test.com, role: ROLE_PARTICIPANT
2023-08-13 14:44:23.473 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927061715@test.com] is authenticated
2023-08-13 14:44:23.518 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:23.549 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691927063530@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:25.150 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927063530@test.com] is authenticated
2023-08-13 14:44:25.185 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:25.223 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691927065204@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:27.014 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927065204@test.com] is authenticated
2023-08-13 14:44:27.042 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:27.078 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691927067055@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:28.661 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927067055@test.com] is authenticated
2023-08-13 14:44:28.689 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:44:28.726 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691927068706@test.com, role: ROLE_ORGANISATION
2023-08-13 14:44:30.620 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927068706@test.com] is authenticated
2023-08-13 14:44:30.644 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 14:45:40.628 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47308 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:45:40.632 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:45:42.563 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:45:42.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 253 ms. Found 13 JPA repository interfaces.
2023-08-13 14:45:43.992 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:45:44.009 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:45:44.009 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:45:44.181 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:45:44.182 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3162 ms
2023-08-13 14:45:44.395 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:45:44.650 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@85ab964
2023-08-13 14:45:44.654 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:45:44.855 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:45:45.064 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:45:45.239 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:45:45.741 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:45:45.745 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:45:45.748 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:45:45.890 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:45:46.108 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:45:46.236 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:45:46.315 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:45:46.811 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:45:48.556 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:45:48.568 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:45:54.374 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:45:55.212 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:45:56.095 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:45:58.759 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d37c176, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64b71b49, org.springframework.security.web.context.SecurityContextHolderFilter@6ad6484, org.springframework.security.web.header.HeaderWriterFilter@1b406bc2, org.springframework.web.filter.CorsFilter@20c1cb0c, org.springframework.security.web.authentication.logout.LogoutFilter@34d4aea7, com.ringo.auth.JwtFilter@3aee72d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ac1ba35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42e58f8e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d548872, org.springframework.security.web.session.SessionManagementFilter@38421084, org.springframework.security.web.access.ExceptionTranslationFilter@2c49bc22, org.springframework.security.web.access.intercept.AuthorizationFilter@72bf66c7]
2023-08-13 14:45:59.336 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:45:59.356 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.34 seconds (process running for 20.092)
2023-08-13 14:46:24.857 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:46:24.858 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:46:24.860 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 14:46:24.944 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691927182785@test.com, role: ROLE_ORGANISATION
2023-08-13 14:46:27.317 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927182785@test.com] is authenticated
2023-08-13 14:55:37.774 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47478 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:55:37.778 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:55:39.281 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:55:39.486 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 191 ms. Found 13 JPA repository interfaces.
2023-08-13 14:55:40.420 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:55:40.436 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:55:40.436 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:55:40.596 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:55:40.597 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2518 ms
2023-08-13 14:55:40.765 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:55:40.969 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@49cb5030
2023-08-13 14:55:40.972 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:55:41.145 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:55:41.308 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:55:41.445 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:55:41.862 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:55:41.866 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:55:41.869 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:55:41.957 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:55:42.103 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:55:42.227 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:55:42.294 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:55:42.745 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:55:44.319 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:55:44.333 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:55:49.040 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:55:49.660 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:55:50.562 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:55:53.019 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eb82c04, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@720907c9, org.springframework.security.web.context.SecurityContextHolderFilter@2f815a12, org.springframework.security.web.header.HeaderWriterFilter@6bd5101f, org.springframework.web.filter.CorsFilter@76e56b17, org.springframework.security.web.authentication.logout.LogoutFilter@2288342c, com.ringo.auth.JwtFilter@38d1c7d2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4aa0b026, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24d7df03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@be706e2, org.springframework.security.web.session.SessionManagementFilter@2e4382e5, org.springframework.security.web.access.ExceptionTranslationFilter@5119e01a, org.springframework.security.web.access.intercept.AuthorizationFilter@64b71b49]
2023-08-13 14:55:53.471 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:55:53.484 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.285 seconds (process running for 17.116)
2023-08-13 14:56:13.897 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:56:13.898 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:56:13.901 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 14:56:13.984 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691927771879@test.com, role: ROLE_ORGANISATION
2023-08-13 14:56:16.420 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927771879@test.com] is authenticated
2023-08-13 14:56:34.388 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691927792436@test.com, role: ROLE_ORGANISATION
2023-08-13 14:56:36.324 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927792436@test.com] is authenticated
2023-08-13 14:56:56.841 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:56:56.847 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 14:56:56.852 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 14:57:02.937 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47500 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 14:57:02.941 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 14:57:04.722 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 14:57:04.981 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 235 ms. Found 13 JPA repository interfaces.
2023-08-13 14:57:06.111 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 14:57:06.130 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 14:57:06.131 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 14:57:06.346 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 14:57:06.346 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2995 ms
2023-08-13 14:57:06.591 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 14:57:06.933 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-13 14:57:06.938 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 14:57:07.159 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 14:57:07.347 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 14:57:07.500 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 14:57:07.983 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 14:57:07.987 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 14:57:07.991 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 14:57:08.096 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 14:57:08.260 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 14:57:08.403 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 14:57:08.474 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 14:57:08.968 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 14:57:10.502 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 14:57:10.514 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 14:57:15.831 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 14:57:16.751 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 14:57:17.564 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 14:57:20.263 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e07469a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7432a39e, org.springframework.security.web.context.SecurityContextHolderFilter@315139e2, org.springframework.security.web.header.HeaderWriterFilter@53279691, org.springframework.web.filter.CorsFilter@76320633, org.springframework.security.web.authentication.logout.LogoutFilter@6ad6484, com.ringo.auth.JwtFilter@41843b88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dc82d99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28e6f5c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f88d401, org.springframework.security.web.session.SessionManagementFilter@38f183e9, org.springframework.security.web.access.ExceptionTranslationFilter@1eea09a4, org.springframework.security.web.access.intercept.AuthorizationFilter@24d7df03]
2023-08-13 14:57:20.812 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 14:57:20.832 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.544 seconds (process running for 19.409)
2023-08-13 14:57:48.306 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 14:57:48.307 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 14:57:48.310 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 14:57:48.415 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691927866325@test.com, role: ROLE_ORGANISATION
2023-08-13 14:58:06.609 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691927866325@test.com] is authenticated
2023-08-13 15:01:03.790 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47584 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:01:03.794 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:01:05.607 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:01:05.853 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 228 ms. Found 13 JPA repository interfaces.
2023-08-13 15:01:07.006 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:01:07.025 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:01:07.026 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:01:07.238 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:01:07.239 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3046 ms
2023-08-13 15:01:07.464 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:01:07.755 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6481dce5
2023-08-13 15:01:07.759 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:01:07.966 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:01:08.178 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:01:08.325 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:01:08.749 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:01:08.753 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:01:08.756 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:01:08.782 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 15:01:08.797 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:01:09.084 [main] INFO  liquibase.changelog - Table category created
2023-08-13 15:01:09.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 15ms
2023-08-13 15:01:09.107 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 15:01:09.112 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 13ms
2023-08-13 15:01:09.134 [main] INFO  liquibase.changelog - Table event created
2023-08-13 15:01:09.137 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 18ms
2023-08-13 15:01:09.149 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 15:01:09.152 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.169 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 15:01:09.173 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 16ms
2023-08-13 15:01:09.195 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 15:01:09.201 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 20ms
2023-08-13 15:01:09.217 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 15:01:09.220 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:01:09.237 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 15:01:09.240 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:01:09.256 [main] INFO  liquibase.changelog - Table label created
2023-08-13 15:01:09.258 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:01:09.274 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 15:01:09.278 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:01:09.290 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 15:01:09.293 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:01:09.308 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 15:01:09.311 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:01:09.328 [main] INFO  liquibase.changelog - Table review created
2023-08-13 15:01:09.333 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 16ms
2023-08-13 15:01:09.353 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 15:01:09.357 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 17ms
2023-08-13 15:01:09.384 [main] INFO  liquibase.changelog - Table users created
2023-08-13 15:01:09.388 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 22ms
2023-08-13 15:01:09.409 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 15:01:09.414 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 16ms
2023-08-13 15:01:09.432 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 15:01:09.434 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:01:09.447 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 15:01:09.450 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:01:09.464 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 15:01:09.467 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.480 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 15:01:09.483 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.496 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 15:01:09.499 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.513 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 15:01:09.517 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:01:09.546 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 15:01:09.550 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.560 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 15:01:09.562 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.571 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 15:01:09.574 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.584 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 15:01:09.587 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.597 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 15:01:09.599 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:01:09.607 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 15:01:09.611 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:01:09.622 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 15:01:09.624 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.641 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 15:01:09.646 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:01:09.663 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 15:01:09.666 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:01:09.682 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 15:01:09.685 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:01:09.697 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 15:01:09.700 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:01:09.716 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 15:01:09.719 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.735 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 15:01:09.738 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.749 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 15:01:09.751 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:01:09.761 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 15:01:09.764 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:01:09.772 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 15:01:09.775 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.787 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 15:01:09.789 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.800 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 15:01:09.803 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:01:09.815 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 15:01:09.818 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:01:09.829 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 15:01:09.831 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 6ms
2023-08-13 15:01:09.840 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 15:01:09.842 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 15:01:09.863 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 15:01:09.866 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 17ms
2023-08-13 15:01:09.878 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 15:01:09.880 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 15:01:09.896 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 15:01:09.898 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 15:01:09.908 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:01:10.083 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:01:10.158 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:01:10.622 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:01:12.113 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:01:12.123 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:01:17.264 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:01:18.404 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:01:19.202 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:01:22.811 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1497efcc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cab5869, org.springframework.security.web.context.SecurityContextHolderFilter@2203fa4c, org.springframework.security.web.header.HeaderWriterFilter@29820c06, org.springframework.web.filter.CorsFilter@7980eb2, org.springframework.security.web.authentication.logout.LogoutFilter@77cfbbba, com.ringo.auth.JwtFilter@210b4145, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@247113ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ba5272e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ad755c5, org.springframework.security.web.session.SessionManagementFilter@64298cad, org.springframework.security.web.access.ExceptionTranslationFilter@2ab0114a, org.springframework.security.web.access.intercept.AuthorizationFilter@4c1c9116]
2023-08-13 15:01:23.274 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:01:23.292 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.118 seconds (process running for 20.901)
2023-08-13 15:01:54.020 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 15:01:54.021 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 15:01:54.025 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 15:01:54.124 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691928111971@test.com, role: ROLE_ORGANISATION
2023-08-13 15:03:29.078 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m51s209ms).
2023-08-13 15:03:31.600 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691928111971@test.com] is authenticated
2023-08-13 15:04:13.145 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 15:04:13.276 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691928253233@test.com, role: ROLE_ORGANISATION
2023-08-13 15:06:42.005 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47651 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:06:42.011 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:06:43.839 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:06:44.091 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 237 ms. Found 13 JPA repository interfaces.
2023-08-13 15:06:45.188 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:06:45.204 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:06:45.204 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:06:45.383 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:06:45.384 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2939 ms
2023-08-13 15:06:45.576 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:06:45.872 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61d2f267
2023-08-13 15:06:45.877 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:06:46.061 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:06:46.226 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:06:46.381 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:06:46.834 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:06:46.839 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:06:46.842 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:06:46.941 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:06:47.198 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:06:47.317 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:06:47.384 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:06:47.849 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:06:49.369 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:06:49.378 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:06:54.157 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:06:55.038 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:06:55.520 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:06:58.110 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11f505e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@119636bf, org.springframework.security.web.context.SecurityContextHolderFilter@32e8c3c3, org.springframework.security.web.header.HeaderWriterFilter@2c49bc22, org.springframework.web.filter.CorsFilter@45b7b254, org.springframework.security.web.authentication.logout.LogoutFilter@9e3c653, com.ringo.auth.JwtFilter@beac39c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ad6484, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e4382e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d37c176, org.springframework.security.web.session.SessionManagementFilter@4e670245, org.springframework.security.web.access.ExceptionTranslationFilter@35e50381, org.springframework.security.web.access.intercept.AuthorizationFilter@10b21a2b]
2023-08-13 15:06:58.735 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:06:58.753 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.417 seconds (process running for 18.244)
2023-08-13 15:07:13.529 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 15:07:13.531 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 15:07:13.534 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 15:07:13.679 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691928431365@test.com, role: ROLE_ORGANISATION
2023-08-13 15:07:44.019 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s39ms).
2023-08-13 15:07:46.339 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691928431365@test.com] is authenticated
2023-08-13 15:24:01.751 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47878 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:24:01.757 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:24:03.374 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:24:03.575 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 186 ms. Found 13 JPA repository interfaces.
2023-08-13 15:24:04.628 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:24:04.646 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:24:04.647 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:24:04.858 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:24:04.859 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2689 ms
2023-08-13 15:24:05.038 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:24:05.409 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-13 15:24:05.414 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:24:05.596 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:24:05.752 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:24:05.911 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:24:06.420 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:24:06.424 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:24:06.429 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:24:06.528 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:24:06.686 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:24:06.842 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:24:06.912 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:24:07.360 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:24:08.999 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:24:09.016 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:24:15.005 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:24:15.821 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:24:16.333 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:24:20.129 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c486cec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fc5199, org.springframework.security.web.context.SecurityContextHolderFilter@41fd7740, org.springframework.security.web.header.HeaderWriterFilter@38f183e9, org.springframework.web.filter.CorsFilter@77ef7b2b, org.springframework.security.web.authentication.logout.LogoutFilter@6f88d401, com.ringo.auth.JwtFilter@2625eb84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17778985, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c49bc22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37df3dee, org.springframework.security.web.session.SessionManagementFilter@2f6b60ee, org.springframework.security.web.access.ExceptionTranslationFilter@1fe24f79, org.springframework.security.web.access.intercept.AuthorizationFilter@38e4697d]
2023-08-13 15:24:20.680 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:24:20.707 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.659 seconds (process running for 20.626)
2023-08-13 15:24:35.525 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 15:24:35.526 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 15:24:35.528 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 15:24:35.634 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691929473259@test.com, role: ROLE_ORGANISATION
2023-08-13 15:24:54.470 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691929473259@test.com] is authenticated
2023-08-13 15:25:21.866 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 47901 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:25:21.870 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:25:23.740 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:25:23.982 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 227 ms. Found 13 JPA repository interfaces.
2023-08-13 15:25:25.167 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:25:25.184 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:25:25.185 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:25:25.381 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:25:25.382 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3094 ms
2023-08-13 15:25:25.597 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:25:25.878 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61d2f267
2023-08-13 15:25:25.882 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:25:26.081 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:25:26.261 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:25:26.449 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:25:26.943 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:25:26.947 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:25:26.950 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:25:27.062 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:25:27.263 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:25:27.393 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:25:27.477 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:25:27.975 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:25:29.581 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:25:29.593 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:25:34.484 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:25:35.320 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:25:36.209 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:25:38.775 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2169e311, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e07469a, org.springframework.security.web.context.SecurityContextHolderFilter@2edd66c9, org.springframework.security.web.header.HeaderWriterFilter@769e025c, org.springframework.web.filter.CorsFilter@5a36a405, org.springframework.security.web.authentication.logout.LogoutFilter@44eb9af1, com.ringo.auth.JwtFilter@1c74eeb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50b1aea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dc82d99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7432a39e, org.springframework.security.web.session.SessionManagementFilter@4f9a0139, org.springframework.security.web.access.ExceptionTranslationFilter@5e0fbfb6, org.springframework.security.web.access.intercept.AuthorizationFilter@4aa0b026]
2023-08-13 15:25:39.382 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:25:39.399 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.186 seconds (process running for 18.929)
2023-08-13 15:25:56.359 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 15:25:56.359 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 15:25:56.361 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 15:25:56.450 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691929554356@test.com, role: ROLE_ORGANISATION
2023-08-13 15:26:05.465 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691929554356@test.com] is authenticated
2023-08-13 15:40:52.502 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48194 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:40:52.508 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:40:54.037 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:40:54.264 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 211 ms. Found 13 JPA repository interfaces.
2023-08-13 15:40:55.210 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:40:55.226 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:40:55.226 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:40:55.387 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:40:55.388 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2520 ms
2023-08-13 15:40:55.561 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:40:55.782 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-13 15:40:55.785 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:40:55.934 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:40:56.095 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:40:56.240 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:40:56.663 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:40:56.665 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:40:56.668 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:40:56.693 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 15:40:56.708 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:40:56.911 [main] INFO  liquibase.changelog - Table category created
2023-08-13 15:40:56.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:40:56.930 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 15:40:56.933 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:40:56.950 [main] INFO  liquibase.changelog - Table event created
2023-08-13 15:40:56.953 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 15ms
2023-08-13 15:40:56.964 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 15:40:56.966 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:56.980 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 15:40:56.983 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:56.998 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 15:40:57.001 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:57.014 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 15:40:57.017 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.032 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 15:40:57.036 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 15:40:57.052 [main] INFO  liquibase.changelog - Table label created
2023-08-13 15:40:57.055 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 14ms
2023-08-13 15:40:57.072 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 15:40:57.075 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 15:40:57.088 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 15:40:57.091 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:40:57.109 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 15:40:57.113 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 16ms
2023-08-13 15:40:57.126 [main] INFO  liquibase.changelog - Table review created
2023-08-13 15:40:57.129 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:57.145 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 15:40:57.148 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 13ms
2023-08-13 15:40:57.165 [main] INFO  liquibase.changelog - Table users created
2023-08-13 15:40:57.167 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 13ms
2023-08-13 15:40:57.182 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 15:40:57.184 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:40:57.197 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 15:40:57.199 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.211 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 15:40:57.214 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.225 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 15:40:57.228 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.240 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 15:40:57.243 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.253 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 15:40:57.255 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:40:57.264 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 15:40:57.267 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:40:57.277 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 15:40:57.280 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.293 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 15:40:57.296 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.309 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 15:40:57.313 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.326 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 15:40:57.329 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:40:57.342 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 15:40:57.346 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:40:57.359 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 15:40:57.362 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 9ms
2023-08-13 15:40:57.373 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 15:40:57.376 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.389 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 15:40:57.391 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.402 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 15:40:57.405 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.416 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 15:40:57.420 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:40:57.430 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 15:40:57.432 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.443 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 15:40:57.446 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:40:57.456 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 15:40:57.458 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 7ms
2023-08-13 15:40:57.468 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 15:40:57.505 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 41ms
2023-08-13 15:40:57.521 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 15:40:57.525 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:57.540 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 15:40:57.544 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:57.558 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 15:40:57.562 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:57.576 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 15:40:57.579 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 15:40:57.592 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 15:40:57.596 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.610 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 15:40:57.614 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 11ms
2023-08-13 15:40:57.627 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 15:40:57.630 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 15:40:57.654 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 15:40:57.656 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-13 15:40:57.668 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 15:40:57.672 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-13 15:40:57.687 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 15:40:57.689 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 15:40:57.701 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:40:57.831 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:40:57.920 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:40:58.441 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:41:00.046 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:41:00.058 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:41:00.608 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfig' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/config/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected single matching bean but found 2: testPasswordEncoder,prodPasswordEncoder
2023-08-13 15:41:00.654 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2023-08-13 15:41:00.658 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-08-13 15:41:00.658 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-08-13 15:41:00.660 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-08-13 15:41:00.660 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:41:00.663 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 15:41:00.668 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 15:41:00.683 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-08-13 15:41:00.712 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.ringo.config.SecurityConfig required a single bean, but 2 were found:
	- testPasswordEncoder: defined by method 'passwordEncoder' in class path resource [com/ringo/config/PasswordEncoderConfig.class]
	- prodPasswordEncoder: defined by method 'prodPasswordEncoder' in class path resource [com/ringo/config/PasswordEncoderConfig.class]


Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

2023-08-13 15:42:21.610 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48238 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:42:21.615 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:42:23.126 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:42:23.419 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 278 ms. Found 13 JPA repository interfaces.
2023-08-13 15:42:24.448 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:42:24.461 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:42:24.462 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:42:24.626 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:42:24.627 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2658 ms
2023-08-13 15:42:24.804 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:42:25.017 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61d2f267
2023-08-13 15:42:25.022 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:42:25.164 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:42:25.297 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:42:25.444 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:42:25.866 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:42:25.870 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:42:25.873 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:42:25.962 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:42:26.112 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:42:26.237 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:42:26.309 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:42:26.797 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:42:28.394 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:42:28.407 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:42:28.982 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfig' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/config/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected single matching bean but found 2: testPasswordEncoder,prodPasswordEncoder
2023-08-13 15:42:29.028 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2023-08-13 15:42:29.046 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-08-13 15:42:29.046 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-08-13 15:42:29.048 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-08-13 15:42:29.048 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:42:29.051 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 15:42:29.056 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 15:42:29.073 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-08-13 15:42:29.107 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.ringo.config.SecurityConfig required a single bean, but 2 were found:
	- testPasswordEncoder: defined by method 'passwordEncoder' in class path resource [com/ringo/config/PasswordEncoderConfig.class]
	- prodPasswordEncoder: defined by method 'prodPasswordEncoder' in class path resource [com/ringo/config/PasswordEncoderConfig.class]


Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

2023-08-13 15:44:55.662 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48281 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:44:55.667 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:44:57.549 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:44:57.760 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 195 ms. Found 13 JPA repository interfaces.
2023-08-13 15:44:58.739 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:44:58.756 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:44:58.757 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:44:58.928 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:44:58.929 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2870 ms
2023-08-13 15:44:59.108 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:44:59.320 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@12365bd8
2023-08-13 15:44:59.324 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:44:59.472 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:44:59.603 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:44:59.796 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:45:00.211 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:45:00.215 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:45:00.219 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:45:00.312 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:45:00.480 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:45:00.598 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:45:00.665 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:45:01.096 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:45:02.866 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:45:02.881 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:45:04.899 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventController' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/controller/EventController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'eventService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/event/EventService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'organisationService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/OrganisationService.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'org.springframework.security.crypto.password.PasswordEncoder' available: expected single matching bean but found 2: testPasswordEncoder,prodPasswordEncoder
2023-08-13 15:45:04.901 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:45:04.904 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 15:45:04.912 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 15:45:04.915 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2023-08-13 15:45:04.938 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-08-13 15:45:04.968 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in com.ringo.service.company.OrganisationService required a single bean, but 2 were found:
	- testPasswordEncoder: defined by method 'passwordEncoder' in class path resource [com/ringo/config/PasswordEncoderConfig.class]
	- prodPasswordEncoder: defined by method 'prodPasswordEncoder' in class path resource [com/ringo/config/PasswordEncoderConfig.class]


Action:

Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed

2023-08-13 15:48:28.353 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48365 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:48:28.357 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:48:29.969 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:48:30.176 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 193 ms. Found 13 JPA repository interfaces.
2023-08-13 15:48:31.187 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:48:31.218 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:48:31.218 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:48:31.408 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:48:31.409 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2668 ms
2023-08-13 15:48:31.567 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:48:31.832 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23afc725
2023-08-13 15:48:31.835 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:48:32.126 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:48:32.254 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:48:32.388 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:48:32.803 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:48:32.807 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:48:32.809 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:48:32.904 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:48:33.065 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:48:33.190 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:48:33.274 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:48:33.775 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:48:35.334 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:48:35.358 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:48:40.859 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:48:42.088 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:48:42.904 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:48:46.532 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d30a3d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d2d89a6, org.springframework.security.web.context.SecurityContextHolderFilter@3a8f9d53, org.springframework.security.web.header.HeaderWriterFilter@4302394a, org.springframework.web.filter.CorsFilter@2a7b4b19, org.springframework.security.web.authentication.logout.LogoutFilter@35cefec6, com.ringo.auth.JwtFilter@35216a2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aba9252, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10b51115, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e471ad, org.springframework.security.web.session.SessionManagementFilter@e53a969, org.springframework.security.web.access.ExceptionTranslationFilter@5bbc4f38, org.springframework.security.web.access.intercept.AuthorizationFilter@277cf420]
2023-08-13 15:48:46.991 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:48:47.005 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.316 seconds (process running for 20.404)
2023-08-13 15:48:59.499 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:48:59.503 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 15:48:59.507 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 15:49:06.957 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48377 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:49:06.963 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:49:08.816 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:49:09.057 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 224 ms. Found 13 JPA repository interfaces.
2023-08-13 15:49:10.309 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:49:10.331 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:49:10.332 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:49:10.563 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:49:10.565 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3183 ms
2023-08-13 15:49:10.796 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:49:11.081 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23c7cb18
2023-08-13 15:49:11.085 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:49:11.273 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:49:11.444 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:49:11.600 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:49:12.181 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:49:12.185 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:49:12.190 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:49:12.307 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:49:12.548 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:49:12.763 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:49:12.864 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:49:13.493 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:49:15.136 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:49:15.151 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:49:19.781 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:49:20.928 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:49:22.049 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:49:24.501 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e14627b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a51ba06, org.springframework.security.web.context.SecurityContextHolderFilter@7432a39e, org.springframework.security.web.header.HeaderWriterFilter@4790a29a, org.springframework.web.filter.CorsFilter@491afa9b, org.springframework.security.web.authentication.logout.LogoutFilter@64b71b49, com.ringo.auth.JwtFilter@7262532a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@197d38a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55f066b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fae65df, org.springframework.security.web.session.SessionManagementFilter@1a35041, org.springframework.security.web.access.ExceptionTranslationFilter@7c1ac3b, org.springframework.security.web.access.intercept.AuthorizationFilter@22b4ceb9]
2023-08-13 15:49:25.025 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:49:25.040 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.763 seconds (process running for 19.555)
2023-08-13 15:49:53.018 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 15:49:53.019 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 15:49:53.021 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 15:49:53.129 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691930990949@test.com, role: ROLE_ORGANISATION
2023-08-13 15:50:35.011 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s818ms).
2023-08-13 15:50:37.531 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691930990949@test.com] is authenticated
2023-08-13 15:55:42.235 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48522 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:55:42.239 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:55:43.830 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:55:44.022 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 13 JPA repository interfaces.
2023-08-13 15:55:45.089 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:55:45.108 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:55:45.109 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:55:45.294 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:55:45.294 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2667 ms
2023-08-13 15:55:45.481 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:55:45.735 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c34402
2023-08-13 15:55:45.738 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:55:46.067 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:55:46.228 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:55:46.354 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:55:46.750 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:55:46.755 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:55:46.757 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:55:46.855 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:55:47.003 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:55:47.137 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:55:47.209 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:55:47.701 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:55:49.113 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:55:49.125 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:55:54.361 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:55:55.498 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:55:56.624 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:55:58.954 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fc5199, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37df3dee, org.springframework.security.web.context.SecurityContextHolderFilter@35e50381, org.springframework.security.web.header.HeaderWriterFilter@23497c5e, org.springframework.web.filter.CorsFilter@373e09c7, org.springframework.security.web.authentication.logout.LogoutFilter@197d38a, com.ringo.auth.JwtFilter@3d2a164e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c49bc22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a4899c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@236a641a, org.springframework.security.web.session.SessionManagementFilter@2541c84, org.springframework.security.web.access.ExceptionTranslationFilter@4f9a0139, org.springframework.security.web.access.intercept.AuthorizationFilter@52ac57e7]
2023-08-13 15:55:59.405 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:55:59.420 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.802 seconds (process running for 18.439)
2023-08-13 15:56:03.505 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:56:03.512 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 15:56:03.516 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 15:56:09.311 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48532 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 15:56:09.316 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 15:56:11.109 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 15:56:11.389 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 263 ms. Found 13 JPA repository interfaces.
2023-08-13 15:56:12.716 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 15:56:12.735 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 15:56:12.736 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 15:56:12.989 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 15:56:12.990 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3271 ms
2023-08-13 15:56:13.209 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 15:56:13.515 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54463380
2023-08-13 15:56:13.520 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 15:56:13.725 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 15:56:13.932 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 15:56:14.138 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 15:56:14.685 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 15:56:14.689 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 15:56:14.692 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 15:56:14.810 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 15:56:14.960 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 15:56:15.098 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 15:56:15.174 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 15:56:15.639 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 15:56:17.135 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 15:56:17.146 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 15:56:22.363 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 15:56:22.879 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 15:56:24.024 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 15:56:26.980 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d5984aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3338057a, org.springframework.security.web.context.SecurityContextHolderFilter@2a447744, org.springframework.security.web.header.HeaderWriterFilter@2f6b60ee, org.springframework.web.filter.CorsFilter@e822394, org.springframework.security.web.authentication.logout.LogoutFilter@37df3dee, com.ringo.auth.JwtFilter@3a35a792, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c1ac3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e670245, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2288342c, org.springframework.security.web.session.SessionManagementFilter@6bd5101f, org.springframework.security.web.access.ExceptionTranslationFilter@7e9e125f, org.springframework.security.web.access.intercept.AuthorizationFilter@6da075fe]
2023-08-13 15:56:27.603 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 15:56:27.620 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.922 seconds (process running for 19.655)
2023-08-13 16:08:10.057 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48775 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 16:08:10.063 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 16:08:11.825 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 16:08:12.075 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 236 ms. Found 13 JPA repository interfaces.
2023-08-13 16:08:13.279 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 16:08:13.314 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 16:08:13.315 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 16:08:13.518 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 16:08:13.518 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2967 ms
2023-08-13 16:08:13.764 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 16:08:14.045 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c34402
2023-08-13 16:08:14.049 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 16:08:14.269 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 16:08:14.453 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 16:08:14.633 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 16:08:15.103 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 16:08:15.108 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 16:08:15.110 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 16:08:15.223 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 16:08:15.420 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 16:08:15.565 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 16:08:15.639 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 16:08:16.149 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 16:08:17.629 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 16:08:17.641 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:08:23.228 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 16:08:24.453 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 16:08:24.974 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 16:08:29.206 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@274b3fc6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9e3c653, org.springframework.security.web.context.SecurityContextHolderFilter@5119e01a, org.springframework.security.web.header.HeaderWriterFilter@10c04710, org.springframework.web.filter.CorsFilter@a19fe87, org.springframework.security.web.authentication.logout.LogoutFilter@38e4697d, com.ringo.auth.JwtFilter@7eaa52d6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd5101f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ca64b79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6da075fe, org.springframework.security.web.session.SessionManagementFilter@6a4899c, org.springframework.security.web.access.ExceptionTranslationFilter@6dc82d99, org.springframework.security.web.access.intercept.AuthorizationFilter@7c9a5397]
2023-08-13 16:08:29.942 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 16:08:29.971 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.586 seconds (process running for 21.313)
2023-08-13 16:09:39.879 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 16:09:39.881 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 16:09:39.889 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2023-08-13 16:09:40.067 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932177867@test.com, role: ROLE_ORGANISATION
2023-08-13 16:09:42.921 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932177867@test.com] is authenticated
2023-08-13 16:10:39.394 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48822 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 16:10:39.399 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 16:10:41.106 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 16:10:41.336 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 216 ms. Found 13 JPA repository interfaces.
2023-08-13 16:10:42.456 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 16:10:42.475 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 16:10:42.477 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 16:10:42.679 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 16:10:42.679 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2903 ms
2023-08-13 16:10:42.886 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 16:10:43.168 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f883d90
2023-08-13 16:10:43.172 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 16:10:43.365 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 16:10:43.567 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 16:10:43.717 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 16:10:44.178 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 16:10:44.181 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 16:10:44.184 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 16:10:44.209 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 16:10:44.227 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 16:10:44.517 [main] INFO  liquibase.changelog - Table category created
2023-08-13 16:10:44.520 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:10:44.545 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 16:10:44.548 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 16ms
2023-08-13 16:10:44.573 [main] INFO  liquibase.changelog - Table event created
2023-08-13 16:10:44.577 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 21ms
2023-08-13 16:10:44.589 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 16:10:44.594 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:10:44.614 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 16:10:44.617 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:10:44.636 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 16:10:44.639 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:10:44.652 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 16:10:44.655 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:10:44.670 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 16:10:44.673 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:10:44.694 [main] INFO  liquibase.changelog - Table label created
2023-08-13 16:10:44.697 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 16ms
2023-08-13 16:10:44.713 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 16:10:44.716 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:10:44.731 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 16:10:44.734 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:10:44.754 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 16:10:44.758 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:10:44.777 [main] INFO  liquibase.changelog - Table review created
2023-08-13 16:10:44.780 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:10:44.802 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 16:10:44.806 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 19ms
2023-08-13 16:10:44.837 [main] INFO  liquibase.changelog - Table users created
2023-08-13 16:10:44.841 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 24ms
2023-08-13 16:10:44.864 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 16:10:44.869 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:10:44.893 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 16:10:44.899 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 18ms
2023-08-13 16:10:44.920 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 16:10:44.923 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:10:44.940 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 16:10:44.945 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:10:44.961 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 16:10:44.983 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 31ms
2023-08-13 16:10:44.996 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 16:10:44.999 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:10:45.013 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 16:10:45.017 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:10:45.031 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 16:10:45.034 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:10:45.050 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 16:10:45.053 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 12ms
2023-08-13 16:10:45.067 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 16:10:45.070 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:10:45.083 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 16:10:45.086 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:10:45.097 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 16:10:45.099 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:10:45.109 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 16:10:45.113 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:10:45.125 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 16:10:45.128 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:10:45.141 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 16:10:45.144 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:10:45.157 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 16:10:45.161 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:10:45.173 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 16:10:45.177 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:10:45.188 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 16:10:45.191 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:10:45.205 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 16:10:45.209 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:10:45.219 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 16:10:45.221 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:10:45.232 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 16:10:45.235 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:10:45.245 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 16:10:45.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:10:45.256 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 16:10:45.259 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:10:45.268 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 16:10:45.271 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:10:45.282 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 16:10:45.285 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:10:45.296 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 16:10:45.299 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:10:45.309 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 16:10:45.312 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:10:45.320 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 16:10:45.322 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:10:45.342 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:10:45.345 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 18ms
2023-08-13 16:10:45.358 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:10:45.361 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 16:10:45.378 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:10:45.381 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 14ms
2023-08-13 16:10:45.395 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 16:10:45.564 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 16:10:45.672 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 16:10:46.211 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 16:10:47.768 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 16:10:47.778 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:10:52.556 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 16:10:53.375 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 16:10:54.543 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 16:10:57.038 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3718f26a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24d84d1e, org.springframework.security.web.context.SecurityContextHolderFilter@bca34d, org.springframework.security.web.header.HeaderWriterFilter@62418263, org.springframework.web.filter.CorsFilter@4ac7f844, org.springframework.security.web.authentication.logout.LogoutFilter@1966ec08, com.ringo.auth.JwtFilter@72933ccb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@152e530d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c51515f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30428572, org.springframework.security.web.session.SessionManagementFilter@4a57cec1, org.springframework.security.web.access.ExceptionTranslationFilter@77cfbbba, org.springframework.security.web.access.intercept.AuthorizationFilter@334412ed]
2023-08-13 16:10:57.575 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 16:10:57.592 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.846 seconds (process running for 19.634)
2023-08-13 16:11:17.350 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 16:11:17.351 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 16:11:17.353 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 16:11:17.440 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932275336@test.com, role: ROLE_ORGANISATION
2023-08-13 16:11:26.194 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932275336@test.com] is authenticated
2023-08-13 16:11:45.222 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932305198@test.com, role: ROLE_ORGANISATION
2023-08-13 16:11:53.402 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932305198@test.com] is authenticated
2023-08-13 16:12:01.386 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691932321361@test.com, role: ROLE_ORGANISATION
2023-08-13 16:12:03.328 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932321361@test.com] is authenticated
2023-08-13 16:12:03.472 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691932323445@test.com, role: ROLE_ORGANISATION
2023-08-13 16:12:05.229 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932323445@test.com] is authenticated
2023-08-13 16:12:05.348 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691932325319@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:12:07.130 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932325319@test.com] is authenticated
2023-08-13 16:12:07.221 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932327203@test.com, role: ROLE_ORGANISATION
2023-08-13 16:12:08.913 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932327203@test.com] is authenticated
2023-08-13 16:12:08.998 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932328980@test.com, role: ROLE_ORGANISATION
2023-08-13 16:12:10.891 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932328980@test.com] is authenticated
2023-08-13 16:12:10.979 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691932330960@test.com, role: ROLE_ORGANISATION
2023-08-13 16:12:12.683 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932330960@test.com] is authenticated
2023-08-13 16:12:12.771 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691932332751@test.com, role: ROLE_ORGANISATION
2023-08-13 16:12:14.541 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932332751@test.com] is authenticated
2023-08-13 16:15:34.167 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48908 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 16:15:34.172 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 16:15:35.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 16:15:36.073 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 189 ms. Found 13 JPA repository interfaces.
2023-08-13 16:15:37.093 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 16:15:37.106 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 16:15:37.106 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 16:15:37.292 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 16:15:37.293 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2756 ms
2023-08-13 16:15:37.473 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 16:15:37.709 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-13 16:15:37.713 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 16:15:38.062 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 16:15:38.238 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 16:15:38.349 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 16:15:38.770 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 16:15:38.773 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 16:15:38.775 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 16:15:38.801 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 16:15:38.816 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 16:15:39.088 [main] INFO  liquibase.changelog - Table category created
2023-08-13 16:15:39.091 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:15:39.115 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 16:15:39.120 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:15:39.140 [main] INFO  liquibase.changelog - Table event created
2023-08-13 16:15:39.143 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:15:39.155 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 16:15:39.159 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:15:39.176 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 16:15:39.179 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 16:15:39.196 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 16:15:39.201 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:15:39.213 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 16:15:39.218 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:15:39.235 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 16:15:39.239 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:15:39.260 [main] INFO  liquibase.changelog - Table label created
2023-08-13 16:15:39.264 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 19ms
2023-08-13 16:15:39.285 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 16:15:39.289 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:15:39.306 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 16:15:39.310 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:15:39.367 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 16:15:39.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 22ms
2023-08-13 16:15:39.390 [main] INFO  liquibase.changelog - Table review created
2023-08-13 16:15:39.393 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:15:39.410 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 16:15:39.413 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:15:39.430 [main] INFO  liquibase.changelog - Table users created
2023-08-13 16:15:39.434 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:15:39.444 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 16:15:39.446 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.457 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 16:15:39.460 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:15:39.470 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 16:15:39.472 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.483 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 16:15:39.485 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.495 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 16:15:39.498 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.506 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 16:15:39.508 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:15:39.518 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 16:15:39.521 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.532 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 16:15:39.536 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:15:39.548 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 16:15:39.551 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:15:39.561 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 16:15:39.564 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.575 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 16:15:39.578 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:15:39.589 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 16:15:39.592 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.602 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 16:15:39.605 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.617 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 16:15:39.620 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:15:39.632 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 16:15:39.636 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:15:39.647 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 16:15:39.651 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:15:39.661 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 16:15:39.664 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.676 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 16:15:39.679 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:15:39.691 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 16:15:39.693 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:15:39.705 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 16:15:39.707 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.717 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 16:15:39.719 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:15:39.728 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 16:15:39.729 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:15:39.739 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 16:15:39.742 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:15:39.752 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 16:15:39.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:15:39.768 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 16:15:39.771 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:15:39.781 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 16:15:39.785 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:15:39.795 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 16:15:39.797 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:15:39.807 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 16:15:39.809 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 5ms
2023-08-13 16:15:39.828 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:15:39.830 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 16ms
2023-08-13 16:15:39.841 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:15:39.843 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 7ms
2023-08-13 16:15:39.858 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:15:39.860 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 10ms
2023-08-13 16:15:39.872 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 16:15:40.028 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 16:15:40.107 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 16:15:40.567 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 16:15:42.162 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 16:15:42.172 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:15:46.947 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 16:15:47.788 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 16:15:48.631 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 16:15:50.736 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a57cec1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cd9bff2, org.springframework.security.web.context.SecurityContextHolderFilter@76c9658c, org.springframework.security.web.header.HeaderWriterFilter@1af03386, org.springframework.web.filter.CorsFilter@79d538c1, org.springframework.security.web.authentication.logout.LogoutFilter@11483b6f, com.ringo.auth.JwtFilter@816272a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a6fc416, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8911222, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c40aed1, org.springframework.security.web.session.SessionManagementFilter@a674645, org.springframework.security.web.access.ExceptionTranslationFilter@1ecb3cde, org.springframework.security.web.access.intercept.AuthorizationFilter@3cab5869]
2023-08-13 16:15:51.202 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 16:15:51.214 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.646 seconds (process running for 18.332)
2023-08-13 16:16:23.173 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 16:16:23.174 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 16:16:23.175 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 16:16:23.249 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932581497@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:25.821 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932581497@test.com] is authenticated
2023-08-13 16:16:26.072 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:26.160 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932586128@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:27.993 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932586128@test.com] is authenticated
2023-08-13 16:16:28.073 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:28.118 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691932588088@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:30.046 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932588088@test.com] is authenticated
2023-08-13 16:16:30.144 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:30.197 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691932590162@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:32.083 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932590162@test.com] is authenticated
2023-08-13 16:16:32.146 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:32.188 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691932592160@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:16:33.871 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932592160@test.com] is authenticated
2023-08-13 16:16:33.934 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:33.969 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932593945@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:35.741 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932593945@test.com] is authenticated
2023-08-13 16:16:35.808 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:35.843 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932595822@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:37.578 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932595822@test.com] is authenticated
2023-08-13 16:16:37.659 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:37.703 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691932597681@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:39.459 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932597681@test.com] is authenticated
2023-08-13 16:16:39.517 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:16:39.544 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932599529@test.com, role: ROLE_ORGANISATION
2023-08-13 16:16:41.397 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932599529@test.com] is authenticated
2023-08-13 16:16:41.449 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "activate"
2023-08-13 16:18:28.945 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:18:28.951 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 16:18:28.958 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 16:19:13.359 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 48979 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 16:19:13.363 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 16:19:14.763 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 16:19:14.958 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 13 JPA repository interfaces.
2023-08-13 16:19:15.914 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 16:19:15.927 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 16:19:15.927 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 16:19:16.101 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 16:19:16.102 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2398 ms
2023-08-13 16:19:16.297 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 16:19:16.516 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-13 16:19:16.521 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 16:19:16.858 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 16:19:17.032 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 16:19:17.143 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 16:19:17.544 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 16:19:17.548 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 16:19:17.550 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 16:19:17.578 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 16:19:17.593 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 16:19:17.876 [main] INFO  liquibase.changelog - Table category created
2023-08-13 16:19:17.879 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 18ms
2023-08-13 16:19:17.901 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 16:19:17.904 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:19:17.927 [main] INFO  liquibase.changelog - Table event created
2023-08-13 16:19:17.930 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 18ms
2023-08-13 16:19:17.942 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 16:19:17.946 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:19:17.960 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 16:19:17.963 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:19:17.979 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 16:19:17.982 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 12ms
2023-08-13 16:19:17.992 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 16:19:17.996 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.010 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 16:19:18.013 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:19:18.032 [main] INFO  liquibase.changelog - Table label created
2023-08-13 16:19:18.036 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:19:18.058 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 16:19:18.061 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:19:18.077 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 16:19:18.080 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:19:18.096 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 16:19:18.099 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:19:18.113 [main] INFO  liquibase.changelog - Table review created
2023-08-13 16:19:18.116 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:19:18.131 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 16:19:18.133 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:19:18.150 [main] INFO  liquibase.changelog - Table users created
2023-08-13 16:19:18.153 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:19:18.167 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 16:19:18.169 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:19:18.182 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 16:19:18.185 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.197 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 16:19:18.200 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.211 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 16:19:18.213 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.224 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 16:19:18.227 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:19:18.239 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 16:19:18.242 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.252 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 16:19:18.256 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.268 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 16:19:18.272 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.284 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 16:19:18.287 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.300 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 16:19:18.303 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.317 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 16:19:18.321 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.334 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 16:19:18.337 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.347 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 16:19:18.350 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:19:18.359 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 16:19:18.362 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:19:18.371 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 16:19:18.373 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:19:18.382 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 16:19:18.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:19:18.395 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 16:19:18.398 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:19:18.409 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 16:19:18.412 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:19:18.424 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 16:19:18.427 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:19:18.437 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 16:19:18.441 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.451 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 16:19:18.454 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:19:18.465 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 16:19:18.468 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:19:18.479 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 16:19:18.482 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:19:18.494 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 16:19:18.497 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.511 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 16:19:18.514 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:19:18.526 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 16:19:18.547 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 27ms
2023-08-13 16:19:18.558 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 16:19:18.560 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:19:18.568 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 16:19:18.570 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:19:18.587 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:19:18.591 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-13 16:19:18.601 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:19:18.603 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 8ms
2023-08-13 16:19:18.617 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:19:18.619 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 16:19:18.630 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 16:19:18.759 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 16:19:18.837 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 16:19:19.208 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 16:19:20.474 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 16:19:20.483 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:19:25.450 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 16:19:25.927 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 16:19:26.415 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 16:19:28.714 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7469445d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@152e530d, org.springframework.security.web.context.SecurityContextHolderFilter@35c9e3b9, org.springframework.security.web.header.HeaderWriterFilter@544b0bd2, org.springframework.web.filter.CorsFilter@7d727123, org.springframework.security.web.authentication.logout.LogoutFilter@1cdf48b9, com.ringo.auth.JwtFilter@4d484961, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5194394, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5195117, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c51515f, org.springframework.security.web.session.SessionManagementFilter@462c407e, org.springframework.security.web.access.ExceptionTranslationFilter@3325afbc, org.springframework.security.web.access.intercept.AuthorizationFilter@2cd9bff2]
2023-08-13 16:19:29.213 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 16:19:29.230 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.426 seconds (process running for 17.103)
2023-08-13 16:20:02.571 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 16:20:02.572 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 16:20:02.574 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 16:20:02.652 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932800844@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:05.165 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932800844@test.com] is authenticated
2023-08-13 16:20:05.361 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932800844@test.com
2023-08-13 16:20:05.419 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:05.501 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691932805461@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:07.205 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932805461@test.com] is authenticated
2023-08-13 16:20:07.277 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932805461@test.com
2023-08-13 16:20:07.333 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 16:20:07.448 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932807428@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:09.558 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932807428@test.com] is authenticated
2023-08-13 16:20:09.627 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932807428@test.com
2023-08-13 16:20:09.670 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 16:20:09.697 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 16:20:09.772 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691932809750@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:11.651 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932809750@test.com] is authenticated
2023-08-13 16:20:11.731 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932809750@test.com
2023-08-13 16:20:11.766 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:11.804 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691932811787@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:13.694 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932811787@test.com] is authenticated
2023-08-13 16:20:13.784 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932811787@test.com
2023-08-13 16:20:13.823 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 16:20:13.834 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 16:20:13.878 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691932813854@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:15.571 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932813854@test.com] is authenticated
2023-08-13 16:20:15.636 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932813854@test.com
2023-08-13 16:20:15.673 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:15.717 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691932815692@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:17.489 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932815692@test.com] is authenticated
2023-08-13 16:20:17.540 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932815692@test.com
2023-08-13 16:20:17.570 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 16:20:17.627 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932817611@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:19.343 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932817611@test.com] is authenticated
2023-08-13 16:20:19.400 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932817611@test.com
2023-08-13 16:20:19.428 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 16:20:19.501 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 16:20:19.501 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 16:20:19.514 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 16:20:19.547 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691932819528@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:21.401 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932819528@test.com] is authenticated
2023-08-13 16:20:21.457 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932819528@test.com
2023-08-13 16:20:21.485 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:21.514 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932821502@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:23.240 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932821502@test.com] is authenticated
2023-08-13 16:20:23.289 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932821502@test.com
2023-08-13 16:20:23.315 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 16:20:23.372 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 16:20:23.402 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691932823384@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:25.150 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932823384@test.com] is authenticated
2023-08-13 16:20:25.205 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932823384@test.com
2023-08-13 16:20:25.237 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691932825217
2023-08-13 16:20:25.242 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691932825217 was not found
2023-08-13 16:20:25.276 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932825255@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:27.218 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932825255@test.com] is authenticated
2023-08-13 16:20:27.279 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932825255@test.com
2023-08-13 16:20:27.313 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:27.345 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691932827330@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:28.925 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932827330@test.com] is authenticated
2023-08-13 16:20:28.975 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932827330@test.com
2023-08-13 16:20:29.004 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 16:20:29.064 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 16:20:29.134 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 16:20:29.134 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 16:20:29.137 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 16:20:29.166 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691932829149@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:31.333 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932829149@test.com] is authenticated
2023-08-13 16:20:31.386 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932829149@test.com
2023-08-13 16:20:31.412 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:31.437 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691932831428@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:33.016 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932831428@test.com] is authenticated
2023-08-13 16:20:33.061 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932831428@test.com
2023-08-13 16:20:33.086 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 16:20:33.147 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 16:20:33.162 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 16:20:33.192 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691932833175@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:35.073 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932833175@test.com] is authenticated
2023-08-13 16:20:35.119 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932833175@test.com
2023-08-13 16:20:35.140 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:35.162 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691932835151@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:36.853 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932835151@test.com] is authenticated
2023-08-13 16:20:36.896 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932835151@test.com
2023-08-13 16:20:36.915 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 16:20:36.961 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 16:20:36.995 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 16:20:36.995 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 16:20:36.997 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 16:20:37.022 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691932837010@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:38.921 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932837010@test.com] is authenticated
2023-08-13 16:20:38.972 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932837010@test.com
2023-08-13 16:20:39.001 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:20:39.031 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691932839020@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:40.779 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932839020@test.com] is authenticated
2023-08-13 16:20:40.819 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932839020@test.com
2023-08-13 16:20:40.850 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 16:20:40.913 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691932840900@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:42.600 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932840900@test.com] is authenticated
2023-08-13 16:20:42.637 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691932840900@test.com
2023-08-13 16:20:42.657 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 16:20:42.694 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691932842683@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:44.394 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 16:20:44.498 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932842683@test.com] is authenticated
2023-08-13 16:20:44.546 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691932844536@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:46.650 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932844536@test.com] is authenticated
2023-08-13 16:20:46.963 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 16:20:47.061 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932844536@test.com] is authenticated
2023-08-13 16:20:47.117 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691932847104@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:48.807 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932847104@test.com] is authenticated
2023-08-13 16:20:48.868 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932848853@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:50.661 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932848853@test.com] is authenticated
2023-08-13 16:20:51.035 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 16:20:51.138 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932848853@test.com] is authenticated
2023-08-13 16:20:51.185 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 16:20:51.237 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691932851214@test.com, role: ROLE_ORGANISATION
2023-08-13 16:20:52.968 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932851214@test.com] is authenticated
2023-08-13 16:20:53.072 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 16:20:53.171 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932851214@test.com] is authenticated
2023-08-13 16:20:53.232 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691932853218@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:54.945 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932853218@test.com] is authenticated
2023-08-13 16:20:55.035 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691932855022@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:56.683 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932855022@test.com] is authenticated
2023-08-13 16:20:56.730 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691932856717@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:20:58.339 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932856717@test.com] is authenticated
2023-08-13 16:20:58.452 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 16:20:58.555 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932856717@test.com] is authenticated
2023-08-13 16:20:58.600 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691932858588@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:00.330 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932858588@test.com] is authenticated
2023-08-13 16:21:00.402 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 16:21:00.453 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691932860437@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:02.042 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932860437@test.com] is authenticated
2023-08-13 16:21:02.208 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test1691932860437@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 16:21:02.211 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 16:21:02.228 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 16:21:03.383 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691932863371@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:05.100 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932863371@test.com] is authenticated
2023-08-13 16:21:05.158 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - email: test1691932863371@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 16:21:05.161 [http-nio-8080-exec-8] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 16:21:05.165 [http-nio-8080-exec-8] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 16:21:05.637 [http-nio-8080-exec-12] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-13 16:21:05.763 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691932865749@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:07.471 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932865749@test.com] is authenticated
2023-08-13 16:21:07.543 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 32
2023-08-13 16:21:07.548 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 32] not found
2023-08-13 16:21:07.572 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691932867557@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:09.342 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932867557@test.com] is authenticated
2023-08-13 16:21:09.358 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findOrganisationById: 33
2023-08-13 16:21:09.363 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 33] not found
2023-08-13 16:21:09.384 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691932869372@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:11.035 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932869372@test.com] is authenticated
2023-08-13 16:21:11.084 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 34
2023-08-13 16:21:11.089 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 34] not found
2023-08-13 16:21:11.107 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691932871096@test.com, role: ROLE_ORGANISATION
2023-08-13 16:21:12.844 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932871096@test.com] is authenticated
2023-08-13 16:21:12.864 [http-nio-8080-exec-12] INFO  c.r.s.company.OrganisationService - findOrganisationById: 35
2023-08-13 16:21:12.883 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 35] not found
2023-08-13 16:21:12.909 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691932872899@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:21:14.537 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932872899@test.com] is authenticated
2023-08-13 16:21:14.575 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - email: test1691932872899@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 16:21:14.577 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 16:21:14.580 [http-nio-8080-exec-2] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 16:21:15.552 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691932875539@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:21:17.174 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932875539@test.com] is authenticated
2023-08-13 16:21:17.214 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - email: test1691932875539@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 16:21:17.215 [http-nio-8080-exec-12] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 16:21:17.219 [http-nio-8080-exec-12] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 16:21:17.680 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-13 16:21:17.799 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691932877788@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:21:19.458 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932877788@test.com] is authenticated
2023-08-13 16:21:19.471 [http-nio-8080-exec-5] INFO  c.r.s.company.ParticipantService - findParticipantById: 38
2023-08-13 16:21:19.479 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant [id: 38] not found
2023-08-13 16:21:19.495 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691932879486@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:21:21.070 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691932879486@test.com] is authenticated
2023-08-13 16:21:21.121 [http-nio-8080-exec-13] INFO  c.r.s.company.ParticipantService - findParticipantById: 39
2023-08-13 16:21:21.127 [http-nio-8080-exec-13] WARN  c.r.exception.GlobalExceptionHandler - Participant [id: 39] not found
2023-08-13 16:22:47.442 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:22:47.446 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 16:22:47.449 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 16:23:01.481 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49045 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 16:23:01.485 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 16:23:03.172 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 16:23:03.407 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 223 ms. Found 13 JPA repository interfaces.
2023-08-13 16:23:04.479 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 16:23:04.496 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 16:23:04.497 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 16:23:04.705 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 16:23:04.706 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2858 ms
2023-08-13 16:23:04.901 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 16:23:05.166 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2d44f3
2023-08-13 16:23:05.169 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 16:23:05.338 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 16:23:05.543 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 16:23:05.718 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 16:23:06.131 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 16:23:06.134 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 16:23:06.137 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 16:23:06.159 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 16:23:06.172 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 16:23:06.445 [main] INFO  liquibase.changelog - Table category created
2023-08-13 16:23:06.448 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:23:06.470 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 16:23:06.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:23:06.503 [main] INFO  liquibase.changelog - Table event created
2023-08-13 16:23:06.507 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 25ms
2023-08-13 16:23:06.520 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 16:23:06.523 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:23:06.541 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 16:23:06.544 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:23:06.562 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 16:23:06.565 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 13ms
2023-08-13 16:23:06.579 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 16:23:06.582 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:23:06.599 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 16:23:06.602 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 16:23:06.623 [main] INFO  liquibase.changelog - Table label created
2023-08-13 16:23:06.626 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 17ms
2023-08-13 16:23:06.645 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 16:23:06.648 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:23:06.661 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 16:23:06.664 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:23:06.679 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 16:23:06.683 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:23:06.700 [main] INFO  liquibase.changelog - Table review created
2023-08-13 16:23:06.704 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 14ms
2023-08-13 16:23:06.722 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 16:23:06.726 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 15ms
2023-08-13 16:23:06.746 [main] INFO  liquibase.changelog - Table users created
2023-08-13 16:23:06.782 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 49ms
2023-08-13 16:23:06.795 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 16:23:06.797 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.808 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 16:23:06.811 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.820 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 16:23:06.823 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:23:06.836 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 16:23:06.838 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.851 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 16:23:06.853 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.864 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 16:23:06.866 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:23:06.878 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 16:23:06.882 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 11ms
2023-08-13 16:23:06.894 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 16:23:06.898 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:23:06.910 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 16:23:06.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.926 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 16:23:06.929 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.941 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 16:23:06.944 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:23:06.958 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 16:23:06.961 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:06.972 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 16:23:06.975 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:23:06.985 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 16:23:06.989 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:07.001 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 16:23:07.003 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:23:07.016 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 16:23:07.019 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:07.033 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 16:23:07.036 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:07.049 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 16:23:07.052 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 10ms
2023-08-13 16:23:07.066 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 16:23:07.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 27ms
2023-08-13 16:23:07.098 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 16:23:07.100 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 6ms
2023-08-13 16:23:07.111 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 16:23:07.114 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:07.124 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 16:23:07.126 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:23:07.136 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 16:23:07.139 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:23:07.149 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 16:23:07.152 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 16:23:07.163 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 16:23:07.167 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:07.178 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 16:23:07.182 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 16:23:07.191 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 16:23:07.194 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:23:07.203 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 16:23:07.206 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 16:23:07.223 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:23:07.225 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-13 16:23:07.236 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:23:07.239 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-13 16:23:07.253 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 16:23:07.257 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 16:23:07.267 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 16:23:07.427 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 16:23:07.504 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 16:23:07.901 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 16:23:09.246 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 16:23:09.259 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:23:14.315 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 16:23:14.830 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 16:23:15.646 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 16:23:18.245 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60b65a4a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@363b24aa, org.springframework.security.web.context.SecurityContextHolderFilter@7da1bf14, org.springframework.security.web.header.HeaderWriterFilter@6799243b, org.springframework.web.filter.CorsFilter@34e785db, org.springframework.security.web.authentication.logout.LogoutFilter@6115b4a0, com.ringo.auth.JwtFilter@64b7719f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d352874, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f31ff7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ebbb581, org.springframework.security.web.session.SessionManagementFilter@5194394, org.springframework.security.web.access.ExceptionTranslationFilter@68300fe2, org.springframework.security.web.access.intercept.AuthorizationFilter@5c51515f]
2023-08-13 16:23:18.746 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 16:23:18.760 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.876 seconds (process running for 18.545)
2023-08-13 16:23:27.186 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 16:23:27.187 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 16:23:27.189 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 16:23:27.266 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691933005490@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:29.861 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933005490@test.com] is authenticated
2023-08-13 16:23:30.052 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933005490@test.com
2023-08-13 16:23:30.104 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:30.172 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691933010135@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:31.840 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933010135@test.com] is authenticated
2023-08-13 16:23:31.914 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933010135@test.com
2023-08-13 16:23:31.958 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 16:23:32.079 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691933012062@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:33.790 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933012062@test.com] is authenticated
2023-08-13 16:23:33.851 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933012062@test.com
2023-08-13 16:23:33.889 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 16:23:33.913 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 16:23:33.981 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691933013956@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:35.707 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933013956@test.com] is authenticated
2023-08-13 16:23:35.766 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933013956@test.com
2023-08-13 16:23:35.794 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:35.830 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691933015812@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:37.466 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933015812@test.com] is authenticated
2023-08-13 16:23:37.520 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933015812@test.com
2023-08-13 16:23:37.546 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 16:23:37.557 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 16:23:37.599 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691933017573@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:39.227 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933017573@test.com] is authenticated
2023-08-13 16:23:39.297 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933017573@test.com
2023-08-13 16:23:39.340 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:39.386 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691933019365@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:40.988 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933019365@test.com] is authenticated
2023-08-13 16:23:41.034 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933019365@test.com
2023-08-13 16:23:41.058 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 16:23:41.111 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691933021098@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:42.798 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933021098@test.com] is authenticated
2023-08-13 16:23:42.850 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933021098@test.com
2023-08-13 16:23:42.874 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 16:23:42.949 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 16:23:42.950 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 16:23:42.961 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 16:23:42.995 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691933022977@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:44.731 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933022977@test.com] is authenticated
2023-08-13 16:23:44.792 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933022977@test.com
2023-08-13 16:23:44.819 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:44.851 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691933024836@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:46.573 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933024836@test.com] is authenticated
2023-08-13 16:23:46.624 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933024836@test.com
2023-08-13 16:23:46.647 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 16:23:46.700 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 16:23:46.725 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691933026711@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:48.828 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933026711@test.com] is authenticated
2023-08-13 16:23:48.876 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933026711@test.com
2023-08-13 16:23:48.901 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691933028885
2023-08-13 16:23:48.905 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691933028885 was not found
2023-08-13 16:23:48.936 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691933028919@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:50.643 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933028919@test.com] is authenticated
2023-08-13 16:23:50.689 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933028919@test.com
2023-08-13 16:23:50.716 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:50.766 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691933030747@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:52.415 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933030747@test.com] is authenticated
2023-08-13 16:23:52.462 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933030747@test.com
2023-08-13 16:23:52.484 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 16:23:52.546 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 16:23:52.637 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 16:23:52.637 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 16:23:52.640 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 16:23:52.668 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691933032653@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:54.297 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933032653@test.com] is authenticated
2023-08-13 16:23:54.346 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933032653@test.com
2023-08-13 16:23:54.369 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:54.396 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691933034385@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:56.099 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933034385@test.com] is authenticated
2023-08-13 16:23:56.139 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933034385@test.com
2023-08-13 16:23:56.162 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 16:23:56.224 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 16:23:56.241 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 16:23:56.270 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691933036253@test.com, role: ROLE_ORGANISATION
2023-08-13 16:23:57.855 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933036253@test.com] is authenticated
2023-08-13 16:23:57.903 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933036253@test.com
2023-08-13 16:23:57.927 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:23:57.950 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691933037940@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:23:59.663 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933037940@test.com] is authenticated
2023-08-13 16:23:59.700 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933037940@test.com
2023-08-13 16:23:59.722 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 16:23:59.769 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 16:23:59.804 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 16:23:59.804 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 16:23:59.814 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 16:23:59.841 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691933039828@test.com, role: ROLE_ORGANISATION
2023-08-13 16:24:01.432 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933039828@test.com] is authenticated
2023-08-13 16:24:01.477 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933039828@test.com
2023-08-13 16:24:01.502 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 16:24:01.523 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691933041514@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:24:03.251 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933041514@test.com] is authenticated
2023-08-13 16:24:03.291 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933041514@test.com
2023-08-13 16:24:03.312 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 16:24:03.362 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691933043353@test.com, role: ROLE_PARTICIPANT
2023-08-13 16:24:05.010 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691933043353@test.com] is authenticated
2023-08-13 16:24:05.048 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691933043353@test.com
2023-08-13 16:24:05.070 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 16:26:54.168 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 16:26:54.173 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 16:26:54.176 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 19:38:29.651 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49448 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 19:38:29.657 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 19:38:31.267 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 19:38:31.484 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 203 ms. Found 13 JPA repository interfaces.
2023-08-13 19:38:32.465 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 19:38:32.482 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 19:38:32.482 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 19:38:32.695 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 19:38:32.696 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2663 ms
2023-08-13 19:38:32.882 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 19:38:33.157 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dc82e6a
2023-08-13 19:38:33.160 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 19:38:33.522 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 19:38:33.669 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 19:38:33.776 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 19:38:34.199 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 19:38:34.202 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 19:38:34.205 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 19:38:34.313 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 19:38:34.494 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 19:38:34.607 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 19:38:34.667 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 19:38:35.071 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 19:38:36.485 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 19:38:36.500 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:38:41.436 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 19:38:42.298 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 19:38:43.184 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 19:38:46.428 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@119636bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d37c176, org.springframework.security.web.context.SecurityContextHolderFilter@44eb9af1, org.springframework.security.web.header.HeaderWriterFilter@6a4899c, org.springframework.web.filter.CorsFilter@46244e65, org.springframework.security.web.authentication.logout.LogoutFilter@6da075fe, com.ringo.auth.JwtFilter@5a564a61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e4382e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac1ba35, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64b71b49, org.springframework.security.web.session.SessionManagementFilter@4790a29a, org.springframework.security.web.access.ExceptionTranslationFilter@17778985, org.springframework.security.web.access.intercept.AuthorizationFilter@15fa043]
2023-08-13 19:38:46.800 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 19:38:46.813 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.86 seconds (process running for 18.75)
2023-08-13 19:39:03.361 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 19:39:03.362 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 19:39:03.365 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 19:39:03.449 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944741540@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:06.269 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944741540@test.com] is authenticated
2023-08-13 19:39:06.475 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944741540@test.com
2023-08-13 19:39:06.526 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:06.603 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944746567@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:08.407 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944746567@test.com] is authenticated
2023-08-13 19:39:08.521 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944746567@test.com
2023-08-13 19:39:08.570 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 21
2023-08-13 19:39:08.682 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944748655@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:10.721 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944748655@test.com] is authenticated
2023-08-13 19:39:10.791 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944748655@test.com
2023-08-13 19:39:10.830 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 21
2023-08-13 19:39:10.857 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 19:39:10.925 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944750902@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:12.689 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944750902@test.com] is authenticated
2023-08-13 19:39:12.766 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944750902@test.com
2023-08-13 19:39:12.802 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:12.837 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944752821@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:14.650 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944752821@test.com] is authenticated
2023-08-13 19:39:14.748 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944752821@test.com
2023-08-13 19:39:14.783 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 24
2023-08-13 19:39:14.794 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:39:14.836 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944754810@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:16.659 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944754810@test.com] is authenticated
2023-08-13 19:39:16.721 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944754810@test.com
2023-08-13 19:39:16.753 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:16.791 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691944756775@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:18.633 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944756775@test.com] is authenticated
2023-08-13 19:39:18.690 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944756775@test.com
2023-08-13 19:39:18.718 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 26
2023-08-13 19:39:18.785 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691944758772@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:20.585 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944758772@test.com] is authenticated
2023-08-13 19:39:20.643 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944758772@test.com
2023-08-13 19:39:20.673 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 26
2023-08-13 19:39:20.756 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:39:20.756 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(27) is still referenced from table "review".
2023-08-13 19:39:20.769 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:39:20.807 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944760785@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:22.478 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944760785@test.com] is authenticated
2023-08-13 19:39:22.540 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944760785@test.com
2023-08-13 19:39:22.570 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:22.600 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691944762589@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:24.366 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944762589@test.com] is authenticated
2023-08-13 19:39:24.414 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944762589@test.com
2023-08-13 19:39:24.441 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 29
2023-08-13 19:39:24.499 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:39:24.527 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691944764509@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:26.310 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944764509@test.com] is authenticated
2023-08-13 19:39:26.359 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944764509@test.com
2023-08-13 19:39:26.385 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691944766367
2023-08-13 19:39:26.391 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691944766367 was not found
2023-08-13 19:39:26.428 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691944766407@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:28.199 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944766407@test.com] is authenticated
2023-08-13 19:39:28.320 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944766407@test.com
2023-08-13 19:39:28.381 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:28.425 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691944768405@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:30.212 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944768405@test.com] is authenticated
2023-08-13 19:39:30.263 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944768405@test.com
2023-08-13 19:39:30.289 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 32
2023-08-13 19:39:30.396 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 32
2023-08-13 19:39:30.497 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:39:30.497 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(33) is still referenced from table "review".
2023-08-13 19:39:30.499 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:39:30.529 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691944770513@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:32.362 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944770513@test.com] is authenticated
2023-08-13 19:39:32.411 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944770513@test.com
2023-08-13 19:39:32.447 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:32.472 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691944772462@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:34.305 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944772462@test.com] is authenticated
2023-08-13 19:39:34.360 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944772462@test.com
2023-08-13 19:39:34.392 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 34
2023-08-13 19:39:34.458 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 34
2023-08-13 19:39:34.478 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 19:39:34.528 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944774509@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:36.627 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944774509@test.com] is authenticated
2023-08-13 19:39:36.699 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944774509@test.com
2023-08-13 19:39:36.735 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:36.773 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691944776756@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:38.603 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944776756@test.com] is authenticated
2023-08-13 19:39:38.648 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944776756@test.com
2023-08-13 19:39:38.687 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 36
2023-08-13 19:39:38.734 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findOrganisationById: 36
2023-08-13 19:39:38.777 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:39:38.778 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(37) is still referenced from table "review".
2023-08-13 19:39:38.781 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:39:38.807 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691944778792@test.com, role: ROLE_ORGANISATION
2023-08-13 19:39:40.650 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944778792@test.com] is authenticated
2023-08-13 19:39:40.707 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944778792@test.com
2023-08-13 19:39:40.737 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:39:40.795 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691944780776@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:42.613 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944780776@test.com] is authenticated
2023-08-13 19:39:42.656 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944780776@test.com
2023-08-13 19:39:42.680 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 38
2023-08-13 19:39:42.732 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691944782720@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:39:44.519 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944782720@test.com] is authenticated
2023-08-13 19:39:44.562 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944782720@test.com
2023-08-13 19:39:44.586 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:40:01.396 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:40:01.434 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 19:40:01.438 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 19:42:04.714 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49534 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 19:42:04.720 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 19:42:06.239 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 19:42:06.428 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 13 JPA repository interfaces.
2023-08-13 19:42:07.430 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 19:42:07.446 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 19:42:07.446 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 19:42:07.621 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 19:42:07.622 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2562 ms
2023-08-13 19:42:07.791 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 19:42:08.047 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dc82e6a
2023-08-13 19:42:08.050 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 19:42:08.374 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 19:42:08.548 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 19:42:08.653 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 19:42:09.007 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 19:42:09.010 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 19:42:09.013 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 19:42:09.035 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 19:42:09.049 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 19:42:09.267 [main] INFO  liquibase.changelog - Table category created
2023-08-13 19:42:09.270 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 17ms
2023-08-13 19:42:09.287 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 19:42:09.289 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:42:09.307 [main] INFO  liquibase.changelog - Table event created
2023-08-13 19:42:09.309 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:42:09.323 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 19:42:09.326 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:42:09.340 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 19:42:09.342 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:42:09.356 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 19:42:09.359 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:42:09.372 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 19:42:09.374 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.390 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 19:42:09.393 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:42:09.414 [main] INFO  liquibase.changelog - Table label created
2023-08-13 19:42:09.417 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:42:09.434 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 19:42:09.436 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:42:09.452 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 19:42:09.455 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:42:09.472 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 19:42:09.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:42:09.489 [main] INFO  liquibase.changelog - Table review created
2023-08-13 19:42:09.492 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:42:09.508 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 19:42:09.512 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:42:09.532 [main] INFO  liquibase.changelog - Table users created
2023-08-13 19:42:09.535 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 17ms
2023-08-13 19:42:09.549 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 19:42:09.551 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:42:09.564 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 19:42:09.567 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:42:09.579 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 19:42:09.583 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:42:09.595 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 19:42:09.599 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:42:09.611 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 19:42:09.615 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:42:09.626 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 19:42:09.629 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:42:09.643 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 19:42:09.647 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:42:09.661 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 19:42:09.665 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:42:09.676 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 19:42:09.680 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:42:09.690 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 19:42:09.692 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.703 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 19:42:09.706 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.716 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 19:42:09.718 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:42:09.727 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 19:42:09.730 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.740 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 19:42:09.743 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.754 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 19:42:09.757 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:42:09.765 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 19:42:09.767 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:42:09.776 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 19:42:09.796 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 24ms
2023-08-13 19:42:09.806 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 19:42:09.808 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:42:09.819 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 19:42:09.822 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:42:09.832 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 19:42:09.834 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:42:09.846 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 19:42:09.848 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:42:09.857 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 19:42:09.861 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:42:09.870 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 19:42:09.873 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.883 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 19:42:09.885 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:42:09.897 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 19:42:09.899 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:42:09.909 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 19:42:09.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:42:09.923 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 19:42:09.927 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:42:09.937 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 19:42:09.939 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:42:09.960 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:42:09.962 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 16ms
2023-08-13 19:42:09.975 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:42:09.978 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-13 19:42:09.995 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:42:09.998 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-13 19:42:10.010 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 19:42:10.118 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 19:42:10.192 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 19:42:10.556 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 19:42:12.017 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 19:42:12.028 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:42:16.796 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 19:42:17.714 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 19:42:18.578 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 19:42:21.606 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@351c4384, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67e85559, org.springframework.security.web.context.SecurityContextHolderFilter@2d87ac2b, org.springframework.security.web.header.HeaderWriterFilter@32eb46d7, org.springframework.web.filter.CorsFilter@15cba6dc, org.springframework.security.web.authentication.logout.LogoutFilter@59ca0db6, com.ringo.auth.JwtFilter@19cb3f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ad667c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77cfbbba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5789d61d, org.springframework.security.web.session.SessionManagementFilter@d6b8c43, org.springframework.security.web.access.ExceptionTranslationFilter@7fb7be26, org.springframework.security.web.access.intercept.AuthorizationFilter@7514e658]
2023-08-13 19:42:22.014 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 19:42:22.029 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.929 seconds (process running for 18.764)
2023-08-13 19:42:44.109 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 19:42:44.110 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 19:42:44.112 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 19:42:44.265 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944961765@test.com, role: ROLE_ORGANISATION
2023-08-13 19:42:46.581 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944961765@test.com] is authenticated
2023-08-13 19:42:46.788 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944961765@test.com
2023-08-13 19:42:46.850 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:42:46.929 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944966890@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:42:49.045 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944966890@test.com] is authenticated
2023-08-13 19:42:49.130 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944966890@test.com
2023-08-13 19:42:49.192 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 19:42:49.311 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944969285@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:42:51.129 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944969285@test.com] is authenticated
2023-08-13 19:42:51.201 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944969285@test.com
2023-08-13 19:42:51.242 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 19:42:51.267 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 19:42:51.344 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944971323@test.com, role: ROLE_ORGANISATION
2023-08-13 19:42:53.109 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944971323@test.com] is authenticated
2023-08-13 19:42:53.169 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944971323@test.com
2023-08-13 19:42:53.200 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:42:53.243 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944973220@test.com, role: ROLE_ORGANISATION
2023-08-13 19:42:55.019 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944973220@test.com] is authenticated
2023-08-13 19:42:55.079 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944973220@test.com
2023-08-13 19:42:55.121 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 19:42:55.137 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:42:55.200 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691944975175@test.com, role: ROLE_ORGANISATION
2023-08-13 19:42:57.087 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944975175@test.com] is authenticated
2023-08-13 19:42:57.154 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944975175@test.com
2023-08-13 19:42:57.183 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:42:57.220 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944977203@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:42:59.020 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944977203@test.com] is authenticated
2023-08-13 19:42:59.075 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944977203@test.com
2023-08-13 19:42:59.102 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:42:59.175 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944979152@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:00.943 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944979152@test.com] is authenticated
2023-08-13 19:43:00.996 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944979152@test.com
2023-08-13 19:43:01.022 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:43:05.775 [http-nio-8080-exec-11] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:43:05.776 [http-nio-8080-exec-11] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 19:43:05.787 [http-nio-8080-exec-11] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:43:05.821 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944985801@test.com, role: ROLE_ORGANISATION
2023-08-13 19:43:07.726 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944985801@test.com] is authenticated
2023-08-13 19:43:07.787 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944985801@test.com
2023-08-13 19:43:07.817 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:43:07.851 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944987836@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:09.779 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944987836@test.com] is authenticated
2023-08-13 19:43:09.825 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944987836@test.com
2023-08-13 19:43:09.850 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 19:43:09.911 [http-nio-8080-exec-11] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:43:09.943 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944989926@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:11.720 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944989926@test.com] is authenticated
2023-08-13 19:43:11.770 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944989926@test.com
2023-08-13 19:43:11.796 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691944991778
2023-08-13 19:43:11.801 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691944991778 was not found
2023-08-13 19:43:11.830 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691944991813@test.com, role: ROLE_ORGANISATION
2023-08-13 19:43:13.583 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944991813@test.com] is authenticated
2023-08-13 19:43:13.635 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944991813@test.com
2023-08-13 19:43:13.659 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:43:13.692 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691944993676@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:15.596 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944993676@test.com] is authenticated
2023-08-13 19:43:15.642 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944993676@test.com
2023-08-13 19:43:15.667 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 19:43:15.726 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 19:43:15.813 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:43:15.813 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 19:43:15.816 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:43:15.847 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691944995827@test.com, role: ROLE_ORGANISATION
2023-08-13 19:43:17.775 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944995827@test.com] is authenticated
2023-08-13 19:43:17.822 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944995827@test.com
2023-08-13 19:43:17.846 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:43:17.873 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691944997861@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:19.631 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944997861@test.com] is authenticated
2023-08-13 19:43:19.678 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944997861@test.com
2023-08-13 19:43:19.702 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:43:19.771 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:43:19.787 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 19:43:19.819 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691944999801@test.com, role: ROLE_ORGANISATION
2023-08-13 19:43:21.848 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691944999801@test.com] is authenticated
2023-08-13 19:43:21.896 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691944999801@test.com
2023-08-13 19:43:21.916 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:43:21.941 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945001929@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:23.714 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945001929@test.com] is authenticated
2023-08-13 19:43:23.762 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945001929@test.com
2023-08-13 19:43:23.785 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 19:43:23.841 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 19:43:23.876 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:43:23.877 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 19:43:23.879 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:43:23.911 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945003895@test.com, role: ROLE_ORGANISATION
2023-08-13 19:43:25.732 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945003895@test.com] is authenticated
2023-08-13 19:43:25.787 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945003895@test.com
2023-08-13 19:43:25.817 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:43:25.845 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691945005832@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:27.775 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945005832@test.com] is authenticated
2023-08-13 19:43:27.817 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945005832@test.com
2023-08-13 19:43:27.837 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 19:43:27.886 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691945007877@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:43:29.932 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945007877@test.com] is authenticated
2023-08-13 19:43:29.981 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945007877@test.com
2023-08-13 19:43:30.003 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:44:46.184 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:44:46.189 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 19:44:46.192 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 19:45:12.738 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49610 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 19:45:12.743 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 19:45:14.446 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 19:45:14.704 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 244 ms. Found 13 JPA repository interfaces.
2023-08-13 19:45:15.755 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 19:45:15.771 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 19:45:15.772 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 19:45:15.958 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 19:45:15.959 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2769 ms
2023-08-13 19:45:16.177 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 19:45:16.461 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4586a8aa
2023-08-13 19:45:16.466 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 19:45:16.841 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 19:45:17.037 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 19:45:17.148 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 19:45:17.566 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 19:45:17.570 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 19:45:17.572 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 19:45:17.598 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 19:45:17.615 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 19:45:17.870 [main] INFO  liquibase.changelog - Table category created
2023-08-13 19:45:17.874 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 19:45:17.892 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 19:45:17.895 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:45:17.916 [main] INFO  liquibase.changelog - Table event created
2023-08-13 19:45:17.919 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 17ms
2023-08-13 19:45:17.930 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 19:45:17.933 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:45:17.949 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 19:45:17.953 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:45:17.968 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 19:45:17.971 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:45:17.982 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 19:45:17.985 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:45:17.999 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 19:45:18.002 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:45:18.018 [main] INFO  liquibase.changelog - Table label created
2023-08-13 19:45:18.020 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.036 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 19:45:18.039 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.054 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 19:45:18.058 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.075 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 19:45:18.077 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.091 [main] INFO  liquibase.changelog - Table review created
2023-08-13 19:45:18.093 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:45:18.107 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 19:45:18.110 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:45:18.127 [main] INFO  liquibase.changelog - Table users created
2023-08-13 19:45:18.129 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.146 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 19:45:18.149 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.167 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 19:45:18.171 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:45:18.192 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 19:45:18.197 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 17ms
2023-08-13 19:45:18.216 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 19:45:18.220 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:45:18.240 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 19:45:18.244 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:45:18.257 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 19:45:18.260 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:45:18.273 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 19:45:18.277 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:45:18.291 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 19:45:18.294 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:45:18.309 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 19:45:18.311 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:45:18.321 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 19:45:18.324 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:45:18.333 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 19:45:18.335 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:45:18.345 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 19:45:18.347 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:45:18.356 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 19:45:18.360 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:45:18.369 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 19:45:18.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:45:18.382 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 19:45:18.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:45:18.392 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 19:45:18.395 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:45:18.405 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 19:45:18.407 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:45:18.417 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 19:45:18.419 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:45:18.428 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 19:45:18.430 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:45:18.442 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 19:45:18.444 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:45:18.456 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 19:45:18.459 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:45:18.472 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 19:45:18.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:45:18.490 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 19:45:18.494 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:45:18.511 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 19:45:18.515 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:45:18.532 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 19:45:18.536 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:45:18.552 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 19:45:18.555 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:45:18.568 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 19:45:18.570 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:45:18.578 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 19:45:18.580 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:45:18.602 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:45:18.605 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-13 19:45:18.620 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:45:18.624 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 12ms
2023-08-13 19:45:18.642 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:45:18.646 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 14ms
2023-08-13 19:45:18.659 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 19:45:18.800 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 19:45:18.891 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 19:45:19.342 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 19:45:20.763 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 19:45:20.772 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:45:25.846 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 19:45:26.748 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 19:45:27.371 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 19:45:30.167 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c1c9116, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cdf48b9, org.springframework.security.web.context.SecurityContextHolderFilter@64298cad, org.springframework.security.web.header.HeaderWriterFilter@a3ace4, org.springframework.web.filter.CorsFilter@648ec9f4, org.springframework.security.web.authentication.logout.LogoutFilter@2d87ac2b, com.ringo.auth.JwtFilter@65589d76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4aa4a3e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2203fa4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ce4f3ac, org.springframework.security.web.session.SessionManagementFilter@5a0b3704, org.springframework.security.web.access.ExceptionTranslationFilter@41496617, org.springframework.security.web.access.intercept.AuthorizationFilter@11483b6f]
2023-08-13 19:45:30.573 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 19:45:30.587 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.508 seconds (process running for 19.226)
2023-08-13 19:45:45.803 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 19:45:45.804 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 19:45:45.806 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 19:45:45.882 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945144037@test.com, role: ROLE_ORGANISATION
2023-08-13 19:45:48.157 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945144037@test.com] is authenticated
2023-08-13 19:45:48.356 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945144037@test.com
2023-08-13 19:45:48.410 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:45:48.478 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945148444@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:45:50.282 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945148444@test.com] is authenticated
2023-08-13 19:45:50.357 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945148444@test.com
2023-08-13 19:45:50.403 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 19:45:50.516 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945150496@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:45:52.273 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945150496@test.com] is authenticated
2023-08-13 19:45:52.336 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945150496@test.com
2023-08-13 19:45:52.377 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 19:45:52.406 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 19:45:52.483 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945152459@test.com, role: ROLE_ORGANISATION
2023-08-13 19:45:54.319 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945152459@test.com] is authenticated
2023-08-13 19:45:54.375 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945152459@test.com
2023-08-13 19:45:54.405 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:45:54.442 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945154424@test.com, role: ROLE_ORGANISATION
2023-08-13 19:45:56.265 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945154424@test.com] is authenticated
2023-08-13 19:45:56.318 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945154424@test.com
2023-08-13 19:45:56.354 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 19:45:56.368 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:45:56.419 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945156391@test.com, role: ROLE_ORGANISATION
2023-08-13 19:45:58.416 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945156391@test.com] is authenticated
2023-08-13 19:45:58.491 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945156391@test.com
2023-08-13 19:45:58.518 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:45:58.553 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945158538@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:00.248 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945158538@test.com] is authenticated
2023-08-13 19:46:00.297 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945158538@test.com
2023-08-13 19:46:00.321 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:46:00.379 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945160362@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:02.305 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945160362@test.com] is authenticated
2023-08-13 19:46:02.357 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945160362@test.com
2023-08-13 19:46:02.380 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:46:02.458 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:46:02.458 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 19:46:02.470 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:46:02.502 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945162484@test.com, role: ROLE_ORGANISATION
2023-08-13 19:46:04.457 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945162484@test.com] is authenticated
2023-08-13 19:46:04.515 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945162484@test.com
2023-08-13 19:46:04.542 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:46:04.568 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945164557@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:06.499 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945164557@test.com] is authenticated
2023-08-13 19:46:06.539 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945164557@test.com
2023-08-13 19:46:06.568 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 19:46:06.626 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:46:06.658 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945166637@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:08.382 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945166637@test.com] is authenticated
2023-08-13 19:46:08.434 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945166637@test.com
2023-08-13 19:46:08.457 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691945168441
2023-08-13 19:46:08.461 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691945168441 was not found
2023-08-13 19:46:08.489 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945168472@test.com, role: ROLE_ORGANISATION
2023-08-13 19:46:10.321 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945168472@test.com] is authenticated
2023-08-13 19:46:10.364 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945168472@test.com
2023-08-13 19:46:10.386 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:46:10.417 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945170402@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:12.345 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945170402@test.com] is authenticated
2023-08-13 19:46:12.396 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945170402@test.com
2023-08-13 19:46:12.420 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 19:46:12.475 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 19:46:12.575 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:46:12.576 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 19:46:12.578 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:46:12.604 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945172588@test.com, role: ROLE_ORGANISATION
2023-08-13 19:46:14.483 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945172588@test.com] is authenticated
2023-08-13 19:46:14.525 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945172588@test.com
2023-08-13 19:46:14.546 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:46:14.570 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945174558@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:16.639 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945174558@test.com] is authenticated
2023-08-13 19:46:16.687 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945174558@test.com
2023-08-13 19:46:16.715 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:46:16.791 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:46:16.810 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 19:46:16.842 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945176825@test.com, role: ROLE_ORGANISATION
2023-08-13 19:46:18.512 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945176825@test.com] is authenticated
2023-08-13 19:46:18.562 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945176825@test.com
2023-08-13 19:46:18.586 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:46:18.613 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945178602@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:20.241 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945178602@test.com] is authenticated
2023-08-13 19:46:20.284 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945178602@test.com
2023-08-13 19:46:20.306 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 19:46:20.354 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 19:46:20.393 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:46:20.394 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 19:46:20.397 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:46:20.426 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691945180411@test.com, role: ROLE_ORGANISATION
2023-08-13 19:46:22.199 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945180411@test.com] is authenticated
2023-08-13 19:46:22.255 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945180411@test.com
2023-08-13 19:46:22.284 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:46:22.318 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945182301@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:24.012 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945182301@test.com] is authenticated
2023-08-13 19:46:24.054 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945182301@test.com
2023-08-13 19:46:24.078 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 19:46:24.129 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691945184120@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:46:25.853 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945184120@test.com] is authenticated
2023-08-13 19:46:25.895 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945184120@test.com
2023-08-13 19:46:25.918 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:46:45.731 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:46:45.736 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 19:46:45.740 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 19:47:41.776 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49675 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 19:47:41.780 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 19:47:43.369 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 19:47:43.597 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 212 ms. Found 13 JPA repository interfaces.
2023-08-13 19:47:44.653 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 19:47:44.671 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 19:47:44.671 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 19:47:44.849 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 19:47:44.849 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2657 ms
2023-08-13 19:47:45.051 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 19:47:45.320 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@819fb19
2023-08-13 19:47:45.325 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 19:47:45.724 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 19:47:45.902 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 19:47:46.008 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 19:47:46.405 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 19:47:46.409 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 19:47:46.412 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 19:47:46.438 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 19:47:46.452 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 19:47:46.695 [main] INFO  liquibase.changelog - Table category created
2023-08-13 19:47:46.700 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 21ms
2023-08-13 19:47:46.728 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 19:47:46.731 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:47:46.754 [main] INFO  liquibase.changelog - Table event created
2023-08-13 19:47:46.758 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 20ms
2023-08-13 19:47:46.770 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 19:47:46.773 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:46.789 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 19:47:46.793 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:47:46.811 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 19:47:46.815 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:47:46.825 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 19:47:46.828 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:46.841 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 19:47:46.844 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:47:46.861 [main] INFO  liquibase.changelog - Table label created
2023-08-13 19:47:46.865 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:47:46.883 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 19:47:46.886 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:47:46.902 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 19:47:46.905 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:47:46.925 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 19:47:46.929 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:47:46.944 [main] INFO  liquibase.changelog - Table review created
2023-08-13 19:47:46.948 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:47:46.964 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 19:47:46.967 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:47:46.987 [main] INFO  liquibase.changelog - Table users created
2023-08-13 19:47:46.992 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 19ms
2023-08-13 19:47:47.013 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 19:47:47.019 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 18ms
2023-08-13 19:47:47.040 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 19:47:47.044 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:47:47.066 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 19:47:47.072 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 18ms
2023-08-13 19:47:47.092 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 19:47:47.095 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:47:47.112 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 19:47:47.116 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:47:47.130 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 19:47:47.133 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.146 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 19:47:47.149 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.161 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 19:47:47.165 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.177 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 19:47:47.180 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.194 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 19:47:47.198 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:47:47.212 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 19:47:47.216 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:47:47.230 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 19:47:47.233 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:47:47.245 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 19:47:47.248 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.260 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 19:47:47.263 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.276 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 19:47:47.279 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.292 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 19:47:47.294 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.304 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 19:47:47.307 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:47:47.317 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 19:47:47.319 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:47:47.330 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 19:47:47.333 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.343 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 19:47:47.346 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.356 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 19:47:47.359 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.368 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 19:47:47.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:47:47.382 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 19:47:47.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:47:47.395 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 19:47:47.399 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.411 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 19:47:47.414 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.426 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 19:47:47.429 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:47:47.440 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 19:47:47.442 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:47:47.451 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 19:47:47.453 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:47:47.470 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:47:47.472 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 14ms
2023-08-13 19:47:47.485 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:47:47.488 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-13 19:47:47.507 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:47:47.510 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 15ms
2023-08-13 19:47:47.528 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 19:47:47.672 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 19:47:47.781 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 19:47:48.195 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 19:47:49.550 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 19:47:49.561 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:47:54.518 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 19:47:55.066 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 19:47:55.552 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 19:47:58.076 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1497efcc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cab5869, org.springframework.security.web.context.SecurityContextHolderFilter@2203fa4c, org.springframework.security.web.header.HeaderWriterFilter@29820c06, org.springframework.web.filter.CorsFilter@7980eb2, org.springframework.security.web.authentication.logout.LogoutFilter@77cfbbba, com.ringo.auth.JwtFilter@210b4145, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@247113ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ba5272e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ad755c5, org.springframework.security.web.session.SessionManagementFilter@64298cad, org.springframework.security.web.access.ExceptionTranslationFilter@2ab0114a, org.springframework.security.web.access.intercept.AuthorizationFilter@4c1c9116]
2023-08-13 19:47:58.552 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 19:47:58.567 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.404 seconds (process running for 18.096)
2023-08-13 19:48:19.148 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 19:48:19.149 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 19:48:19.151 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 19:48:19.233 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945297371@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:21.535 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945297371@test.com] is authenticated
2023-08-13 19:48:21.730 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945297371@test.com
2023-08-13 19:48:21.780 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:21.852 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945301814@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:23.530 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945301814@test.com] is authenticated
2023-08-13 19:48:23.598 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945301814@test.com
2023-08-13 19:48:23.648 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 19:48:23.700 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:48:23.765 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945303744@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:25.368 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945303744@test.com] is authenticated
2023-08-13 19:48:25.452 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945303744@test.com
2023-08-13 19:48:25.512 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:25.562 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945305536@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:27.313 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945305536@test.com] is authenticated
2023-08-13 19:48:27.376 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945305536@test.com
2023-08-13 19:48:27.413 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 19:48:27.426 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:48:27.470 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945307447@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:29.064 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945307447@test.com] is authenticated
2023-08-13 19:48:29.117 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945307447@test.com
2023-08-13 19:48:29.155 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:29.196 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945309173@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:31.821 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945309173@test.com] is authenticated
2023-08-13 19:48:31.880 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945309173@test.com
2023-08-13 19:48:31.915 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 19:48:31.932 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:48:31.966 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945311947@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:33.723 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945311947@test.com] is authenticated
2023-08-13 19:48:33.771 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945311947@test.com
2023-08-13 19:48:33.793 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:33.818 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945313807@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:35.608 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945313807@test.com] is authenticated
2023-08-13 19:48:35.659 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945313807@test.com
2023-08-13 19:48:35.685 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 7
2023-08-13 19:48:35.698 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:48:35.722 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945315707@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:37.342 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945315707@test.com] is authenticated
2023-08-13 19:48:37.389 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945315707@test.com
2023-08-13 19:48:37.412 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691945317396
2023-08-13 19:48:37.416 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691945317396 was not found
2023-08-13 19:48:37.442 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945317430@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:39.495 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945317430@test.com] is authenticated
2023-08-13 19:48:39.558 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945317430@test.com
2023-08-13 19:48:39.582 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:39.611 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945319597@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:41.438 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945319597@test.com] is authenticated
2023-08-13 19:48:41.482 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945319597@test.com
2023-08-13 19:48:41.503 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 10
2023-08-13 19:48:41.515 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:48:41.544 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945321526@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:43.257 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945321526@test.com] is authenticated
2023-08-13 19:48:43.307 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945321526@test.com
2023-08-13 19:48:43.329 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:43.350 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945323340@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:45.020 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945323340@test.com] is authenticated
2023-08-13 19:48:45.072 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945323340@test.com
2023-08-13 19:48:45.099 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 19:48:45.113 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:48:45.134 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945325122@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:46.967 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945325122@test.com] is authenticated
2023-08-13 19:48:47.018 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945325122@test.com
2023-08-13 19:48:47.042 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:47.067 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945327057@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:48.878 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945327057@test.com] is authenticated
2023-08-13 19:48:48.916 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945327057@test.com
2023-08-13 19:48:48.939 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:48:48.951 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:48:48.981 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945328965@test.com, role: ROLE_ORGANISATION
2023-08-13 19:48:50.856 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945328965@test.com] is authenticated
2023-08-13 19:48:50.904 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945328965@test.com
2023-08-13 19:48:50.926 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:48:50.971 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945330958@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:48:52.697 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945330958@test.com] is authenticated
2023-08-13 19:48:52.741 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945330958@test.com
2023-08-13 19:48:52.766 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 19:48:52.780 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.ringo.model.company.Participant
2023-08-13 19:50:19.601 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:50:19.610 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 19:50:19.615 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 19:50:33.358 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49756 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 19:50:33.362 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 19:50:34.751 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 19:50:34.936 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 172 ms. Found 13 JPA repository interfaces.
2023-08-13 19:50:35.808 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 19:50:35.820 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 19:50:35.821 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 19:50:35.967 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 19:50:35.968 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2283 ms
2023-08-13 19:50:36.132 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 19:50:36.345 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2c34402
2023-08-13 19:50:36.348 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 19:50:36.652 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 19:50:36.839 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 19:50:36.946 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 19:50:37.303 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 19:50:37.308 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 19:50:37.311 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 19:50:37.333 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 19:50:37.347 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 19:50:37.551 [main] INFO  liquibase.changelog - Table category created
2023-08-13 19:50:37.555 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:50:37.573 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 19:50:37.576 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:50:37.593 [main] INFO  liquibase.changelog - Table event created
2023-08-13 19:50:37.596 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:50:37.608 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 19:50:37.612 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:50:37.631 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 19:50:37.634 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:50:37.653 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 19:50:37.657 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:50:37.673 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 19:50:37.677 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:50:37.697 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 19:50:37.701 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:50:37.724 [main] INFO  liquibase.changelog - Table label created
2023-08-13 19:50:37.728 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 20ms
2023-08-13 19:50:37.746 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 19:50:37.749 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:50:37.762 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 19:50:37.764 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:37.786 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 19:50:37.789 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 18ms
2023-08-13 19:50:37.802 [main] INFO  liquibase.changelog - Table review created
2023-08-13 19:50:37.805 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:50:37.824 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 19:50:37.827 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 17ms
2023-08-13 19:50:37.843 [main] INFO  liquibase.changelog - Table users created
2023-08-13 19:50:37.845 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:50:37.859 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 19:50:37.861 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:50:37.873 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 19:50:37.876 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:50:37.890 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 19:50:37.892 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:50:37.907 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 19:50:37.909 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:50:37.926 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 19:50:37.929 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:50:37.944 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 19:50:37.948 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:50:37.964 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 19:50:37.968 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:50:37.982 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 19:50:37.985 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.000 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 19:50:38.004 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:50:38.016 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 19:50:38.019 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.030 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 19:50:38.032 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.044 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 19:50:38.047 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.058 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 19:50:38.081 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 29ms
2023-08-13 19:50:38.092 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 19:50:38.095 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:50:38.104 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 19:50:38.106 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.116 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 19:50:38.118 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.128 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 19:50:38.131 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:50:38.140 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 19:50:38.142 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.153 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 19:50:38.157 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.167 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 19:50:38.172 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:50:38.183 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 19:50:38.186 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.198 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 19:50:38.200 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:50:38.213 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 19:50:38.216 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.230 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 19:50:38.233 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.246 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 19:50:38.249 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.263 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 19:50:38.266 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.281 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 19:50:38.284 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:50:38.299 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 19:50:38.303 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:50:38.326 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:50:38.328 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 17ms
2023-08-13 19:50:38.341 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:50:38.344 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-13 19:50:38.358 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:50:38.360 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-13 19:50:38.371 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 19:50:38.491 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 19:50:38.556 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 19:50:38.921 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 19:50:40.208 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 19:50:40.220 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:50:44.914 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 19:50:46.552 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 19:50:47.685 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 19:50:50.580 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@756fd0aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a9ea4d9, org.springframework.security.web.context.SecurityContextHolderFilter@4f98ae97, org.springframework.security.web.header.HeaderWriterFilter@247113ce, org.springframework.web.filter.CorsFilter@59df8444, org.springframework.security.web.authentication.logout.LogoutFilter@bca34d, com.ringo.auth.JwtFilter@38682845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@738f6e44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43759560, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59ca0db6, org.springframework.security.web.session.SessionManagementFilter@32eb46d7, org.springframework.security.web.access.ExceptionTranslationFilter@2203fa4c, org.springframework.security.web.access.intercept.AuthorizationFilter@363b24aa]
2023-08-13 19:50:50.969 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 19:50:50.983 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.188 seconds (process running for 18.904)
2023-08-13 19:51:38.429 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 19:51:38.430 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 19:51:38.432 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 19:51:38.517 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945496557@test.com, role: ROLE_ORGANISATION
2023-08-13 19:51:40.965 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945496557@test.com] is authenticated
2023-08-13 19:51:41.164 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945496557@test.com
2023-08-13 19:51:41.212 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:51:41.278 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945501243@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:51:42.908 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945501243@test.com] is authenticated
2023-08-13 19:51:42.995 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945501243@test.com
2023-08-13 19:51:43.048 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 19:51:43.164 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945503144@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:51:44.954 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945503144@test.com] is authenticated
2023-08-13 19:51:45.042 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945503144@test.com
2023-08-13 19:51:45.087 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 19:51:45.112 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 19:51:45.174 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945505159@test.com, role: ROLE_ORGANISATION
2023-08-13 19:51:46.776 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945505159@test.com] is authenticated
2023-08-13 19:51:46.839 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945505159@test.com
2023-08-13 19:51:46.865 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:51:46.902 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945506885@test.com, role: ROLE_ORGANISATION
2023-08-13 19:51:48.503 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945506885@test.com] is authenticated
2023-08-13 19:51:48.577 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945506885@test.com
2023-08-13 19:51:48.619 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 19:51:48.634 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:51:48.678 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945508652@test.com, role: ROLE_ORGANISATION
2023-08-13 19:51:50.310 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945508652@test.com] is authenticated
2023-08-13 19:51:50.380 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945508652@test.com
2023-08-13 19:51:50.409 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:51:50.442 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945510427@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:51:52.194 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945510427@test.com] is authenticated
2023-08-13 19:51:52.279 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945510427@test.com
2023-08-13 19:51:52.334 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:51:52.401 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691945512386@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:51:54.376 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945512386@test.com] is authenticated
2023-08-13 19:51:54.432 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945512386@test.com
2023-08-13 19:51:54.462 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:51:54.549 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:51:54.550 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 19:51:54.562 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:51:54.598 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945514577@test.com, role: ROLE_ORGANISATION
2023-08-13 19:51:56.199 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945514577@test.com] is authenticated
2023-08-13 19:51:56.253 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945514577@test.com
2023-08-13 19:51:56.280 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:51:56.311 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691945516297@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:51:57.957 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945516297@test.com] is authenticated
2023-08-13 19:51:57.999 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945516297@test.com
2023-08-13 19:51:58.019 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 19:51:58.074 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:51:58.103 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945518087@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:51:59.725 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945518087@test.com] is authenticated
2023-08-13 19:51:59.775 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945518087@test.com
2023-08-13 19:51:59.798 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691945519783
2023-08-13 19:51:59.802 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691945519783 was not found
2023-08-13 19:51:59.829 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691945519813@test.com, role: ROLE_ORGANISATION
2023-08-13 19:52:01.439 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945519813@test.com] is authenticated
2023-08-13 19:52:01.494 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945519813@test.com
2023-08-13 19:52:01.519 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:52:01.548 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945521535@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:52:03.174 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945521535@test.com] is authenticated
2023-08-13 19:52:03.228 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945521535@test.com
2023-08-13 19:52:03.254 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 19:52:03.325 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 19:52:03.407 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:52:03.407 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 19:52:03.410 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:52:03.437 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945523421@test.com, role: ROLE_ORGANISATION
2023-08-13 19:52:05.227 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945523421@test.com] is authenticated
2023-08-13 19:52:05.283 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945523421@test.com
2023-08-13 19:52:05.311 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:52:05.338 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945525328@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:52:06.934 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945525328@test.com] is authenticated
2023-08-13 19:52:06.988 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945525328@test.com
2023-08-13 19:52:07.029 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:52:07.111 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:52:07.126 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 19:52:07.159 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945527138@test.com, role: ROLE_ORGANISATION
2023-08-13 19:52:08.910 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945527138@test.com] is authenticated
2023-08-13 19:52:08.957 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945527138@test.com
2023-08-13 19:52:08.978 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:52:08.998 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945528989@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:52:10.695 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945528989@test.com] is authenticated
2023-08-13 19:52:10.737 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945528989@test.com
2023-08-13 19:52:10.763 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 19:52:10.813 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 19:52:10.847 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:52:10.847 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 19:52:10.850 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:52:10.876 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691945530862@test.com, role: ROLE_ORGANISATION
2023-08-13 19:52:12.490 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945530862@test.com] is authenticated
2023-08-13 19:52:12.536 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945530862@test.com
2023-08-13 19:52:12.560 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:52:12.590 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945532576@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:52:14.202 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945532576@test.com] is authenticated
2023-08-13 19:52:14.246 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945532576@test.com
2023-08-13 19:52:14.269 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 19:52:14.323 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691945534314@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:52:15.996 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945534314@test.com] is authenticated
2023-08-13 19:52:16.038 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945534314@test.com
2023-08-13 19:52:16.057 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:52:36.119 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:52:36.122 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 19:52:36.125 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 19:54:00.966 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 49831 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 19:54:00.971 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 19:54:02.617 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 19:54:02.869 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 237 ms. Found 13 JPA repository interfaces.
2023-08-13 19:54:04.022 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 19:54:04.048 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 19:54:04.049 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 19:54:04.297 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 19:54:04.298 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2920 ms
2023-08-13 19:54:04.532 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 19:54:05.091 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@49cb5030
2023-08-13 19:54:05.098 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 19:54:05.708 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 19:54:05.987 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 19:54:06.222 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 19:54:06.714 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 19:54:06.721 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 19:54:06.725 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 19:54:06.761 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 19:54:06.782 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 19:54:07.152 [main] INFO  liquibase.changelog - Table category created
2023-08-13 19:54:07.157 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 19:54:07.183 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 19:54:07.186 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:54:07.217 [main] INFO  liquibase.changelog - Table event created
2023-08-13 19:54:07.220 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 24ms
2023-08-13 19:54:07.234 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 19:54:07.238 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:54:07.256 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 19:54:07.260 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:54:07.284 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 19:54:07.290 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 22ms
2023-08-13 19:54:07.310 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 19:54:07.317 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:54:07.338 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 19:54:07.342 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 16ms
2023-08-13 19:54:07.368 [main] INFO  liquibase.changelog - Table label created
2023-08-13 19:54:07.373 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 21ms
2023-08-13 19:54:07.404 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 19:54:07.409 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 25ms
2023-08-13 19:54:07.433 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 19:54:07.437 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 18ms
2023-08-13 19:54:07.469 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 19:54:07.473 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 24ms
2023-08-13 19:54:07.501 [main] INFO  liquibase.changelog - Table review created
2023-08-13 19:54:07.506 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 20ms
2023-08-13 19:54:07.535 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 19:54:07.539 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 21ms
2023-08-13 19:54:07.560 [main] INFO  liquibase.changelog - Table users created
2023-08-13 19:54:07.565 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 18ms
2023-08-13 19:54:07.583 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 19:54:07.586 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:54:07.602 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 19:54:07.605 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 12ms
2023-08-13 19:54:07.620 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 19:54:07.623 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:54:07.638 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 19:54:07.641 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:54:07.661 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 19:54:07.667 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:54:07.682 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 19:54:07.685 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:54:07.700 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 19:54:07.704 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:54:07.721 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 19:54:07.724 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 13ms
2023-08-13 19:54:07.738 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 19:54:07.741 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:54:07.754 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 19:54:07.756 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:54:07.770 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 19:54:07.774 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:54:07.787 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 19:54:07.791 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:54:07.803 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 19:54:07.807 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:54:07.820 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 19:54:07.824 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:54:07.835 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 19:54:07.837 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 19:54:07.847 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 19:54:07.850 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:54:07.861 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 19:54:07.863 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:54:07.874 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 19:54:07.877 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:54:07.886 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 19:54:07.890 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:54:07.901 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 19:54:07.903 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:54:07.915 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 19:54:07.918 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 19:54:07.928 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 19:54:07.931 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 19:54:07.945 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 19:54:07.949 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:54:07.966 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 19:54:07.970 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 15ms
2023-08-13 19:54:07.990 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 19:54:07.993 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 14ms
2023-08-13 19:54:08.007 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 19:54:08.011 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 10ms
2023-08-13 19:54:08.024 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 19:54:08.029 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 11ms
2023-08-13 19:54:08.041 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 19:54:08.044 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 9ms
2023-08-13 19:54:08.079 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:54:08.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 34ms
2023-08-13 19:54:08.106 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:54:08.111 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 15ms
2023-08-13 19:54:08.132 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 19:54:08.136 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 17ms
2023-08-13 19:54:08.148 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 19:54:08.286 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 19:54:08.435 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 19:54:08.904 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 19:54:10.494 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 19:54:10.505 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:54:15.708 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 19:54:16.228 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 19:54:16.889 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 19:54:20.858 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1966ec08, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a178d0e, org.springframework.security.web.context.SecurityContextHolderFilter@4c1c9116, org.springframework.security.web.header.HeaderWriterFilter@6593f4fd, org.springframework.web.filter.CorsFilter@48446968, org.springframework.security.web.authentication.logout.LogoutFilter@351c4384, com.ringo.auth.JwtFilter@497d9489, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ce4f3ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1497efcc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46e052e5, org.springframework.security.web.session.SessionManagementFilter@11483b6f, org.springframework.security.web.access.ExceptionTranslationFilter@2571d0c, org.springframework.security.web.access.intercept.AuthorizationFilter@6bb500fa]
2023-08-13 19:54:21.337 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 19:54:21.355 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 21.138 seconds (process running for 21.932)
2023-08-13 19:54:47.571 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 19:54:47.572 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 19:54:47.574 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 19:54:47.662 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945685568@test.com, role: ROLE_ORGANISATION
2023-08-13 19:54:50.226 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945685568@test.com] is authenticated
2023-08-13 19:54:50.469 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945685568@test.com
2023-08-13 19:54:50.533 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:54:50.592 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945690565@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:54:52.255 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945690565@test.com] is authenticated
2023-08-13 19:54:52.327 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945690565@test.com
2023-08-13 19:54:52.377 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 19:54:52.506 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945692483@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:54:54.298 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945692483@test.com] is authenticated
2023-08-13 19:54:54.369 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945692483@test.com
2023-08-13 19:54:54.412 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 1
2023-08-13 19:54:54.439 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 19:54:54.510 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945694488@test.com, role: ROLE_ORGANISATION
2023-08-13 19:54:56.236 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945694488@test.com] is authenticated
2023-08-13 19:54:56.298 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945694488@test.com
2023-08-13 19:54:56.332 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:54:56.374 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945696352@test.com, role: ROLE_ORGANISATION
2023-08-13 19:54:58.185 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945696352@test.com] is authenticated
2023-08-13 19:54:58.240 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945696352@test.com
2023-08-13 19:54:58.271 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 4
2023-08-13 19:54:58.284 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:54:58.331 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945698305@test.com, role: ROLE_ORGANISATION
2023-08-13 19:55:00.136 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945698305@test.com] is authenticated
2023-08-13 19:55:00.224 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945698305@test.com
2023-08-13 19:55:00.270 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:55:00.306 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945700291@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:02.020 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945700291@test.com] is authenticated
2023-08-13 19:55:02.075 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945700291@test.com
2023-08-13 19:55:02.103 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:55:02.159 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945702144@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:03.762 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945702144@test.com] is authenticated
2023-08-13 19:55:03.813 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945702144@test.com
2023-08-13 19:55:03.840 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 19:55:03.901 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:55:03.901 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(7) is still referenced from table "review".
2023-08-13 19:55:03.910 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:55:03.948 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691945703925@test.com, role: ROLE_ORGANISATION
2023-08-13 19:55:05.580 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945703925@test.com] is authenticated
2023-08-13 19:55:05.640 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945703925@test.com
2023-08-13 19:55:05.668 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:55:05.693 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691945705682@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:07.312 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945705682@test.com] is authenticated
2023-08-13 19:55:07.370 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945705682@test.com
2023-08-13 19:55:07.403 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 19:55:07.467 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:55:07.514 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945707486@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:09.236 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945707486@test.com] is authenticated
2023-08-13 19:55:09.295 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945707486@test.com
2023-08-13 19:55:09.324 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691945709304
2023-08-13 19:55:09.329 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691945709304 was not found
2023-08-13 19:55:09.361 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691945709341@test.com, role: ROLE_ORGANISATION
2023-08-13 19:55:11.135 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945709341@test.com] is authenticated
2023-08-13 19:55:11.209 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945709341@test.com
2023-08-13 19:55:11.265 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:55:11.327 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945711306@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:13.030 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945711306@test.com] is authenticated
2023-08-13 19:55:13.079 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945711306@test.com
2023-08-13 19:55:13.105 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 12
2023-08-13 19:55:13.162 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 12
2023-08-13 19:55:13.248 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:55:13.249 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(13) is still referenced from table "review".
2023-08-13 19:55:13.251 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:55:13.283 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945713265@test.com, role: ROLE_ORGANISATION
2023-08-13 19:55:15.072 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945713265@test.com] is authenticated
2023-08-13 19:55:15.116 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945713265@test.com
2023-08-13 19:55:15.139 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:55:15.163 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945715153@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:16.923 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945715153@test.com] is authenticated
2023-08-13 19:55:16.974 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945715153@test.com
2023-08-13 19:55:16.999 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:55:17.074 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 14
2023-08-13 19:55:17.089 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 19:55:17.118 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691945717101@test.com, role: ROLE_ORGANISATION
2023-08-13 19:55:18.756 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945717101@test.com] is authenticated
2023-08-13 19:55:18.806 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945717101@test.com
2023-08-13 19:55:18.828 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:55:18.850 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945718841@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:20.604 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945718841@test.com] is authenticated
2023-08-13 19:55:20.648 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945718841@test.com
2023-08-13 19:55:20.674 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 16
2023-08-13 19:55:20.730 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 16
2023-08-13 19:55:20.763 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:55:20.763 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(17) is still referenced from table "review".
2023-08-13 19:55:20.765 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:55:20.791 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691945720776@test.com, role: ROLE_ORGANISATION
2023-08-13 19:55:22.386 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945720776@test.com] is authenticated
2023-08-13 19:55:22.440 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945720776@test.com
2023-08-13 19:55:22.461 [http-nio-8080-exec-13] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:55:22.485 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945722476@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:24.186 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945722476@test.com] is authenticated
2023-08-13 19:55:24.225 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945722476@test.com
2023-08-13 19:55:24.247 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 18
2023-08-13 19:55:24.293 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945724283@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:55:25.861 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945724283@test.com] is authenticated
2023-08-13 19:55:25.903 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945724283@test.com
2023-08-13 19:55:25.926 [http-nio-8080-exec-12] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:57:43.051 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945861007@test.com, role: ROLE_ORGANISATION
2023-08-13 19:57:45.065 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945861007@test.com] is authenticated
2023-08-13 19:57:45.197 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945861007@test.com
2023-08-13 19:57:45.248 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:57:45.305 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691945865276@test.com, role: ROLE_ORGANISATION
2023-08-13 19:57:47.157 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945865276@test.com] is authenticated
2023-08-13 19:57:47.230 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945865276@test.com
2023-08-13 19:57:47.269 [http-nio-8080-exec-14] INFO  c.r.service.company.ReviewService - rateOrganisation: 21
2023-08-13 19:57:47.278 [http-nio-8080-exec-14] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 19:57:47.341 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945867319@test.com, role: ROLE_ORGANISATION
2023-08-13 19:57:49.023 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945867319@test.com] is authenticated
2023-08-13 19:57:49.080 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945867319@test.com
2023-08-13 19:57:49.111 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:57:49.147 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691945869131@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:57:51.765 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945869131@test.com] is authenticated
2023-08-13 19:57:51.826 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945869131@test.com
2023-08-13 19:57:51.860 [http-nio-8080-exec-14] INFO  c.r.service.company.ReviewService - rateOrganisation: 23
2023-08-13 19:57:51.931 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945871916@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:57:53.530 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945871916@test.com] is authenticated
2023-08-13 19:57:53.575 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945871916@test.com
2023-08-13 19:57:53.600 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 23
2023-08-13 19:57:53.663 [http-nio-8080-exec-11] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:57:53.663 [http-nio-8080-exec-11] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(24) is still referenced from table "review".
2023-08-13 19:57:53.666 [http-nio-8080-exec-11] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:57:53.698 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691945873684@test.com, role: ROLE_ORGANISATION
2023-08-13 19:57:55.311 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945873684@test.com] is authenticated
2023-08-13 19:57:55.375 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945873684@test.com
2023-08-13 19:57:55.416 [http-nio-8080-exec-13] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:57:55.453 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691945875438@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:57:57.281 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945875438@test.com] is authenticated
2023-08-13 19:57:57.330 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945875438@test.com
2023-08-13 19:57:57.359 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 26
2023-08-13 19:57:57.418 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:57:57.455 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691945877434@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:57:59.123 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945877434@test.com] is authenticated
2023-08-13 19:57:59.166 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945877434@test.com
2023-08-13 19:57:59.191 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691945879173
2023-08-13 19:57:59.195 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691945879173 was not found
2023-08-13 19:57:59.229 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691945879209@test.com, role: ROLE_ORGANISATION
2023-08-13 19:58:00.838 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945879209@test.com] is authenticated
2023-08-13 19:58:00.884 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945879209@test.com
2023-08-13 19:58:00.911 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:58:00.938 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691945880927@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:58:02.520 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945880927@test.com] is authenticated
2023-08-13 19:58:02.563 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945880927@test.com
2023-08-13 19:58:02.591 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 29
2023-08-13 19:58:02.643 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 29
2023-08-13 19:58:02.714 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:58:02.714 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(30) is still referenced from table "review".
2023-08-13 19:58:02.717 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:58:02.746 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945882728@test.com, role: ROLE_ORGANISATION
2023-08-13 19:58:04.448 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945882728@test.com] is authenticated
2023-08-13 19:58:04.493 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945882728@test.com
2023-08-13 19:58:04.512 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:58:04.535 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945884525@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:58:06.203 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945884525@test.com] is authenticated
2023-08-13 19:58:06.246 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945884525@test.com
2023-08-13 19:58:06.275 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 31
2023-08-13 19:58:06.288 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 19:58:06.332 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691945886313@test.com, role: ROLE_ORGANISATION
2023-08-13 19:58:08.027 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945886313@test.com] is authenticated
2023-08-13 19:58:08.070 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945886313@test.com
2023-08-13 19:58:08.090 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:58:08.114 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691945888104@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:58:09.869 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945888104@test.com] is authenticated
2023-08-13 19:58:09.910 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945888104@test.com
2023-08-13 19:58:09.932 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 33
2023-08-13 19:58:09.986 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 33
2023-08-13 19:58:09.998 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 19:58:10.024 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945890010@test.com, role: ROLE_ORGANISATION
2023-08-13 19:58:11.756 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945890010@test.com] is authenticated
2023-08-13 19:58:11.795 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945890010@test.com
2023-08-13 19:58:11.816 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:58:11.841 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691945891829@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:58:13.493 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945891829@test.com] is authenticated
2023-08-13 19:58:13.538 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945891829@test.com
2023-08-13 19:58:13.556 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 19:58:13.583 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691945893568@test.com, role: ROLE_ORGANISATION
2023-08-13 19:58:15.229 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945893568@test.com] is authenticated
2023-08-13 19:58:15.270 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945893568@test.com
2023-08-13 19:58:15.290 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 19:58:15.314 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691945895303@test.com, role: ROLE_PARTICIPANT
2023-08-13 19:58:16.934 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691945895303@test.com] is authenticated
2023-08-13 19:58:16.969 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691945895303@test.com
2023-08-13 19:58:16.989 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 37
2023-08-13 19:58:17.044 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findOrganisationById: 37
2023-08-13 19:58:17.079 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 19:58:17.079 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(38) is still referenced from table "review".
2023-08-13 19:58:17.082 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 19:58:45.418 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 19:58:45.425 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 19:58:45.429 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:01:35.546 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50027 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:01:35.551 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:01:37.057 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:01:37.252 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 13 JPA repository interfaces.
2023-08-13 20:01:38.179 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:01:38.206 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:01:38.207 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:01:38.376 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:01:38.376 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2459 ms
2023-08-13 20:01:38.547 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:01:38.777 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3dc82e6a
2023-08-13 20:01:38.780 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:01:39.086 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:01:39.232 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:01:39.363 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:01:39.736 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:01:39.740 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:01:39.742 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:01:39.836 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:01:39.993 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:01:40.107 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:01:40.168 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:01:40.542 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:01:41.986 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:01:41.999 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:01:46.183 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:01:47.097 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:01:48.002 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:01:51.889 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@236a641a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c9a5397, org.springframework.security.web.context.SecurityContextHolderFilter@2c49bc22, org.springframework.security.web.header.HeaderWriterFilter@315139e2, org.springframework.web.filter.CorsFilter@61761e60, org.springframework.security.web.authentication.logout.LogoutFilter@343f01c7, com.ringo.auth.JwtFilter@51a42767, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b406bc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30d0e28e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@198fb504, org.springframework.security.web.session.SessionManagementFilter@41fd7740, org.springframework.security.web.access.ExceptionTranslationFilter@23497c5e, org.springframework.security.web.access.intercept.AuthorizationFilter@1c486cec]
2023-08-13 20:01:52.356 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:01:52.371 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.482 seconds (process running for 18.308)
2023-08-13 20:02:15.180 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:02:15.181 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:02:15.184 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-13 20:02:15.270 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946133302@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:17.602 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946133302@test.com] is authenticated
2023-08-13 20:02:17.822 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946133302@test.com
2023-08-13 20:02:17.896 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:17.965 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946137932@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:19.620 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946137932@test.com] is authenticated
2023-08-13 20:02:19.692 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946137932@test.com
2023-08-13 20:02:19.754 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 39
2023-08-13 20:02:19.781 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:02:19.850 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946139828@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:21.593 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946139828@test.com] is authenticated
2023-08-13 20:02:21.658 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946139828@test.com
2023-08-13 20:02:21.692 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:21.744 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946141718@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:23.433 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946141718@test.com] is authenticated
2023-08-13 20:02:23.489 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946141718@test.com
2023-08-13 20:02:23.522 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 41
2023-08-13 20:02:23.617 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946143599@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:25.272 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946143599@test.com] is authenticated
2023-08-13 20:02:25.335 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946143599@test.com
2023-08-13 20:02:25.367 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 41
2023-08-13 20:02:25.469 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 20:02:25.470 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(42) is still referenced from table "review".
2023-08-13 20:02:25.485 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 20:02:25.558 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946145528@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:27.219 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946145528@test.com] is authenticated
2023-08-13 20:02:27.286 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946145528@test.com
2023-08-13 20:02:27.318 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:27.358 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691946147336@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:29.199 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946147336@test.com] is authenticated
2023-08-13 20:02:29.288 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946147336@test.com
2023-08-13 20:02:29.327 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 44
2023-08-13 20:02:29.433 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:02:29.469 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946149447@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:31.236 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946149447@test.com] is authenticated
2023-08-13 20:02:31.290 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946149447@test.com
2023-08-13 20:02:31.314 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691946151299
2023-08-13 20:02:31.318 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691946151299 was not found
2023-08-13 20:02:31.349 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691946151329@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:33.067 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946151329@test.com] is authenticated
2023-08-13 20:02:33.130 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946151329@test.com
2023-08-13 20:02:33.168 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:33.211 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946153191@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:34.991 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946153191@test.com] is authenticated
2023-08-13 20:02:35.039 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946153191@test.com
2023-08-13 20:02:35.064 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 47
2023-08-13 20:02:35.131 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 47
2023-08-13 20:02:35.235 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 20:02:35.235 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(48) is still referenced from table "review".
2023-08-13 20:02:35.239 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 20:02:35.273 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946155252@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:36.972 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946155252@test.com] is authenticated
2023-08-13 20:02:37.022 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946155252@test.com
2023-08-13 20:02:37.045 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:37.071 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691946157059@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:38.781 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946157059@test.com] is authenticated
2023-08-13 20:02:38.825 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946157059@test.com
2023-08-13 20:02:38.850 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 49
2023-08-13 20:02:38.863 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:02:38.893 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946158876@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:40.556 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946158876@test.com] is authenticated
2023-08-13 20:02:40.608 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946158876@test.com
2023-08-13 20:02:40.631 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:40.652 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691946160643@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:42.365 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946160643@test.com] is authenticated
2023-08-13 20:02:42.414 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946160643@test.com
2023-08-13 20:02:42.438 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 51
2023-08-13 20:02:42.497 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 51
2023-08-13 20:02:42.513 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:02:42.545 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691946162527@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:44.324 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946162527@test.com] is authenticated
2023-08-13 20:02:44.373 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946162527@test.com
2023-08-13 20:02:44.395 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:44.421 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691946164410@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:46.105 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946164410@test.com] is authenticated
2023-08-13 20:02:46.151 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946164410@test.com
2023-08-13 20:02:46.173 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:02:46.198 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691946166183@test.com, role: ROLE_ORGANISATION
2023-08-13 20:02:47.895 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946166183@test.com] is authenticated
2023-08-13 20:02:47.937 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946166183@test.com
2023-08-13 20:02:47.960 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:02:47.986 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691946167974@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:02:49.944 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946167974@test.com] is authenticated
2023-08-13 20:02:49.991 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946167974@test.com
2023-08-13 20:02:50.025 [http-nio-8080-exec-14] INFO  c.r.service.company.ReviewService - rateOrganisation: 55
2023-08-13 20:02:50.099 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 55
2023-08-13 20:02:50.161 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-13 20:02:50.161 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "participant" violates foreign key constraint "fk_review_on_participant" on table "review"
  Detail: Key (id)=(56) is still referenced from table "review".
2023-08-13 20:02:50.166 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_review_on_participant]
2023-08-13 20:04:36.037 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:04:36.043 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:04:36.046 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:05:33.970 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50141 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:05:33.975 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:05:35.645 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:05:35.845 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 184 ms. Found 13 JPA repository interfaces.
2023-08-13 20:05:37.036 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:05:37.059 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:05:37.060 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:05:37.315 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:05:37.316 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2873 ms
2023-08-13 20:05:37.543 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:05:37.813 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5d3f99d7
2023-08-13 20:05:37.817 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:05:38.264 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:05:38.553 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:05:38.697 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:05:39.346 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:05:39.351 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:05:39.354 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:05:39.386 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:05:39.423 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:05:39.778 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:05:39.785 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 31ms
2023-08-13 20:05:39.817 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:05:39.821 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:05:39.864 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:05:39.868 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 33ms
2023-08-13 20:05:39.884 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:05:39.888 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:05:39.910 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:05:39.913 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:05:39.934 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:05:39.962 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 40ms
2023-08-13 20:05:40.100 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:05:40.106 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 60ms
2023-08-13 20:05:40.154 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:05:40.159 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 20ms
2023-08-13 20:05:40.183 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:05:40.187 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 20ms
2023-08-13 20:05:40.212 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:05:40.215 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:05:40.232 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:05:40.236 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:05:40.257 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:05:40.261 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:05:40.283 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:05:40.287 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 17ms
2023-08-13 20:05:40.318 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:05:40.322 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 22ms
2023-08-13 20:05:40.350 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:05:40.354 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 22ms
2023-08-13 20:05:40.380 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:05:40.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:05:40.412 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:05:40.416 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 21ms
2023-08-13 20:05:40.471 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:05:40.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:05:40.494 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:05:40.497 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:05:40.516 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:05:40.520 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:05:40.538 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:05:40.542 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:05:40.559 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:05:40.563 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:05:40.579 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:05:40.583 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:05:40.599 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:05:40.601 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:05:40.615 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:05:40.617 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:05:40.630 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:05:40.632 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:05:40.643 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:05:40.646 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:05:40.658 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:05:40.661 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:05:40.676 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:05:40.679 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:05:40.693 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:05:40.697 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:05:40.710 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:05:40.714 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:05:40.730 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:05:40.734 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:05:40.750 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:05:40.753 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:05:40.766 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:05:40.769 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:05:40.782 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:05:40.785 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:05:40.799 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:05:40.802 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:05:40.813 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:05:40.815 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:05:40.826 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:05:40.829 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:05:40.842 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:05:40.845 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:05:40.859 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:05:40.862 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:05:40.876 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:05:40.881 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:05:40.892 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:05:40.895 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:05:40.904 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:05:40.907 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:05:40.928 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:05:40.931 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-13 20:05:40.949 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:05:40.956 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 16ms
2023-08-13 20:05:40.980 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:05:40.984 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 19ms
2023-08-13 20:05:41.008 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:05:41.191 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:05:41.301 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:05:41.811 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:05:43.267 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:05:43.278 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:05:48.531 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:05:49.440 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:05:50.217 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:05:53.280 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46e052e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cc7eeb1, org.springframework.security.web.context.SecurityContextHolderFilter@1ce4f3ac, org.springframework.security.web.header.HeaderWriterFilter@d6b8c43, org.springframework.web.filter.CorsFilter@4b8ab2f8, org.springframework.security.web.authentication.logout.LogoutFilter@5789d61d, com.ringo.auth.JwtFilter@6dd0d9a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab5869, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ad755c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22ef458d, org.springframework.security.web.session.SessionManagementFilter@555bb408, org.springframework.security.web.access.ExceptionTranslationFilter@6593f4fd, org.springframework.security.web.access.intercept.AuthorizationFilter@70e75151]
2023-08-13 20:05:53.809 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:05:53.827 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.519 seconds (process running for 21.599)
2023-08-13 20:06:16.856 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:06:16.857 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:06:16.859 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:06:16.953 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946374927@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:19.281 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946374927@test.com] is authenticated
2023-08-13 20:06:19.490 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946374927@test.com
2023-08-13 20:06:19.553 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:19.620 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946379587@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:21.227 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946379587@test.com] is authenticated
2023-08-13 20:06:21.316 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946379587@test.com
2023-08-13 20:06:21.377 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 20:06:21.402 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:06:21.470 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946381446@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:23.176 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946381446@test.com] is authenticated
2023-08-13 20:06:23.277 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946381446@test.com
2023-08-13 20:06:23.324 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:23.388 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946383356@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:25.062 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946383356@test.com] is authenticated
2023-08-13 20:06:25.128 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946383356@test.com
2023-08-13 20:06:25.158 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:06:25.268 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946385243@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:26.914 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946385243@test.com] is authenticated
2023-08-13 20:06:26.972 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946385243@test.com
2023-08-13 20:06:27.003 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:06:27.117 [http-nio-8080-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-13 20:06:27.118 [http-nio-8080-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "participant_id" of relation "review" violates not-null constraint
  Detail: Failing row contains (1, 2023-08-13 20:06:25.182686, null, null, 3, comment, 5).
2023-08-13 20:06:27.119 [http-nio-8080-exec-6] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2023-08-13 20:06:27.130 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [participant_id" of relation "review]
2023-08-13 20:06:27.180 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691946387157@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:28.770 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946387157@test.com] is authenticated
2023-08-13 20:06:28.829 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946387157@test.com
2023-08-13 20:06:28.859 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:28.903 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946388877@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:30.878 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946388877@test.com] is authenticated
2023-08-13 20:06:30.941 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946388877@test.com
2023-08-13 20:06:30.970 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 20:06:31.062 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:06:31.103 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946391080@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:32.755 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946391080@test.com] is authenticated
2023-08-13 20:06:32.811 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946391080@test.com
2023-08-13 20:06:32.835 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691946392818
2023-08-13 20:06:32.839 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691946392818 was not found
2023-08-13 20:06:32.879 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946392853@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:34.576 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946392853@test.com] is authenticated
2023-08-13 20:06:34.624 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946392853@test.com
2023-08-13 20:06:34.648 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:34.673 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946394663@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:36.262 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946394663@test.com] is authenticated
2023-08-13 20:06:36.304 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946394663@test.com
2023-08-13 20:06:36.329 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 20:06:36.391 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 9
2023-08-13 20:06:36.490 [http-nio-8080-exec-11] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-13 20:06:36.490 [http-nio-8080-exec-11] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "participant_id" of relation "review" violates not-null constraint
  Detail: Failing row contains (4, 2023-08-13 20:06:36.341195, 2023-08-13 20:06:36.417348, null, 9, comment, 1).
2023-08-13 20:06:36.490 [http-nio-8080-exec-11] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2023-08-13 20:06:36.492 [http-nio-8080-exec-11] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [participant_id" of relation "review]
2023-08-13 20:06:36.520 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691946396503@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:38.161 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946396503@test.com] is authenticated
2023-08-13 20:06:38.211 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946396503@test.com
2023-08-13 20:06:38.234 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:38.261 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946398250@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:39.900 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946398250@test.com] is authenticated
2023-08-13 20:06:39.958 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946398250@test.com
2023-08-13 20:06:39.987 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 11
2023-08-13 20:06:40.002 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:06:40.039 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946400021@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:41.678 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946400021@test.com] is authenticated
2023-08-13 20:06:41.725 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946400021@test.com
2023-08-13 20:06:41.748 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:41.771 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946401762@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:43.380 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946401762@test.com] is authenticated
2023-08-13 20:06:43.427 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946401762@test.com
2023-08-13 20:06:43.449 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 13
2023-08-13 20:06:43.498 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 13
2023-08-13 20:06:43.513 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:06:43.545 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946403525@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:45.254 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946403525@test.com] is authenticated
2023-08-13 20:06:45.306 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946403525@test.com
2023-08-13 20:06:45.340 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:45.373 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946405358@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:47.063 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946405358@test.com] is authenticated
2023-08-13 20:06:47.107 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946405358@test.com
2023-08-13 20:06:47.127 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:06:47.151 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691946407136@test.com, role: ROLE_ORGANISATION
2023-08-13 20:06:48.782 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946407136@test.com] is authenticated
2023-08-13 20:06:48.842 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946407136@test.com
2023-08-13 20:06:48.863 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:06:48.892 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691946408878@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:06:50.750 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946408878@test.com] is authenticated
2023-08-13 20:06:50.797 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946408878@test.com
2023-08-13 20:06:50.823 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 17
2023-08-13 20:06:50.890 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 17
2023-08-13 20:06:50.938 [http-nio-8080-exec-8] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-13 20:06:50.938 [http-nio-8080-exec-8] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "participant_id" of relation "review" violates not-null constraint
  Detail: Failing row contains (6, 2023-08-13 20:06:50.839328, null, null, 17, comment, 5).
2023-08-13 20:06:50.939 [http-nio-8080-exec-8] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2023-08-13 20:06:50.942 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [participant_id" of relation "review]
2023-08-13 20:07:04.914 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:07:04.922 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:07:04.928 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:08:00.620 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50215 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:08:00.626 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:08:02.176 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:08:02.400 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 207 ms. Found 13 JPA repository interfaces.
2023-08-13 20:08:03.467 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:08:03.487 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:08:03.488 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:08:03.680 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:08:03.680 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2686 ms
2023-08-13 20:08:03.885 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:08:04.148 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30fbc23
2023-08-13 20:08:04.151 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:08:04.495 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:08:04.680 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:08:04.802 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:08:05.192 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:08:05.196 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:08:05.198 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:08:05.225 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:08:05.244 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:08:05.513 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:08:05.517 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:08:05.540 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:08:05.544 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:08:05.568 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:08:05.571 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 20ms
2023-08-13 20:08:05.582 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:08:05.585 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:08:05.601 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:08:05.605 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:08:05.624 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:08:05.626 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:08:05.635 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:08:05.639 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:08:05.653 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:08:05.656 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:08:05.674 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:08:05.677 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:08:05.692 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:08:05.695 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:08:05.707 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:08:05.709 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:08:05.729 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:08:05.732 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:08:05.752 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:08:05.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:08:05.778 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:08:05.783 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 21ms
2023-08-13 20:08:05.809 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:08:05.813 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 23ms
2023-08-13 20:08:05.832 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:08:05.837 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:08:05.850 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:08:05.853 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:08:05.866 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:08:05.868 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:08:05.884 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:08:05.887 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:08:05.900 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:08:05.903 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:08:05.916 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:08:05.919 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:08:05.932 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:08:05.934 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:08:05.946 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:08:05.949 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:08:05.958 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:08:05.960 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:08:05.969 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:08:05.971 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:08:05.979 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:08:05.982 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:08:05.990 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:08:05.993 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:08:06.004 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:08:06.006 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:08:06.016 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:08:06.018 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:08:06.027 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:08:06.032 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:08:06.044 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:08:06.047 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:08:06.059 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:08:06.063 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:08:06.077 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:08:06.080 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:08:06.095 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:08:06.098 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:08:06.112 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:08:06.116 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:08:06.131 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:08:06.134 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:08:06.148 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:08:06.150 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:08:06.162 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:08:06.165 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:08:06.174 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:08:06.178 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:08:06.187 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:08:06.190 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:08:06.201 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:08:06.203 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:08:06.215 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:08:06.219 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:08:06.229 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:08:06.232 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:08:06.250 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:08:06.252 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 16ms
2023-08-13 20:08:06.264 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:08:06.266 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 20:08:06.281 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:08:06.283 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 20:08:06.295 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:08:06.450 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:08:06.534 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:08:07.038 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:08:08.431 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:08:08.445 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:08:13.783 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:08:14.302 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:08:15.488 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:08:18.219 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@939f06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70e75151, org.springframework.security.web.context.SecurityContextHolderFilter@3be76b8d, org.springframework.security.web.header.HeaderWriterFilter@2571d0c, org.springframework.web.filter.CorsFilter@63793f16, org.springframework.security.web.authentication.logout.LogoutFilter@2762e667, com.ringo.auth.JwtFilter@5c190662, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c1c9116, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cdf48b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1966ec08, org.springframework.security.web.session.SessionManagementFilter@62418263, org.springframework.security.web.access.ExceptionTranslationFilter@43759560, org.springframework.security.web.access.intercept.AuthorizationFilter@7590b28f]
2023-08-13 20:08:18.707 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:08:18.721 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.693 seconds (process running for 19.309)
2023-08-13 20:08:37.157 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:08:37.159 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:08:37.161 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:08:37.239 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946515253@test.com, role: ROLE_ORGANISATION
2023-08-13 20:08:39.550 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946515253@test.com] is authenticated
2023-08-13 20:08:39.749 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946515253@test.com
2023-08-13 20:08:39.805 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:08:39.881 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946519839@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:08:41.598 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946519839@test.com] is authenticated
2023-08-13 20:08:41.679 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946519839@test.com
2023-08-13 20:08:41.742 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 20:08:41.865 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findOrganisationById: 1
2023-08-13 20:08:41.932 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-13 20:08:41.933 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "participant_id" of relation "review" violates not-null constraint
  Detail: Failing row contains (1, 2023-08-13 20:08:41.777367, null, null, 1, comment, 5).
2023-08-13 20:08:41.934 [http-nio-8080-exec-2] INFO  o.h.e.j.b.internal.AbstractBatchImpl - HHH000010: On release of batch it still contained JDBC statements
2023-08-13 20:08:41.950 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [participant_id" of relation "review]
2023-08-13 20:08:59.814 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:08:59.819 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:08:59.823 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:09:59.150 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50275 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:09:59.154 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:10:00.731 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:10:00.954 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 207 ms. Found 13 JPA repository interfaces.
2023-08-13 20:10:02.020 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:10:02.038 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:10:02.039 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:10:02.227 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:10:02.228 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2712 ms
2023-08-13 20:10:02.426 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:10:02.677 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@49cb5030
2023-08-13 20:10:02.681 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:10:02.865 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:10:03.067 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:10:03.200 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:10:03.633 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:10:03.636 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:10:03.639 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:10:03.662 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:10:03.677 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:10:03.952 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:10:03.955 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 17ms
2023-08-13 20:10:03.977 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:10:03.980 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:10:04.002 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:10:04.006 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:10:04.018 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:10:04.021 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:10:04.036 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:10:04.039 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:10:04.055 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:10:04.060 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:10:04.071 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:10:04.075 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:10:04.089 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:10:04.093 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:10:04.110 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:10:04.113 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:10:04.134 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:10:04.137 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:10:04.154 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:10:04.157 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:10:04.178 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:10:04.181 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:10:04.203 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:10:04.208 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:10:04.228 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:10:04.231 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:10:04.283 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:10:04.287 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 48ms
2023-08-13 20:10:04.302 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:10:04.305 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:10:04.319 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:10:04.322 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:10:04.333 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:10:04.337 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:10:04.353 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:10:04.357 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:10:04.372 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:10:04.375 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:10:04.388 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:10:04.391 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:10:04.403 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:10:04.406 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.418 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:10:04.421 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.433 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:10:04.436 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.447 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:10:04.450 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.462 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:10:04.464 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.475 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:10:04.478 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.492 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:10:04.495 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:10:04.508 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:10:04.511 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:10:04.525 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:10:04.528 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:10:04.541 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:10:04.543 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.557 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:10:04.560 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.573 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:10:04.576 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:10:04.588 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:10:04.591 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.602 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:10:04.604 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.613 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:10:04.617 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.625 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:10:04.628 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.637 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:10:04.640 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.651 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:10:04.653 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:10:04.663 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:10:04.668 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:10:04.678 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:10:04.680 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.692 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:10:04.695 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:10:04.705 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:10:04.707 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:10:04.728 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:10:04.732 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-13 20:10:04.745 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:10:04.749 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-13 20:10:04.765 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:10:04.769 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-13 20:10:04.783 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:10:04.961 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:10:05.039 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:10:05.529 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:10:06.963 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:10:06.974 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:10:12.240 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:10:13.136 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:10:14.046 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:10:16.128 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@734c98ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29a3de3a, org.springframework.security.web.context.SecurityContextHolderFilter@248f1090, org.springframework.security.web.header.HeaderWriterFilter@152e530d, org.springframework.web.filter.CorsFilter@7f03e5f4, org.springframework.security.web.authentication.logout.LogoutFilter@2733414d, com.ringo.auth.JwtFilter@5d6de24e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7514e658, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2762e667, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cfd3ccd, org.springframework.security.web.session.SessionManagementFilter@384841e3, org.springframework.security.web.access.ExceptionTranslationFilter@bca34d, org.springframework.security.web.access.intercept.AuthorizationFilter@259fe541]
2023-08-13 20:10:16.667 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:10:16.684 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.156 seconds (process running for 18.988)
2023-08-13 20:10:36.416 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:10:36.418 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:10:36.420 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:10:36.516 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946634549@test.com, role: ROLE_ORGANISATION
2023-08-13 20:10:38.936 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946634549@test.com] is authenticated
2023-08-13 20:10:39.149 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946634549@test.com
2023-08-13 20:10:39.210 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:10:39.278 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946639245@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:10:40.902 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946639245@test.com] is authenticated
2023-08-13 20:10:40.976 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946639245@test.com
2023-08-13 20:10:41.027 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 20:10:41.159 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findOrganisationById: 1
2023-08-13 20:10:54.006 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946652038@test.com, role: ROLE_ORGANISATION
2023-08-13 20:10:55.981 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946652038@test.com] is authenticated
2023-08-13 20:10:56.135 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946652038@test.com
2023-08-13 20:10:56.184 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:10:56.228 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946656207@test.com, role: ROLE_ORGANISATION
2023-08-13 20:10:57.876 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946656207@test.com] is authenticated
2023-08-13 20:10:57.951 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946656207@test.com
2023-08-13 20:10:57.989 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:10:58.005 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:10:58.070 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946658045@test.com, role: ROLE_ORGANISATION
2023-08-13 20:10:59.716 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946658045@test.com] is authenticated
2023-08-13 20:10:59.777 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946658045@test.com
2023-08-13 20:10:59.807 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:10:59.855 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691946659831@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:01.542 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946659831@test.com] is authenticated
2023-08-13 20:11:01.594 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946659831@test.com
2023-08-13 20:11:01.633 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 20:11:01.719 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691946661695@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:03.395 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946661695@test.com] is authenticated
2023-08-13 20:11:03.453 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946661695@test.com
2023-08-13 20:11:03.482 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 20:11:03.688 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946663663@test.com, role: ROLE_ORGANISATION
2023-08-13 20:11:05.351 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946663663@test.com] is authenticated
2023-08-13 20:11:05.410 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946663663@test.com
2023-08-13 20:11:05.435 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:11:05.471 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946665454@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:07.056 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946665454@test.com] is authenticated
2023-08-13 20:11:07.108 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946665454@test.com
2023-08-13 20:11:07.131 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 8
2023-08-13 20:11:07.191 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:11:07.237 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946667219@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:09.011 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946667219@test.com] is authenticated
2023-08-13 20:11:09.058 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946667219@test.com
2023-08-13 20:11:09.079 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691946669066
2023-08-13 20:11:09.085 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691946669066 was not found
2023-08-13 20:11:09.114 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946669095@test.com, role: ROLE_ORGANISATION
2023-08-13 20:11:10.761 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946669095@test.com] is authenticated
2023-08-13 20:11:10.810 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946669095@test.com
2023-08-13 20:11:10.833 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:11:10.858 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691946670847@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:12.462 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946670847@test.com] is authenticated
2023-08-13 20:11:12.513 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946670847@test.com
2023-08-13 20:11:12.542 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 11
2023-08-13 20:11:12.606 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 11
2023-08-13 20:11:12.770 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691946672754@test.com, role: ROLE_ORGANISATION
2023-08-13 20:11:14.560 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946672754@test.com] is authenticated
2023-08-13 20:11:14.608 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946672754@test.com
2023-08-13 20:11:14.634 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:11:14.664 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691946674651@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:16.288 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946674651@test.com] is authenticated
2023-08-13 20:11:16.339 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946674651@test.com
2023-08-13 20:11:16.367 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 13
2023-08-13 20:11:16.383 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:11:16.412 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691946676395@test.com, role: ROLE_ORGANISATION
2023-08-13 20:11:18.340 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946676395@test.com] is authenticated
2023-08-13 20:11:18.400 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946676395@test.com
2023-08-13 20:11:18.425 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:11:18.460 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946678442@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:20.158 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946678442@test.com] is authenticated
2023-08-13 20:11:20.217 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946678442@test.com
2023-08-13 20:11:20.244 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 15
2023-08-13 20:11:20.322 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 15
2023-08-13 20:11:20.349 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:11:20.382 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691946680362@test.com, role: ROLE_ORGANISATION
2023-08-13 20:11:22.029 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946680362@test.com] is authenticated
2023-08-13 20:11:22.095 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946680362@test.com
2023-08-13 20:11:22.126 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:11:22.161 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691946682146@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:23.778 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946682146@test.com] is authenticated
2023-08-13 20:11:23.824 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946682146@test.com
2023-08-13 20:11:23.849 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:11:23.877 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946683859@test.com, role: ROLE_ORGANISATION
2023-08-13 20:11:25.480 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946683859@test.com] is authenticated
2023-08-13 20:11:25.521 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946683859@test.com
2023-08-13 20:11:25.544 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:11:25.570 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691946685559@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:11:27.393 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946685559@test.com] is authenticated
2023-08-13 20:11:27.443 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946685559@test.com
2023-08-13 20:11:27.476 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 19
2023-08-13 20:11:27.534 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findOrganisationById: 19
2023-08-13 20:13:21.966 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:13:21.971 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:13:21.975 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:14:11.086 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50360 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:14:11.091 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:14:13.065 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:14:13.362 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 281 ms. Found 13 JPA repository interfaces.
2023-08-13 20:14:14.945 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:14:14.962 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:14:14.963 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:14:15.183 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:14:15.184 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3548 ms
2023-08-13 20:14:15.414 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:14:15.735 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d74cbbd
2023-08-13 20:14:15.741 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:14:16.011 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:14:16.309 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:14:16.514 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:14:17.117 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:14:17.122 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:14:17.125 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:14:17.162 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:14:17.180 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:14:17.519 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:14:17.523 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:14:17.547 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:14:17.551 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:14:17.577 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:14:17.581 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 22ms
2023-08-13 20:14:17.686 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:14:17.690 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:14:17.716 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:14:17.721 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 20ms
2023-08-13 20:14:17.740 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:14:17.746 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:14:17.766 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:14:17.771 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:14:17.795 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:14:17.799 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 17ms
2023-08-13 20:14:17.831 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:14:17.837 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 26ms
2023-08-13 20:14:17.864 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:14:17.868 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:14:17.885 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:14:17.889 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:14:17.924 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:14:17.930 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 33ms
2023-08-13 20:14:17.951 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:14:17.954 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:14:17.976 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:14:17.980 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:14:18.005 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:14:18.010 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 20ms
2023-08-13 20:14:18.031 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:14:18.035 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 17ms
2023-08-13 20:14:18.061 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:14:18.068 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:14:18.107 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:14:18.119 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 40ms
2023-08-13 20:14:18.157 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:14:18.162 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 28ms
2023-08-13 20:14:18.186 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:14:18.190 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 17ms
2023-08-13 20:14:18.202 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:14:18.204 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.216 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:14:18.219 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.232 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:14:18.236 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:14:18.247 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:14:18.250 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.259 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:14:18.262 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.272 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:14:18.275 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.286 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:14:18.289 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.299 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:14:18.302 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.314 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:14:18.318 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.328 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:14:18.332 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:14:18.343 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:14:18.346 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.360 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:14:18.364 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:14:18.379 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:14:18.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:14:18.401 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:14:18.406 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:14:18.424 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:14:18.428 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:14:18.445 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:14:18.483 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 46ms
2023-08-13 20:14:18.494 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:14:18.496 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.509 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:14:18.511 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.523 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:14:18.527 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.540 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:14:18.544 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:14:18.558 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:14:18.561 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:14:18.575 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:14:18.577 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:14:18.587 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:14:18.590 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:14:18.612 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:14:18.616 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 20ms
2023-08-13 20:14:18.629 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:14:18.633 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-13 20:14:18.655 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:14:18.658 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 18ms
2023-08-13 20:14:18.676 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:14:18.846 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:14:18.936 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:14:19.561 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:14:21.290 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:14:21.304 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:14:28.492 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:14:29.912 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:14:30.445 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:14:35.321 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70e75151, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1966ec08, org.springframework.security.web.context.SecurityContextHolderFilter@555bb408, org.springframework.security.web.header.HeaderWriterFilter@a22be4c, org.springframework.web.filter.CorsFilter@7f03e5f4, org.springframework.security.web.authentication.logout.LogoutFilter@7b35798b, com.ringo.auth.JwtFilter@5d6de24e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdf48b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ce4f3ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a178d0e, org.springframework.security.web.session.SessionManagementFilter@1bd051c4, org.springframework.security.web.access.ExceptionTranslationFilter@4913778f, org.springframework.security.web.access.intercept.AuthorizationFilter@6cb0ab1e]
2023-08-13 20:14:35.902 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:14:35.920 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 25.544 seconds (process running for 26.475)
2023-08-13 20:15:23.754 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:15:23.755 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:15:23.757 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:15:23.845 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691946921653@test.com, role: ROLE_ORGANISATION
2023-08-13 20:15:26.354 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946921653@test.com] is authenticated
2023-08-13 20:15:26.582 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946921653@test.com
2023-08-13 20:15:26.650 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:15:26.717 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691946926688@test.com, role: ROLE_ORGANISATION
2023-08-13 20:15:28.533 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691946926688@test.com] is authenticated
2023-08-13 20:15:28.611 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691946926688@test.com
2023-08-13 20:15:37.449 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 20:16:56.239 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s583ms).
2023-08-13 20:16:56.242 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:18:47.791 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50453 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:18:47.798 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:18:49.981 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:18:50.377 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 375 ms. Found 13 JPA repository interfaces.
2023-08-13 20:18:51.935 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:18:51.952 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:18:51.952 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:18:52.189 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:18:52.190 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3755 ms
2023-08-13 20:18:52.427 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:18:52.737 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e58f697
2023-08-13 20:18:52.741 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:18:53.072 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:18:53.333 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:18:53.747 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:18:54.424 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:18:54.429 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:18:54.432 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:18:54.578 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:18:54.843 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:18:55.025 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:18:55.141 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:18:55.673 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:18:57.350 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:18:57.361 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:19:03.218 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:19:04.091 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:19:05.313 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:19:07.856 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@aea96b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d9c8c61, org.springframework.security.web.context.SecurityContextHolderFilter@343f01c7, org.springframework.security.web.header.HeaderWriterFilter@6ad6484, org.springframework.web.filter.CorsFilter@6d17cd8b, org.springframework.security.web.authentication.logout.LogoutFilter@720907c9, com.ringo.auth.JwtFilter@290ebbbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@228a6823, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74197f00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21c09e90, org.springframework.security.web.session.SessionManagementFilter@6f88d401, org.springframework.security.web.access.ExceptionTranslationFilter@32e8c3c3, org.springframework.security.web.access.intercept.AuthorizationFilter@7a51ba06]
2023-08-13 20:19:08.352 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:19:08.368 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 21.257 seconds (process running for 22.123)
2023-08-13 20:19:28.896 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:19:28.897 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:19:28.899 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:19:28.983 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947167071@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:31.266 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947167071@test.com] is authenticated
2023-08-13 20:19:31.483 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947167071@test.com
2023-08-13 20:19:31.542 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:31.605 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947171576@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:33.233 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947171576@test.com] is authenticated
2023-08-13 20:19:33.315 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947171576@test.com
2023-08-13 20:19:33.374 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:19:33.397 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:19:33.568 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947173542@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:35.174 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947173542@test.com] is authenticated
2023-08-13 20:19:35.248 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947173542@test.com
2023-08-13 20:19:35.299 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:35.365 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947175331@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:37.047 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947175331@test.com] is authenticated
2023-08-13 20:19:37.136 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947175331@test.com
2023-08-13 20:19:37.182 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 20:19:37.287 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947177268@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:38.911 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947177268@test.com] is authenticated
2023-08-13 20:19:38.971 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947177268@test.com
2023-08-13 20:19:38.998 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 5
2023-08-13 20:19:39.237 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947179222@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:40.955 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947179222@test.com] is authenticated
2023-08-13 20:19:41.013 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947179222@test.com
2023-08-13 20:19:41.043 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:41.083 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947181064@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:42.814 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947181064@test.com] is authenticated
2023-08-13 20:19:42.944 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947181064@test.com
2023-08-13 20:19:43.009 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 8
2023-08-13 20:19:43.212 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:19:43.310 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947183270@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:45.022 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947183270@test.com] is authenticated
2023-08-13 20:19:45.128 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947183270@test.com
2023-08-13 20:19:45.168 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691947185141
2023-08-13 20:19:45.174 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691947185141 was not found
2023-08-13 20:19:45.248 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691947185232@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:46.998 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947185232@test.com] is authenticated
2023-08-13 20:19:47.063 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947185232@test.com
2023-08-13 20:19:47.097 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:47.136 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947187120@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:48.801 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947187120@test.com] is authenticated
2023-08-13 20:19:48.871 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947187120@test.com
2023-08-13 20:19:48.898 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 11
2023-08-13 20:19:48.980 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 11
2023-08-13 20:19:49.147 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947189129@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:51.950 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947189129@test.com] is authenticated
2023-08-13 20:19:52.008 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947189129@test.com
2023-08-13 20:19:52.034 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:52.057 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947192047@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:53.769 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947192047@test.com] is authenticated
2023-08-13 20:19:53.819 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947192047@test.com
2023-08-13 20:19:53.841 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 13
2023-08-13 20:19:53.853 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:19:53.941 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947193928@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:55.558 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947193928@test.com] is authenticated
2023-08-13 20:19:55.623 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947193928@test.com
2023-08-13 20:19:55.654 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:55.695 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691947195676@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:19:57.412 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947195676@test.com] is authenticated
2023-08-13 20:19:57.453 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947195676@test.com
2023-08-13 20:19:57.477 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 15
2023-08-13 20:19:57.561 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 15
2023-08-13 20:19:57.580 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:19:57.683 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947197667@test.com, role: ROLE_ORGANISATION
2023-08-13 20:19:59.399 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947197667@test.com] is authenticated
2023-08-13 20:19:59.441 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947197667@test.com
2023-08-13 20:19:59.464 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:19:59.485 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947199477@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:20:01.076 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947199477@test.com] is authenticated
2023-08-13 20:20:01.119 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947199477@test.com
2023-08-13 20:20:01.139 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported
2023-08-13 20:20:01.163 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947201151@test.com, role: ROLE_ORGANISATION
2023-08-13 20:20:02.878 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947201151@test.com] is authenticated
2023-08-13 20:20:02.923 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947201151@test.com
2023-08-13 20:20:02.944 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:20:02.973 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947202958@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:20:04.562 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947202958@test.com] is authenticated
2023-08-13 20:20:04.603 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947202958@test.com
2023-08-13 20:20:04.623 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 19
2023-08-13 20:20:04.672 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 19
2023-08-13 20:20:28.345 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:20:28.349 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:20:28.353 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:21:21.125 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50518 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:21:21.130 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:21:22.715 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:21:22.949 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 219 ms. Found 13 JPA repository interfaces.
2023-08-13 20:21:23.994 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:21:24.011 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:21:24.011 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:21:24.203 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:21:24.203 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2720 ms
2023-08-13 20:21:24.429 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:21:24.775 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@85ab964
2023-08-13 20:21:24.782 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:21:25.261 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:21:25.482 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:21:25.608 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:21:26.119 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:21:26.126 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:21:26.130 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:21:26.173 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:21:26.192 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:21:26.613 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:21:26.618 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 25ms
2023-08-13 20:21:26.649 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:21:26.655 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 21ms
2023-08-13 20:21:26.690 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:21:26.699 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 32ms
2023-08-13 20:21:26.723 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:21:26.729 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:21:26.750 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:21:26.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:21:26.774 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:21:26.778 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:21:26.795 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:21:26.798 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:21:26.818 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:21:26.822 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:21:26.853 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:21:26.857 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 25ms
2023-08-13 20:21:26.883 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:21:26.886 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 20ms
2023-08-13 20:21:26.906 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:21:26.911 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:21:26.932 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:21:26.935 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:21:26.952 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:21:26.955 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:21:26.972 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:21:26.975 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:21:26.996 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:21:27.000 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:21:27.016 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:21:27.019 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:21:27.035 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:21:27.038 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:21:27.052 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:21:27.055 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:21:27.072 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:21:27.075 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:21:27.089 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:21:27.092 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:21:27.103 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:21:27.107 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:21:27.122 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:21:27.126 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:21:27.145 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:21:27.149 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:21:27.167 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:21:27.171 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:21:27.187 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:21:27.190 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:21:27.204 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:21:27.207 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:21:27.219 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:21:27.221 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:21:27.231 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:21:27.234 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:21:27.245 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:21:27.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:21:27.256 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:21:27.259 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:21:27.268 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:21:27.270 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:21:27.281 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:21:27.283 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:21:27.293 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:21:27.296 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:21:27.305 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:21:27.309 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:21:27.319 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:21:27.321 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:21:27.333 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:21:27.335 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:21:27.344 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:21:27.347 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:21:27.360 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:21:27.364 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:21:27.374 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:21:27.377 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:21:27.388 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:21:27.392 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:21:27.405 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:21:27.408 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:21:27.423 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:21:27.426 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:21:27.438 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:21:27.441 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:21:27.468 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:21:27.472 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 23ms
2023-08-13 20:21:27.491 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:21:27.496 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 16ms
2023-08-13 20:21:27.520 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:21:27.522 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 18ms
2023-08-13 20:21:27.536 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:21:27.676 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:21:27.814 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:21:28.443 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:21:30.698 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:21:30.725 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:21:37.387 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:21:38.592 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:21:39.092 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:21:43.109 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5789d61d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a00446, org.springframework.security.web.context.SecurityContextHolderFilter@4ad667c8, org.springframework.security.web.header.HeaderWriterFilter@3f31ff7a, org.springframework.web.filter.CorsFilter@9760f17, org.springframework.security.web.authentication.logout.LogoutFilter@384841e3, com.ringo.auth.JwtFilter@75f2a654, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67b9b79c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62418263, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50f77755, org.springframework.security.web.session.SessionManagementFilter@686aa9c9, org.springframework.security.web.access.ExceptionTranslationFilter@32eb46d7, org.springframework.security.web.access.intercept.AuthorizationFilter@7b35798b]
2023-08-13 20:21:43.681 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:21:43.698 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 23.201 seconds (process running for 23.962)
2023-08-13 20:21:47.533 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:21:47.534 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:21:47.537 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-13 20:21:52.038 [http-nio-8080-exec-5] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1067 ms
2023-08-13 20:22:28.108 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947346317@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:30.373 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947346317@test.com] is authenticated
2023-08-13 20:22:30.565 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947346317@test.com
2023-08-13 20:22:30.611 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:30.676 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947350644@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:32.462 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947350644@test.com] is authenticated
2023-08-13 20:22:32.543 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947350644@test.com
2023-08-13 20:22:32.596 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 20:22:32.621 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:22:32.782 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947352759@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:34.409 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947352759@test.com] is authenticated
2023-08-13 20:22:34.475 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947352759@test.com
2023-08-13 20:22:34.510 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:34.566 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947354537@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:36.249 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947354537@test.com] is authenticated
2023-08-13 20:22:36.308 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947354537@test.com
2023-08-13 20:22:36.344 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:22:36.446 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947356428@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:38.138 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947356428@test.com] is authenticated
2023-08-13 20:22:38.198 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947356428@test.com
2023-08-13 20:22:38.235 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:22:38.474 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947358453@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:40.091 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947358453@test.com] is authenticated
2023-08-13 20:22:40.144 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947358453@test.com
2023-08-13 20:22:40.168 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:40.195 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947360181@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:41.996 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947360181@test.com] is authenticated
2023-08-13 20:22:42.055 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947360181@test.com
2023-08-13 20:22:42.087 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 20:22:42.185 [http-nio-8080-exec-13] INFO  c.r.service.company.ReviewService - deleteReview: 6
2023-08-13 20:22:42.266 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-13 20:22:42.346 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.ringo.exception.NotFoundException: User [email: test1691947360181@test.com] not found
	at com.ringo.service.security.UserService.lambda$loadUserByUsername$0(UserService.java:20)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ringo.service.security.UserService.loadUserByUsername(UserService.java:19)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:22:42.410 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947362398@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:44.014 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947362398@test.com] is authenticated
2023-08-13 20:22:44.057 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947362398@test.com
2023-08-13 20:22:44.085 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691947364064
2023-08-13 20:22:44.091 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691947364064 was not found
2023-08-13 20:22:44.164 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691947364147@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:45.762 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947364147@test.com] is authenticated
2023-08-13 20:22:45.813 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947364147@test.com
2023-08-13 20:22:45.838 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:45.878 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947365857@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:47.543 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947365857@test.com] is authenticated
2023-08-13 20:22:47.596 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947365857@test.com
2023-08-13 20:22:47.628 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 20:22:47.689 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 9
2023-08-13 20:22:47.867 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947367846@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:49.621 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947367846@test.com] is authenticated
2023-08-13 20:22:49.672 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947367846@test.com
2023-08-13 20:22:49.697 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:49.724 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947369714@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:51.499 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947369714@test.com] is authenticated
2023-08-13 20:22:51.543 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947369714@test.com
2023-08-13 20:22:51.570 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 11
2023-08-13 20:22:51.583 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:22:51.672 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947371656@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:53.282 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947371656@test.com] is authenticated
2023-08-13 20:22:53.349 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947371656@test.com
2023-08-13 20:22:53.387 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:53.429 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947373411@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:55.040 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947373411@test.com] is authenticated
2023-08-13 20:22:55.086 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947373411@test.com
2023-08-13 20:22:55.111 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 13
2023-08-13 20:22:55.184 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 13
2023-08-13 20:22:55.201 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:22:55.313 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947375297@test.com, role: ROLE_ORGANISATION
2023-08-13 20:22:56.936 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947375297@test.com] is authenticated
2023-08-13 20:22:56.985 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947375297@test.com
2023-08-13 20:22:57.011 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:22:57.049 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947377033@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:22:58.726 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947377033@test.com] is authenticated
2023-08-13 20:22:58.796 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947377033@test.com
2023-08-13 20:22:58.826 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - deleteReview: 15
2023-08-13 20:22:58.845 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:22:58.901 [http-nio-8080-exec-13] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.ringo.exception.NotFoundException: User [email: test1691947377033@test.com] not found
	at com.ringo.service.security.UserService.lambda$loadUserByUsername$0(UserService.java:20)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ringo.service.security.UserService.loadUserByUsername(UserService.java:19)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:22:58.938 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947378919@test.com, role: ROLE_ORGANISATION
2023-08-13 20:23:00.611 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947378919@test.com] is authenticated
2023-08-13 20:23:00.658 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947378919@test.com
2023-08-13 20:23:00.681 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:23:00.707 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691947380696@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:23:02.452 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947380696@test.com] is authenticated
2023-08-13 20:23:02.495 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947380696@test.com
2023-08-13 20:23:02.514 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - rateOrganisation: 17
2023-08-13 20:23:02.561 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 17
2023-08-13 20:23:57.803 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:23:57.825 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:23:57.829 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:24:06.653 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50581 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:24:06.657 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:24:08.244 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:24:08.464 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 206 ms. Found 13 JPA repository interfaces.
2023-08-13 20:24:09.606 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:24:09.623 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:24:09.624 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:24:09.811 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:24:09.812 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2794 ms
2023-08-13 20:24:10.000 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:24:10.255 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d74cbbd
2023-08-13 20:24:10.259 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:24:10.567 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:24:10.755 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:24:10.866 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:24:11.264 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:24:11.269 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:24:11.271 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:24:11.293 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:24:11.305 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:24:11.519 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:24:11.524 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:24:11.553 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:24:11.557 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 18ms
2023-08-13 20:24:11.583 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:24:11.587 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:24:11.600 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:24:11.604 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:24:11.620 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:24:11.623 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:24:11.640 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:24:11.644 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:24:11.655 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:24:11.657 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:24:11.675 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:24:11.679 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:24:11.695 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:24:11.698 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:24:11.716 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:24:11.718 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:24:11.735 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:24:11.738 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:24:11.754 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:24:11.758 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:24:11.769 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:24:11.772 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:11.786 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:24:11.788 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:11.801 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:24:11.804 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:24:11.815 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:24:11.818 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:24:11.833 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:24:11.836 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:24:11.851 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:24:11.854 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:11.875 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:24:11.880 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 17ms
2023-08-13 20:24:11.900 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:24:11.904 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:24:11.928 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:24:11.932 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:24:11.948 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:24:11.952 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:24:11.965 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:24:11.969 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:11.982 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:24:11.985 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:24:11.996 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:24:11.998 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:24:12.009 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:24:12.011 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:24:12.020 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:24:12.024 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:24:12.033 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:24:12.035 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:24:12.045 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:24:12.048 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:24:12.056 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:24:12.058 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:24:12.066 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:24:12.068 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 5ms
2023-08-13 20:24:12.078 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:24:12.080 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:24:12.088 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:24:12.091 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:24:12.100 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:24:12.102 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:24:12.113 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:24:12.116 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:24:12.129 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:24:12.132 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:24:12.144 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:24:12.147 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:12.160 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:24:12.164 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:12.178 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:24:12.182 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:24:12.196 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:24:12.200 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:24:12.218 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:24:12.223 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:24:12.234 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:24:12.237 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:24:12.246 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:24:12.248 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:24:12.266 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:24:12.270 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-13 20:24:12.282 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:24:12.285 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-13 20:24:12.299 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:24:12.303 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 20:24:12.314 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:24:12.435 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:24:12.547 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:24:12.988 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:24:14.415 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:24:14.427 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:24:18.859 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:24:20.011 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:24:21.255 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:24:23.948 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70e75151, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1966ec08, org.springframework.security.web.context.SecurityContextHolderFilter@555bb408, org.springframework.security.web.header.HeaderWriterFilter@a22be4c, org.springframework.web.filter.CorsFilter@7f03e5f4, org.springframework.security.web.authentication.logout.LogoutFilter@7b35798b, com.ringo.auth.JwtFilter@5d6de24e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdf48b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ce4f3ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a178d0e, org.springframework.security.web.session.SessionManagementFilter@1bd051c4, org.springframework.security.web.access.ExceptionTranslationFilter@4913778f, org.springframework.security.web.access.intercept.AuthorizationFilter@6cb0ab1e]
2023-08-13 20:24:24.487 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:24:24.504 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.447 seconds (process running for 19.136)
2023-08-13 20:24:46.369 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:24:46.370 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:24:46.372 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:24:46.454 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947484646@test.com, role: ROLE_ORGANISATION
2023-08-13 20:24:48.751 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947484646@test.com] is authenticated
2023-08-13 20:24:48.946 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947484646@test.com
2023-08-13 20:24:49.040 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:24:49.101 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947489078@test.com, role: ROLE_ORGANISATION
2023-08-13 20:24:50.810 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947489078@test.com] is authenticated
2023-08-13 20:24:50.884 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947489078@test.com
2023-08-13 20:24:50.930 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 1
2023-08-13 20:24:50.955 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:24:51.109 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947491086@test.com, role: ROLE_ORGANISATION
2023-08-13 20:24:52.763 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947491086@test.com] is authenticated
2023-08-13 20:24:52.826 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947491086@test.com
2023-08-13 20:24:52.854 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:24:52.901 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947492875@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:24:54.593 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947492875@test.com] is authenticated
2023-08-13 20:24:54.648 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947492875@test.com
2023-08-13 20:24:54.675 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:24:54.781 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947494762@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:24:56.640 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947494762@test.com] is authenticated
2023-08-13 20:24:56.696 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947494762@test.com
2023-08-13 20:24:56.728 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 3
2023-08-13 20:24:56.942 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947496926@test.com, role: ROLE_ORGANISATION
2023-08-13 20:24:58.646 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947496926@test.com] is authenticated
2023-08-13 20:24:58.699 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947496926@test.com
2023-08-13 20:24:58.733 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:24:58.770 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947498751@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:00.387 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947498751@test.com] is authenticated
2023-08-13 20:25:00.459 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947498751@test.com
2023-08-13 20:25:00.489 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 6
2023-08-13 20:25:00.556 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - deleteReview: 6
2023-08-13 20:25:00.638 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-13 20:25:00.748 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947500730@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:02.475 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947500730@test.com] is authenticated
2023-08-13 20:25:02.554 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947500730@test.com
2023-08-13 20:25:02.578 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691947502561
2023-08-13 20:25:02.582 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691947502561 was not found
2023-08-13 20:25:02.652 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947502635@test.com, role: ROLE_ORGANISATION
2023-08-13 20:25:04.334 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947502635@test.com] is authenticated
2023-08-13 20:25:04.384 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947502635@test.com
2023-08-13 20:25:04.406 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:25:04.428 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947504419@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:06.155 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947504419@test.com] is authenticated
2023-08-13 20:25:06.203 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947504419@test.com
2023-08-13 20:25:06.225 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 9
2023-08-13 20:25:06.281 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 9
2023-08-13 20:25:06.445 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947506426@test.com, role: ROLE_ORGANISATION
2023-08-13 20:25:08.206 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947506426@test.com] is authenticated
2023-08-13 20:25:08.258 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947506426@test.com
2023-08-13 20:25:08.283 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:25:08.312 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947508298@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:09.953 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947508298@test.com] is authenticated
2023-08-13 20:25:09.998 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947508298@test.com
2023-08-13 20:25:10.023 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 11
2023-08-13 20:25:10.036 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:25:10.140 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947510125@test.com, role: ROLE_ORGANISATION
2023-08-13 20:25:11.894 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947510125@test.com] is authenticated
2023-08-13 20:25:11.945 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947510125@test.com
2023-08-13 20:25:11.966 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:25:11.992 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947511981@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:13.645 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947511981@test.com] is authenticated
2023-08-13 20:25:13.685 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947511981@test.com
2023-08-13 20:25:13.703 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - rateOrganisation: 13
2023-08-13 20:25:13.750 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 13
2023-08-13 20:25:13.765 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:25:13.866 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947513852@test.com, role: ROLE_ORGANISATION
2023-08-13 20:25:15.527 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947513852@test.com] is authenticated
2023-08-13 20:25:15.569 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947513852@test.com
2023-08-13 20:25:15.588 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:25:15.612 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947515600@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:17.318 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947515600@test.com] is authenticated
2023-08-13 20:25:17.360 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947515600@test.com
2023-08-13 20:25:17.381 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - deleteReview: 15
2023-08-13 20:25:17.397 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:25:17.483 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947517471@test.com, role: ROLE_ORGANISATION
2023-08-13 20:25:19.275 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947517471@test.com] is authenticated
2023-08-13 20:25:19.323 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947517471@test.com
2023-08-13 20:25:19.346 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:25:19.364 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947519356@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:25:20.959 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947519356@test.com] is authenticated
2023-08-13 20:25:21.004 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947519356@test.com
2023-08-13 20:25:21.026 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 17
2023-08-13 20:25:21.070 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 17
2023-08-13 20:26:02.990 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947561275@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:04.964 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:26:05.100 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947561275@test.com] is authenticated
2023-08-13 20:26:05.223 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - save: test1691947565187@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:06.863 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947565187@test.com] is authenticated
2023-08-13 20:26:07.205 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:26:07.315 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947565187@test.com] is authenticated
2023-08-13 20:26:07.404 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947567383@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:09.084 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947567383@test.com] is authenticated
2023-08-13 20:26:09.141 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691947569126@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:10.857 [http-nio-8080-exec-16] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947569126@test.com] is authenticated
2023-08-13 20:26:11.188 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:26:11.296 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947569126@test.com] is authenticated
2023-08-13 20:26:11.367 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:26:11.417 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947571399@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:13.080 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947571399@test.com] is authenticated
2023-08-13 20:26:13.187 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:26:13.299 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947571399@test.com] is authenticated
2023-08-13 20:26:13.359 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691947573341@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:15.020 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947573341@test.com] is authenticated
2023-08-13 20:26:15.105 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691947575091@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:16.861 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947575091@test.com] is authenticated
2023-08-13 20:26:16.926 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947576911@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:18.597 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947576911@test.com] is authenticated
2023-08-13 20:26:18.705 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:26:18.818 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947576911@test.com] is authenticated
2023-08-13 20:26:18.871 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947578857@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:20.605 [http-nio-8080-exec-17] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947578857@test.com] is authenticated
2023-08-13 20:26:20.679 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:26:20.710 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947580699@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:22.488 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947580699@test.com] is authenticated
2023-08-13 20:26:22.659 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test1691947580699@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:26:22.662 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:26:22.681 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:26:23.933 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691947583914@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:25.767 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947583914@test.com] is authenticated
2023-08-13 20:26:25.819 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - email: test1691947583914@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:26:25.820 [http-nio-8080-exec-14] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:26:25.824 [http-nio-8080-exec-14] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:26:26.266 [http-nio-8080-exec-16] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-13 20:26:26.404 [http-nio-8080-exec-17] INFO  c.r.s.common.AbstractUserService - save: test1691947586385@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:28.130 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947586385@test.com] is authenticated
2023-08-13 20:26:28.201 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 30
2023-08-13 20:26:28.207 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 30] not found
2023-08-13 20:26:28.247 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947588232@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:29.968 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947588232@test.com] is authenticated
2023-08-13 20:26:29.984 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 31
2023-08-13 20:26:29.989 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 31] not found
2023-08-13 20:26:30.015 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947589999@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:31.712 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947589999@test.com] is authenticated
2023-08-13 20:26:31.766 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findOrganisationById: 32
2023-08-13 20:26:31.772 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 32] not found
2023-08-13 20:26:31.798 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947591783@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:33.397 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947591783@test.com] is authenticated
2023-08-13 20:26:33.414 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 33
2023-08-13 20:26:33.420 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 33] not found
2023-08-13 20:26:33.453 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691947593437@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:35.184 [http-nio-8080-exec-16] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947593437@test.com] is authenticated
2023-08-13 20:26:35.226 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - email: test1691947593437@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:26:35.228 [http-nio-8080-exec-6] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:26:35.231 [http-nio-8080-exec-6] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:26:36.186 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947596171@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:37.956 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947596171@test.com] is authenticated
2023-08-13 20:26:38.002 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - email: test1691947596171@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:26:38.004 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:26:38.007 [http-nio-8080-exec-2] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:26:38.473 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-13 20:26:38.594 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947598583@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:40.212 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947598583@test.com] is authenticated
2023-08-13 20:26:40.228 [http-nio-8080-exec-5] INFO  c.r.s.company.ParticipantService - findParticipantById: 36
2023-08-13 20:26:40.237 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant [id: 36] not found
2023-08-13 20:26:40.259 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691947600245@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:42.251 [http-nio-8080-exec-16] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947600245@test.com] is authenticated
2023-08-13 20:26:42.304 [http-nio-8080-exec-17] INFO  c.r.s.company.ParticipantService - findParticipantById: 37
2023-08-13 20:26:42.308 [http-nio-8080-exec-17] WARN  c.r.exception.GlobalExceptionHandler - Participant [id: 37] not found
2023-08-13 20:26:42.334 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947602323@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:44.096 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947602323@test.com] is authenticated
2023-08-13 20:26:44.168 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947602323@test.com
2023-08-13 20:26:44.190 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:26:44.215 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - save: test1691947604205@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:45.939 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947604205@test.com] is authenticated
2023-08-13 20:26:45.991 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947604205@test.com
2023-08-13 20:26:46.021 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 38
2023-08-13 20:26:46.029 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:26:46.132 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947606116@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:47.807 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947606116@test.com] is authenticated
2023-08-13 20:26:47.852 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947606116@test.com
2023-08-13 20:26:47.870 [http-nio-8080-exec-17] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:26:47.893 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947607884@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:49.622 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947607884@test.com] is authenticated
2023-08-13 20:26:49.658 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947607884@test.com
2023-08-13 20:26:49.679 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - rateOrganisation: 40
2023-08-13 20:26:49.723 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - save: test1691947609715@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:51.390 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947609715@test.com] is authenticated
2023-08-13 20:26:51.424 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947609715@test.com
2023-08-13 20:26:51.443 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 40
2023-08-13 20:26:51.603 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - save: test1691947611591@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:53.270 [http-nio-8080-exec-16] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947611591@test.com] is authenticated
2023-08-13 20:26:53.309 [http-nio-8080-exec-17] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947611591@test.com
2023-08-13 20:26:53.328 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:26:53.348 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691947613340@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:55.087 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947613340@test.com] is authenticated
2023-08-13 20:26:55.127 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947613340@test.com
2023-08-13 20:26:55.145 [http-nio-8080-exec-15] INFO  c.r.service.company.ReviewService - rateOrganisation: 43
2023-08-13 20:26:55.199 [http-nio-8080-exec-13] INFO  c.r.service.company.ReviewService - deleteReview: 43
2023-08-13 20:26:55.270 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 43
2023-08-13 20:26:55.366 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947615353@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:26:57.098 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947615353@test.com] is authenticated
2023-08-13 20:26:57.144 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947615353@test.com
2023-08-13 20:26:57.161 [http-nio-8080-exec-16] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691947617150
2023-08-13 20:26:57.164 [http-nio-8080-exec-16] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691947617150 was not found
2023-08-13 20:26:57.206 [http-nio-8080-exec-17] INFO  c.r.s.common.AbstractUserService - save: test1691947617196@test.com, role: ROLE_ORGANISATION
2023-08-13 20:26:59.042 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947617196@test.com] is authenticated
2023-08-13 20:26:59.092 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947617196@test.com
2023-08-13 20:26:59.111 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:26:59.130 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947619122@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:27:00.783 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947619122@test.com] is authenticated
2023-08-13 20:27:00.815 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947619122@test.com
2023-08-13 20:27:00.833 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 46
2023-08-13 20:27:00.881 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 46
2023-08-13 20:27:01.041 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947621026@test.com, role: ROLE_ORGANISATION
2023-08-13 20:27:02.831 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947621026@test.com] is authenticated
2023-08-13 20:27:02.866 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947621026@test.com
2023-08-13 20:27:02.883 [http-nio-8080-exec-17] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:27:02.910 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - save: test1691947622894@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:27:04.680 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947622894@test.com] is authenticated
2023-08-13 20:27:04.716 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947622894@test.com
2023-08-13 20:27:04.735 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 48
2023-08-13 20:27:04.745 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:27:04.816 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691947624805@test.com, role: ROLE_ORGANISATION
2023-08-13 20:27:06.520 [http-nio-8080-exec-18] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947624805@test.com] is authenticated
2023-08-13 20:27:06.559 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947624805@test.com
2023-08-13 20:27:06.577 [http-nio-8080-exec-14] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:27:06.598 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947626589@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:27:08.359 [http-nio-8080-exec-17] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947626589@test.com] is authenticated
2023-08-13 20:27:08.395 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947626589@test.com
2023-08-13 20:27:08.412 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 50
2023-08-13 20:27:08.453 [http-nio-8080-exec-15] INFO  c.r.service.company.ReviewService - rateOrganisation: 50
2023-08-13 20:27:08.463 [http-nio-8080-exec-15] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:27:08.576 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947628566@test.com, role: ROLE_ORGANISATION
2023-08-13 20:27:10.513 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947628566@test.com] is authenticated
2023-08-13 20:27:10.551 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947628566@test.com
2023-08-13 20:27:10.570 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:27:10.589 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691947630582@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:27:12.253 [http-nio-8080-exec-18] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947630582@test.com] is authenticated
2023-08-13 20:27:12.286 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947630582@test.com
2023-08-13 20:27:12.300 [http-nio-8080-exec-14] INFO  c.r.service.company.ReviewService - deleteReview: 52
2023-08-13 20:27:12.309 [http-nio-8080-exec-14] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:27:12.368 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947632361@test.com, role: ROLE_ORGANISATION
2023-08-13 20:27:13.994 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947632361@test.com] is authenticated
2023-08-13 20:27:14.029 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947632361@test.com
2023-08-13 20:27:14.049 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:27:14.066 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947634059@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:27:15.658 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947634059@test.com] is authenticated
2023-08-13 20:27:15.696 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947634059@test.com
2023-08-13 20:27:15.716 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 54
2023-08-13 20:27:15.758 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findOrganisationById: 54
2023-08-13 20:29:17.141 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:29:17.146 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:29:17.149 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:31:19.828 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50717 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:31:19.831 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:31:21.487 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:31:21.713 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 214 ms. Found 13 JPA repository interfaces.
2023-08-13 20:31:22.779 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:31:22.797 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:31:22.798 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:31:22.973 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:31:22.973 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2754 ms
2023-08-13 20:31:23.174 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:31:23.428 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e58f697
2023-08-13 20:31:23.432 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:31:23.777 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:31:23.974 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:31:24.105 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:31:24.511 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:31:24.516 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:31:24.519 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:31:24.551 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:31:24.570 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:31:24.847 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:31:24.851 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 22ms
2023-08-13 20:31:24.871 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:31:24.875 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:24.899 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:31:24.903 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:31:24.933 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:31:24.937 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:31:24.954 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:31:24.957 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:24.973 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:31:24.976 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:31:24.986 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:31:24.990 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:31:25.005 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:31:25.008 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:31:25.026 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:31:25.028 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:31:25.047 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:31:25.050 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:25.064 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:31:25.066 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:31:25.083 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:31:25.086 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:25.102 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:31:25.105 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:25.122 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:31:25.126 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:31:25.153 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:31:25.160 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 25ms
2023-08-13 20:31:25.178 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:31:25.182 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:31:25.200 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:31:25.204 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:25.222 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:31:25.226 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:31:25.244 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:31:25.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:31:25.263 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:31:25.266 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:31:25.279 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:31:25.282 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:31:25.330 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:31:25.334 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:31:25.348 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:31:25.352 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:31:25.367 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:31:25.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:31:25.387 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:31:25.390 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:31:25.405 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:31:25.409 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:31:25.422 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:31:25.424 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.435 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:31:25.437 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.449 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:31:25.451 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.463 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:31:25.466 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:31:25.477 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:31:25.480 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:31:25.489 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:31:25.492 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.504 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:31:25.506 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.517 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:31:25.520 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:31:25.530 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:31:25.534 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.545 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:31:25.547 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:31:25.556 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:31:25.561 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:31:25.570 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:31:25.573 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:31:25.585 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:31:25.588 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:31:25.600 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:31:25.603 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:31:25.617 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:31:25.621 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:31:25.633 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:31:25.635 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:31:25.648 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:31:25.651 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:31:25.678 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:31:25.682 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 24ms
2023-08-13 20:31:25.699 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:31:25.704 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 12ms
2023-08-13 20:31:25.724 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:31:25.727 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 15ms
2023-08-13 20:31:25.740 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:31:25.881 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:31:25.977 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:31:26.435 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:31:27.837 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:31:27.848 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:31:32.607 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:31:33.468 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:31:34.603 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:31:37.399 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c5c622, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@334412ed, org.springframework.security.web.context.SecurityContextHolderFilter@6115b4a0, org.springframework.security.web.header.HeaderWriterFilter@7c5f244c, org.springframework.web.filter.CorsFilter@11a88d87, org.springframework.security.web.authentication.logout.LogoutFilter@6cb0ab1e, com.ringo.auth.JwtFilter@68769265, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2cd9bff2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c40aed1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bdffa25, org.springframework.security.web.session.SessionManagementFilter@1497efcc, org.springframework.security.web.access.ExceptionTranslationFilter@686aa9c9, org.springframework.security.web.access.intercept.AuthorizationFilter@cc7eeb1]
2023-08-13 20:31:38.022 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:31:38.038 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.82 seconds (process running for 19.486)
2023-08-13 20:31:59.501 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:31:59.508 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:31:59.511 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:31:59.628 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947917685@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:02.024 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947917685@test.com] is authenticated
2023-08-13 20:32:02.339 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test1691947917685@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:32:02.343 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:32:02.361 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:32:03.644 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947923609@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:05.312 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947923609@test.com] is authenticated
2023-08-13 20:32:05.391 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test1691947923609@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:32:05.392 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:32:05.395 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:32:05.866 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-13 20:32:06.015 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947925992@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:07.839 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947925992@test.com] is authenticated
2023-08-13 20:32:07.959 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:08.069 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947928050@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:09.845 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947928050@test.com] is authenticated
2023-08-13 20:32:09.875 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:09.978 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947929957@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:11.624 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947929957@test.com] is authenticated
2023-08-13 20:32:11.694 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:11.773 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947931757@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:13.377 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947931757@test.com] is authenticated
2023-08-13 20:32:13.406 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:13.507 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947933486@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:15.152 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947933486@test.com] is authenticated
2023-08-13 20:32:15.213 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test1691947933486@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:32:15.214 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:32:15.219 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:32:16.119 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947936101@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:17.747 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947936101@test.com] is authenticated
2023-08-13 20:32:17.794 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - email: test1691947936101@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:32:17.795 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:32:17.800 [http-nio-8080-exec-1] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:32:18.230 [http-nio-8080-exec-5] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-13 20:32:18.380 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947938365@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:20.022 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947938365@test.com] is authenticated
2023-08-13 20:32:20.048 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "current"
2023-08-13 20:32:20.090 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691947940076@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:21.726 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947940076@test.com] is authenticated
2023-08-13 20:32:21.786 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "current"
2023-08-13 20:32:21.824 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947941806@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:23.463 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:32:23.570 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947941806@test.com] is authenticated
2023-08-13 20:32:23.636 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947943622@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:25.348 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947943622@test.com] is authenticated
2023-08-13 20:32:25.678 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:32:25.783 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947943622@test.com] is authenticated
2023-08-13 20:32:25.855 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947945842@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:27.447 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947945842@test.com] is authenticated
2023-08-13 20:32:27.504 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947947490@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:29.298 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947947490@test.com] is authenticated
2023-08-13 20:32:29.658 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:32:29.763 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947947490@test.com] is authenticated
2023-08-13 20:32:29.824 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:32:29.883 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947949862@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:31.656 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947949862@test.com] is authenticated
2023-08-13 20:32:31.759 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:32:31.878 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947949862@test.com] is authenticated
2023-08-13 20:32:31.934 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691947951920@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:33.611 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947951920@test.com] is authenticated
2023-08-13 20:32:33.707 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947953689@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:35.387 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947953689@test.com] is authenticated
2023-08-13 20:32:35.446 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947955428@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:37.182 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947955428@test.com] is authenticated
2023-08-13 20:32:37.284 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:32:37.388 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947955428@test.com] is authenticated
2023-08-13 20:32:37.438 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947957425@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:39.017 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947957425@test.com] is authenticated
2023-08-13 20:32:39.113 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:32:39.148 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947959133@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:40.739 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947959133@test.com] is authenticated
2023-08-13 20:32:40.830 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947959133@test.com
2023-08-13 20:32:40.854 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:40.881 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691947960869@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:42.491 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947960869@test.com] is authenticated
2023-08-13 20:32:42.539 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947960869@test.com
2023-08-13 20:32:42.565 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 20
2023-08-13 20:32:42.576 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:32:42.662 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947962648@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:44.348 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947962648@test.com] is authenticated
2023-08-13 20:32:44.398 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947962648@test.com
2023-08-13 20:32:44.415 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:44.436 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691947964426@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:46.090 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947964426@test.com] is authenticated
2023-08-13 20:32:46.133 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947964426@test.com
2023-08-13 20:32:46.155 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 22
2023-08-13 20:32:46.221 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947966209@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:47.879 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947966209@test.com] is authenticated
2023-08-13 20:32:47.922 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947966209@test.com
2023-08-13 20:32:47.941 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - rateOrganisation: 22
2023-08-13 20:32:48.097 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947968083@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:49.775 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947968083@test.com] is authenticated
2023-08-13 20:32:49.817 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947968083@test.com
2023-08-13 20:32:49.835 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:49.857 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691947969849@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:51.458 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947969849@test.com] is authenticated
2023-08-13 20:32:51.492 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947969849@test.com
2023-08-13 20:32:51.522 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 25
2023-08-13 20:32:51.565 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - deleteReview: 25
2023-08-13 20:32:51.635 [http-nio-8080-exec-12] INFO  c.r.s.company.OrganisationService - findOrganisationById: 25
2023-08-13 20:32:51.748 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947971736@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:53.459 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947971736@test.com] is authenticated
2023-08-13 20:32:53.499 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947971736@test.com
2023-08-13 20:32:53.518 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691947973506
2023-08-13 20:32:53.522 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691947973506 was not found
2023-08-13 20:32:53.566 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691947973555@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:55.224 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947973555@test.com] is authenticated
2023-08-13 20:32:55.263 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947973555@test.com
2023-08-13 20:32:55.285 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:55.307 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691947975298@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:32:57.064 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947975298@test.com] is authenticated
2023-08-13 20:32:57.103 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947975298@test.com
2023-08-13 20:32:57.124 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 28
2023-08-13 20:32:57.179 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 28
2023-08-13 20:32:57.349 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947977337@test.com, role: ROLE_ORGANISATION
2023-08-13 20:32:59.195 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947977337@test.com] is authenticated
2023-08-13 20:32:59.249 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947977337@test.com
2023-08-13 20:32:59.268 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:32:59.293 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691947979284@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:33:00.935 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947979284@test.com] is authenticated
2023-08-13 20:33:00.968 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947979284@test.com
2023-08-13 20:33:00.990 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 30
2023-08-13 20:33:01.001 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:33:01.075 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691947981064@test.com, role: ROLE_ORGANISATION
2023-08-13 20:33:02.697 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947981064@test.com] is authenticated
2023-08-13 20:33:02.733 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947981064@test.com
2023-08-13 20:33:02.752 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:33:02.773 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691947982765@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:33:04.419 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947982765@test.com] is authenticated
2023-08-13 20:33:04.454 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947982765@test.com
2023-08-13 20:33:04.474 [http-nio-8080-exec-8] INFO  c.r.service.company.ReviewService - rateOrganisation: 32
2023-08-13 20:33:04.520 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 32
2023-08-13 20:33:04.531 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:33:04.618 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691947984608@test.com, role: ROLE_ORGANISATION
2023-08-13 20:33:06.195 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947984608@test.com] is authenticated
2023-08-13 20:33:06.233 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947984608@test.com
2023-08-13 20:33:06.249 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:33:06.267 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691947986259@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:33:07.908 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947986259@test.com] is authenticated
2023-08-13 20:33:07.946 [http-nio-8080-exec-14] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947986259@test.com
2023-08-13 20:33:07.966 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - deleteReview: 34
2023-08-13 20:33:07.980 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:33:08.061 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691947988046@test.com, role: ROLE_ORGANISATION
2023-08-13 20:33:09.840 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947988046@test.com] is authenticated
2023-08-13 20:33:09.880 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947988046@test.com
2023-08-13 20:33:09.901 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:33:09.923 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691947989915@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:33:11.605 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691947989915@test.com] is authenticated
2023-08-13 20:33:11.643 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691947989915@test.com
2023-08-13 20:33:11.660 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 36
2023-08-13 20:33:11.704 [http-nio-8080-exec-14] INFO  c.r.s.company.OrganisationService - findOrganisationById: 36
2023-08-13 20:34:05.735 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:34:05.739 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:34:05.744 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:34:14.702 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 50785 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:34:14.706 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:34:16.343 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:34:16.562 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 204 ms. Found 13 JPA repository interfaces.
2023-08-13 20:34:17.608 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:34:17.624 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:34:17.625 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:34:17.790 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:34:17.790 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2714 ms
2023-08-13 20:34:17.996 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:34:18.253 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-13 20:34:18.257 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:34:18.565 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:34:18.749 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:34:18.874 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:34:19.302 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:34:19.306 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:34:19.309 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:34:19.335 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-13 20:34:19.354 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:34:19.590 [main] INFO  liquibase.changelog - Table category created
2023-08-13 20:34:19.594 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 19ms
2023-08-13 20:34:19.626 [main] INFO  liquibase.changelog - Table currency created
2023-08-13 20:34:19.631 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 21ms
2023-08-13 20:34:19.656 [main] INFO  liquibase.changelog - Table event created
2023-08-13 20:34:19.660 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 22ms
2023-08-13 20:34:19.672 [main] INFO  liquibase.changelog - Table event_category created
2023-08-13 20:34:19.674 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:34:19.694 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-13 20:34:19.697 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:34:19.712 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-13 20:34:19.716 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:34:19.728 [main] INFO  liquibase.changelog - Table event_save created
2023-08-13 20:34:19.731 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:19.747 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-13 20:34:19.750 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:34:19.767 [main] INFO  liquibase.changelog - Table label created
2023-08-13 20:34:19.770 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:34:19.788 [main] INFO  liquibase.changelog - Table organisation created
2023-08-13 20:34:19.793 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:34:19.805 [main] INFO  liquibase.changelog - Table participant created
2023-08-13 20:34:19.808 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:34:19.827 [main] INFO  liquibase.changelog - Table photo created
2023-08-13 20:34:19.829 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:34:19.844 [main] INFO  liquibase.changelog - Table review created
2023-08-13 20:34:19.846 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 12ms
2023-08-13 20:34:19.864 [main] INFO  liquibase.changelog - Table ticket created
2023-08-13 20:34:19.866 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:34:19.882 [main] INFO  liquibase.changelog - Table users created
2023-08-13 20:34:19.887 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:34:19.901 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-13 20:34:19.906 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 13ms
2023-08-13 20:34:19.920 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-13 20:34:19.924 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 11ms
2023-08-13 20:34:19.941 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-13 20:34:19.945 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 14ms
2023-08-13 20:34:19.965 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-13 20:34:19.970 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 16ms
2023-08-13 20:34:19.996 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-13 20:34:19.999 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 15ms
2023-08-13 20:34:20.012 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-13 20:34:20.015 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:20.029 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-13 20:34:20.032 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:20.046 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-13 20:34:20.050 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:34:20.064 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-13 20:34:20.066 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.077 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-13 20:34:20.079 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.088 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-13 20:34:20.092 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.102 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-13 20:34:20.104 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:34:20.112 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-13 20:34:20.116 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.184 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-13 20:34:20.188 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:34:20.200 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-13 20:34:20.204 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:20.215 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-13 20:34:20.218 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.231 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-13 20:34:20.234 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.247 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-13 20:34:20.250 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:20.265 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-13 20:34:20.268 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 10ms
2023-08-13 20:34:20.282 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-13 20:34:20.285 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:20.295 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-13 20:34:20.297 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:34:20.307 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-13 20:34:20.309 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:34:20.320 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-13 20:34:20.322 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 9ms
2023-08-13 20:34:20.334 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-13 20:34:20.337 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.347 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-13 20:34:20.350 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:34:20.362 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-13 20:34:20.364 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 7ms
2023-08-13 20:34:20.376 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-13 20:34:20.378 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 6ms
2023-08-13 20:34:20.388 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-13 20:34:20.390 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 8ms
2023-08-13 20:34:20.408 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:34:20.410 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-13 20:34:20.422 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:34:20.424 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-13 20:34:20.439 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-13 20:34:20.441 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-13 20:34:20.452 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:34:20.610 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:34:20.695 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:34:21.149 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:34:22.562 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:34:22.572 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:34:27.385 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:34:28.578 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:34:29.404 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:34:31.798 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19dda8e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@734c98ff, org.springframework.security.web.context.SecurityContextHolderFilter@5eb192b7, org.springframework.security.web.header.HeaderWriterFilter@7469445d, org.springframework.web.filter.CorsFilter@2227c82d, org.springframework.security.web.authentication.logout.LogoutFilter@d72ec1b, com.ringo.auth.JwtFilter@20e43235, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5eb20abb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7514e658, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29a3de3a, org.springframework.security.web.session.SessionManagementFilter@33293dac, org.springframework.security.web.access.ExceptionTranslationFilter@4c40aed1, org.springframework.security.web.access.intercept.AuthorizationFilter@1ee69b3]
2023-08-13 20:34:32.238 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:34:32.252 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.142 seconds (process running for 18.802)
2023-08-13 20:34:57.682 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:34:57.683 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:34:57.685 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:34:57.768 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691948095849@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:00.073 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948095849@test.com] is authenticated
2023-08-13 20:35:00.354 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test1691948095849@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:35:00.358 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:35:00.376 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:35:01.695 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691948101666@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:03.605 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948101666@test.com] is authenticated
2023-08-13 20:35:03.691 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - email: test1691948101666@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:35:03.693 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:35:03.697 [http-nio-8080-exec-1] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:35:04.140 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-13 20:35:04.293 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691948104274@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:06.083 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948104274@test.com] is authenticated
2023-08-13 20:35:06.110 [http-nio-8080-exec-6] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 20:35:06.186 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691948106166@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:07.925 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948106166@test.com] is authenticated
2023-08-13 20:35:08.017 [http-nio-8080-exec-1] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 20:35:08.118 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948108099@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:09.877 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:35:09.988 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948108099@test.com] is authenticated
2023-08-13 20:35:10.089 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948110051@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:11.837 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948110051@test.com] is authenticated
2023-08-13 20:35:12.177 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:35:12.284 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948110051@test.com] is authenticated
2023-08-13 20:35:12.376 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948112353@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:13.978 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948112353@test.com] is authenticated
2023-08-13 20:35:14.039 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691948114023@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:15.811 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948114023@test.com] is authenticated
2023-08-13 20:35:16.131 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:35:16.234 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948114023@test.com] is authenticated
2023-08-13 20:35:16.309 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:35:16.358 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948116338@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:18.058 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948116338@test.com] is authenticated
2023-08-13 20:35:18.166 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:35:18.277 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948116338@test.com] is authenticated
2023-08-13 20:35:18.343 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691948118326@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:20.009 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948118326@test.com] is authenticated
2023-08-13 20:35:20.106 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691948120084@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:21.755 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948120084@test.com] is authenticated
2023-08-13 20:35:21.812 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948121798@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:23.591 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948121798@test.com] is authenticated
2023-08-13 20:35:23.697 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:35:23.807 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948121798@test.com] is authenticated
2023-08-13 20:35:23.873 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691948123858@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:25.523 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948123858@test.com] is authenticated
2023-08-13 20:35:25.606 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:35:25.634 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948125622@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:27.292 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948125622@test.com] is authenticated
2023-08-13 20:35:27.350 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - email: test1691948125622@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:35:27.352 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:35:27.357 [http-nio-8080-exec-2] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:35:28.275 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948128262@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:30.015 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948128262@test.com] is authenticated
2023-08-13 20:35:30.057 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - email: test1691948128262@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:35:30.059 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:35:30.064 [http-nio-8080-exec-1] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:35:30.497 [http-nio-8080-exec-8] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-13 20:35:30.622 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691948130607@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:32.406 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948130607@test.com] is authenticated
2023-08-13 20:35:32.490 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:32.568 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948132555@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:34.317 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948132555@test.com] is authenticated
2023-08-13 20:35:34.336 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:34.394 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691948134382@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:36.078 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948134382@test.com] is authenticated
2023-08-13 20:35:36.142 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:36.204 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948136190@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:37.821 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948136190@test.com] is authenticated
2023-08-13 20:35:37.841 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:37.910 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691948137900@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:39.561 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948137900@test.com] is authenticated
2023-08-13 20:35:39.658 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948137900@test.com
2023-08-13 20:35:39.686 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:39.720 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948139706@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:41.513 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948139706@test.com] is authenticated
2023-08-13 20:35:41.558 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948139706@test.com
2023-08-13 20:35:41.592 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 20
2023-08-13 20:35:41.606 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:35:41.705 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691948141690@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:43.353 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948141690@test.com] is authenticated
2023-08-13 20:35:43.398 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948141690@test.com
2023-08-13 20:35:43.421 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:43.447 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948143437@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:45.091 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948143437@test.com] is authenticated
2023-08-13 20:35:45.134 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948143437@test.com
2023-08-13 20:35:45.156 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 22
2023-08-13 20:35:45.224 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691948145214@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:46.944 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948145214@test.com] is authenticated
2023-08-13 20:35:46.999 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948145214@test.com
2023-08-13 20:35:47.021 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - rateOrganisation: 22
2023-08-13 20:35:47.198 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test1691948147186@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:48.984 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948147186@test.com] is authenticated
2023-08-13 20:35:49.028 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948147186@test.com
2023-08-13 20:35:49.049 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:49.072 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691948149064@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:51.845 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948149064@test.com] is authenticated
2023-08-13 20:35:51.881 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948149064@test.com
2023-08-13 20:35:51.903 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 25
2023-08-13 20:35:51.958 [http-nio-8080-exec-4] INFO  c.r.service.company.ReviewService - deleteReview: 25
2023-08-13 20:35:52.037 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 25
2023-08-13 20:35:52.138 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948152125@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:53.790 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948152125@test.com] is authenticated
2023-08-13 20:35:53.826 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948152125@test.com
2023-08-13 20:35:53.846 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691948153833
2023-08-13 20:35:53.850 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691948153833 was not found
2023-08-13 20:35:53.895 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691948153883@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:55.570 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948153883@test.com] is authenticated
2023-08-13 20:35:55.606 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948153883@test.com
2023-08-13 20:35:55.624 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:55.643 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691948155636@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:35:57.353 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948155636@test.com] is authenticated
2023-08-13 20:35:57.391 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948155636@test.com
2023-08-13 20:35:57.410 [http-nio-8080-exec-6] INFO  c.r.service.company.ReviewService - rateOrganisation: 28
2023-08-13 20:35:57.456 [http-nio-8080-exec-12] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 28
2023-08-13 20:35:57.614 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691948157598@test.com, role: ROLE_ORGANISATION
2023-08-13 20:35:59.323 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948157598@test.com] is authenticated
2023-08-13 20:35:59.364 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948157598@test.com
2023-08-13 20:35:59.381 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:35:59.400 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948159392@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:36:01.166 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948159392@test.com] is authenticated
2023-08-13 20:36:01.205 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948159392@test.com
2023-08-13 20:36:01.225 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 30
2023-08-13 20:36:01.236 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:36:01.305 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691948161293@test.com, role: ROLE_ORGANISATION
2023-08-13 20:36:03.012 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948161293@test.com] is authenticated
2023-08-13 20:36:03.057 [http-nio-8080-exec-16] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948161293@test.com
2023-08-13 20:36:03.079 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:36:03.100 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691948163091@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:36:04.955 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948163091@test.com] is authenticated
2023-08-13 20:36:04.990 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948163091@test.com
2023-08-13 20:36:05.012 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 32
2023-08-13 20:36:05.059 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 32
2023-08-13 20:36:05.089 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:36:05.188 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691948165176@test.com, role: ROLE_ORGANISATION
2023-08-13 20:36:07.309 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948165176@test.com] is authenticated
2023-08-13 20:36:07.350 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948165176@test.com
2023-08-13 20:36:07.373 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:36:07.392 [http-nio-8080-exec-16] INFO  c.r.s.common.AbstractUserService - save: test1691948167385@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:36:09.046 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948167385@test.com] is authenticated
2023-08-13 20:36:09.082 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948167385@test.com
2023-08-13 20:36:09.102 [http-nio-8080-exec-13] INFO  c.r.service.company.ReviewService - deleteReview: 34
2023-08-13 20:36:09.117 [http-nio-8080-exec-13] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:36:09.193 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691948169183@test.com, role: ROLE_ORGANISATION
2023-08-13 20:36:11.101 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948169183@test.com] is authenticated
2023-08-13 20:36:11.145 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948169183@test.com
2023-08-13 20:36:11.165 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:36:11.194 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691948171180@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:36:12.955 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691948171180@test.com] is authenticated
2023-08-13 20:36:12.989 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691948171180@test.com
2023-08-13 20:36:13.007 [http-nio-8080-exec-16] INFO  c.r.service.company.ReviewService - rateOrganisation: 36
2023-08-13 20:36:13.049 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 36
2023-08-13 20:36:16.735 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:36:16.737 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:36:16.740 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:56:14.475 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 51275 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:56:14.480 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:56:15.979 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:56:16.185 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 195 ms. Found 13 JPA repository interfaces.
2023-08-13 20:56:17.138 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:56:17.155 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:56:17.156 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:56:17.346 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:56:17.346 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2503 ms
2023-08-13 20:56:17.516 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:56:17.769 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@782ac148
2023-08-13 20:56:17.772 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:56:17.924 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:56:18.045 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:56:18.170 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:56:18.618 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:56:18.622 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:56:18.626 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:56:18.717 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:56:18.869 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:56:18.996 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:56:19.062 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:56:19.512 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:56:20.916 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:56:20.931 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:56:25.862 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:56:26.757 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:56:27.582 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:56:30.017 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72bf66c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11f505e8, org.springframework.security.web.context.SecurityContextHolderFilter@38421084, org.springframework.security.web.header.HeaderWriterFilter@17778985, org.springframework.web.filter.CorsFilter@4bb4adf7, org.springframework.security.web.authentication.logout.LogoutFilter@274b3fc6, com.ringo.auth.JwtFilter@5713e261, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44eb9af1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ad6484, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@119636bf, org.springframework.security.web.session.SessionManagementFilter@7c1ac3b, org.springframework.security.web.access.ExceptionTranslationFilter@41fd7740, org.springframework.security.web.access.intercept.AuthorizationFilter@2288342c]
2023-08-13 20:56:30.452 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:56:30.468 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.694 seconds (process running for 17.609)
2023-08-13 20:56:51.579 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:56:51.580 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:56:51.582 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:56:51.663 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691949409733@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:56:54.300 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:56:54.440 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949409733@test.com] is authenticated
2023-08-13 20:56:54.669 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691949414621@test.com, role: ROLE_ORGANISATION
2023-08-13 20:56:56.515 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949414621@test.com] is authenticated
2023-08-13 20:56:56.883 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:56:57.000 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949414621@test.com] is authenticated
2023-08-13 20:56:57.120 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691949417085@test.com, role: ROLE_ORGANISATION
2023-08-13 20:56:58.742 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949417085@test.com] is authenticated
2023-08-13 20:56:58.825 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691949418804@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:00.455 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949418804@test.com] is authenticated
2023-08-13 20:57:00.804 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:57:00.912 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949418804@test.com] is authenticated
2023-08-13 20:57:00.991 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:57:01.043 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691949421024@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:02.628 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949421024@test.com] is authenticated
2023-08-13 20:57:02.739 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:57:02.856 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949421024@test.com] is authenticated
2023-08-13 20:57:02.924 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691949422905@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:04.593 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949422905@test.com] is authenticated
2023-08-13 20:57:04.693 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949424674@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:06.320 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949424674@test.com] is authenticated
2023-08-13 20:57:06.379 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691949426364@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:08.067 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949426364@test.com] is authenticated
2023-08-13 20:57:08.181 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:57:08.293 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949426364@test.com] is authenticated
2023-08-13 20:57:08.355 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691949428341@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:10.067 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949428341@test.com] is authenticated
2023-08-13 20:57:10.163 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:57:10.206 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691949430186@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:11.792 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949430186@test.com] is authenticated
2023-08-13 20:57:11.969 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - email: test1691949430186@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:57:11.975 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:57:11.997 [http-nio-8080-exec-1] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:57:13.189 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691949433170@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:14.850 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949433170@test.com] is authenticated
2023-08-13 20:57:14.923 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - email: test1691949433170@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:57:14.924 [http-nio-8080-exec-12] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:57:14.928 [http-nio-8080-exec-12] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:57:15.362 [http-nio-8080-exec-6] INFO  c.ringo.service.common.PhotoService - deletePhoto: 6
2023-08-13 20:57:15.514 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691949435496@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:17.205 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949435496@test.com] is authenticated
2023-08-13 20:57:17.287 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:57:17.404 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691949437389@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:19.008 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949437389@test.com] is authenticated
2023-08-13 20:57:19.028 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:57:19.108 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691949439097@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:20.907 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949439097@test.com] is authenticated
2023-08-13 20:57:20.974 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:57:21.044 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691949441030@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:22.644 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949441030@test.com] is authenticated
2023-08-13 20:57:22.662 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:57:22.755 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691949442742@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:24.430 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949442742@test.com] is authenticated
2023-08-13 20:57:24.472 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - email: test1691949442742@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:57:24.473 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:57:24.477 [http-nio-8080-exec-7] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:57:25.426 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949445413@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:27.012 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949445413@test.com] is authenticated
2023-08-13 20:57:27.054 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - email: test1691949445413@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:57:27.055 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:57:27.059 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:57:27.512 [http-nio-8080-exec-11] INFO  c.ringo.service.common.PhotoService - deletePhoto: 8
2023-08-13 20:57:27.637 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949447624@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:29.324 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949447624@test.com] is authenticated
2023-08-13 20:57:29.341 [http-nio-8080-exec-5] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 20:57:29.395 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691949449381@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:31.053 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949449381@test.com] is authenticated
2023-08-13 20:57:31.108 [http-nio-8080-exec-10] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 20:57:31.181 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691949451169@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:32.783 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949451169@test.com] is authenticated
2023-08-13 20:57:32.848 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:32.885 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949452871@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:34.571 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949452871@test.com] is authenticated
2023-08-13 20:57:34.588 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:34.616 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691949454606@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:36.219 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949454606@test.com] is authenticated
2023-08-13 20:57:36.237 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:36.260 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949456247@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:57:37.991 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949456247@test.com] is authenticated
2023-08-13 20:57:38.009 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:38.033 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691949458019@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:39.721 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949458019@test.com] is authenticated
2023-08-13 20:57:39.736 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:39.760 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949459744@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:41.630 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949459744@test.com] is authenticated
2023-08-13 20:57:41.645 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:41.668 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691949461652@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:43.243 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949461652@test.com] is authenticated
2023-08-13 20:57:43.261 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:43.288 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949463273@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:45.116 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949463273@test.com] is authenticated
2023-08-13 20:57:45.133 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:57:45.155 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691949465142@test.com, role: ROLE_ORGANISATION
2023-08-13 20:57:46.768 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949465142@test.com] is authenticated
2023-08-13 20:57:46.783 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-13 20:58:24.219 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:58:24.222 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 20:58:24.225 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-13 20:58:33.935 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 51321 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-13 20:58:33.939 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-13 20:58:35.841 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-13 20:58:36.114 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 255 ms. Found 13 JPA repository interfaces.
2023-08-13 20:58:37.329 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-13 20:58:37.352 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-13 20:58:37.353 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-13 20:58:37.584 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-13 20:58:37.585 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3168 ms
2023-08-13 20:58:37.805 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-13 20:58:38.098 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f883d90
2023-08-13 20:58:38.102 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-13 20:58:38.330 [main] INFO  liquibase.database - Set default schema name to public
2023-08-13 20:58:38.516 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-13 20:58:38.671 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-13 20:58:39.110 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-13 20:58:39.114 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-13 20:58:39.116 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-13 20:58:39.227 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-13 20:58:39.383 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-13 20:58:39.526 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-13 20:58:39.601 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-13 20:58:40.114 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-13 20:58:41.670 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-13 20:58:41.679 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 20:58:46.342 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-13 20:58:46.840 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-13 20:58:47.643 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-13 20:58:49.853 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1472308f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@140fc16f, org.springframework.security.web.context.SecurityContextHolderFilter@7d576ea9, org.springframework.security.web.header.HeaderWriterFilter@9e3c653, org.springframework.web.filter.CorsFilter@353b5d86, org.springframework.security.web.authentication.logout.LogoutFilter@47c5ad11, com.ringo.auth.JwtFilter@3c72c488, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@720907c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@be706e2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52afe9f2, org.springframework.security.web.session.SessionManagementFilter@6d37c176, org.springframework.security.web.access.ExceptionTranslationFilter@57f1cb96, org.springframework.security.web.access.intercept.AuthorizationFilter@508a1ef0]
2023-08-13 20:58:50.266 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-13 20:58:50.281 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.176 seconds (process running for 17.9)
2023-08-13 20:59:01.153 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-13 20:59:01.170 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-13 20:59:01.172 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-13 20:59:01.244 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691949539318@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:03.659 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949539318@test.com] is authenticated
2023-08-13 20:59:03.869 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949539318@test.com
2023-08-13 20:59:03.922 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:03.986 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691949543952@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:05.626 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949543952@test.com] is authenticated
2023-08-13 20:59:05.694 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949543952@test.com
2023-08-13 20:59:05.739 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 66
2023-08-13 20:59:05.760 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-13 20:59:05.919 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691949545898@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:07.662 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949545898@test.com] is authenticated
2023-08-13 20:59:07.731 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949545898@test.com
2023-08-13 20:59:07.763 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:07.815 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691949547787@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:09.708 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949547787@test.com] is authenticated
2023-08-13 20:59:09.763 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949547787@test.com
2023-08-13 20:59:09.795 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 68
2023-08-13 20:59:09.896 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691949549877@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:11.685 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949549877@test.com] is authenticated
2023-08-13 20:59:11.742 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949549877@test.com
2023-08-13 20:59:11.767 [http-nio-8080-exec-7] INFO  c.r.service.company.ReviewService - rateOrganisation: 68
2023-08-13 20:59:11.996 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949551979@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:13.698 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949551979@test.com] is authenticated
2023-08-13 20:59:13.751 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949551979@test.com
2023-08-13 20:59:13.778 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:13.812 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949553795@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:15.459 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949553795@test.com] is authenticated
2023-08-13 20:59:15.510 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949553795@test.com
2023-08-13 20:59:15.537 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - rateOrganisation: 71
2023-08-13 20:59:15.597 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - deleteReview: 71
2023-08-13 20:59:15.681 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 71
2023-08-13 20:59:15.796 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691949555781@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:17.399 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949555781@test.com] is authenticated
2023-08-13 20:59:17.446 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949555781@test.com
2023-08-13 20:59:17.473 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 1691949557455
2023-08-13 20:59:17.480 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Organisation#1691949557455 was not found
2023-08-13 20:59:17.548 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691949557531@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:19.297 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949557531@test.com] is authenticated
2023-08-13 20:59:19.411 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949557531@test.com
2023-08-13 20:59:19.453 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:19.528 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691949559480@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:21.377 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949559480@test.com] is authenticated
2023-08-13 20:59:21.446 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949559480@test.com
2023-08-13 20:59:21.480 [http-nio-8080-exec-11] INFO  c.r.service.company.ReviewService - rateOrganisation: 74
2023-08-13 20:59:21.561 [http-nio-8080-exec-5] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 74
2023-08-13 20:59:21.780 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949561758@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:23.429 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949561758@test.com] is authenticated
2023-08-13 20:59:23.487 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949561758@test.com
2023-08-13 20:59:23.511 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:23.539 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949563524@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:25.177 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949563524@test.com] is authenticated
2023-08-13 20:59:25.277 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949563524@test.com
2023-08-13 20:59:25.329 [http-nio-8080-exec-9] INFO  c.r.service.company.ReviewService - updateReview(organisaitonId): 76
2023-08-13 20:59:25.361 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:59:25.536 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691949565504@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:27.844 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949565504@test.com] is authenticated
2023-08-13 20:59:27.906 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949565504@test.com
2023-08-13 20:59:27.929 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:27.970 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691949567950@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:30.091 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949567950@test.com] is authenticated
2023-08-13 20:59:30.136 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949567950@test.com
2023-08-13 20:59:30.159 [http-nio-8080-exec-1] INFO  c.r.service.company.ReviewService - rateOrganisation: 78
2023-08-13 20:59:30.227 [http-nio-8080-exec-2] INFO  c.r.service.company.ReviewService - rateOrganisation: 78
2023-08-13 20:59:30.243 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Current user has already rated this organisation
2023-08-13 20:59:30.348 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691949570333@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:32.280 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949570333@test.com] is authenticated
2023-08-13 20:59:32.324 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949570333@test.com
2023-08-13 20:59:32.345 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:32.372 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691949572362@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:35.036 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949572362@test.com] is authenticated
2023-08-13 20:59:35.088 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949572362@test.com
2023-08-13 20:59:35.115 [http-nio-8080-exec-3] INFO  c.r.service.company.ReviewService - deleteReview: 80
2023-08-13 20:59:35.130 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - There is no review for this organisation made by current user
2023-08-13 20:59:35.296 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691949575261@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:37.040 [http-nio-8080-exec-17] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949575261@test.com] is authenticated
2023-08-13 20:59:37.087 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949575261@test.com
2023-08-13 20:59:37.113 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 20:59:37.141 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949577130@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:38.742 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949577130@test.com] is authenticated
2023-08-13 20:59:38.780 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - activateParticipant: test1691949577130@test.com
2023-08-13 20:59:38.801 [http-nio-8080-exec-10] INFO  c.r.service.company.ReviewService - rateOrganisation: 82
2023-08-13 20:59:38.850 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findOrganisationById: 82
2023-08-13 20:59:38.968 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691949578959@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:40.778 [http-nio-8080-exec-12] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:59:40.880 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949578959@test.com] is authenticated
2023-08-13 20:59:40.932 [http-nio-8080-exec-16] INFO  c.r.s.common.AbstractUserService - save: test1691949580923@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:42.497 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949580923@test.com] is authenticated
2023-08-13 20:59:42.819 [http-nio-8080-exec-18] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:59:42.923 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949580923@test.com] is authenticated
2023-08-13 20:59:42.981 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691949582971@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:44.565 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949582971@test.com] is authenticated
2023-08-13 20:59:44.626 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691949584611@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:46.237 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949584611@test.com] is authenticated
2023-08-13 20:59:46.549 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:59:46.650 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949584611@test.com] is authenticated
2023-08-13 20:59:46.694 [http-nio-8080-exec-12] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-13 20:59:46.737 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691949586727@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:48.369 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949586727@test.com] is authenticated
2023-08-13 20:59:48.529 [http-nio-8080-exec-16] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:59:48.645 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949586727@test.com] is authenticated
2023-08-13 20:59:48.707 [http-nio-8080-exec-18] INFO  c.r.s.common.AbstractUserService - save: test1691949588697@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:50.344 [http-nio-8080-exec-15] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949588697@test.com] is authenticated
2023-08-13 20:59:50.429 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691949590418@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:52.091 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949590418@test.com] is authenticated
2023-08-13 20:59:52.138 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949592130@test.com, role: ROLE_PARTICIPANT
2023-08-13 20:59:53.729 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949592130@test.com] is authenticated
2023-08-13 20:59:53.837 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-13 20:59:53.955 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949592130@test.com] is authenticated
2023-08-13 20:59:54.129 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test1691949594113@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:55.711 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949594113@test.com] is authenticated
2023-08-13 20:59:55.786 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-13 20:59:55.814 [http-nio-8080-exec-17] INFO  c.r.s.common.AbstractUserService - save: test1691949595803@test.com, role: ROLE_ORGANISATION
2023-08-13 20:59:57.520 [http-nio-8080-exec-18] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949595803@test.com] is authenticated
2023-08-13 20:59:57.760 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - email: test1691949595803@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 20:59:57.767 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 20:59:57.801 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 20:59:59.011 [http-nio-8080-exec-17] INFO  c.r.s.common.AbstractUserService - save: test1691949598998@test.com, role: ROLE_ORGANISATION
2023-08-13 21:00:00.600 [http-nio-8080-exec-18] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949598998@test.com] is authenticated
2023-08-13 21:00:00.663 [http-nio-8080-exec-15] INFO  c.r.s.common.AbstractUserService - email: test1691949598998@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 21:00:00.664 [http-nio-8080-exec-15] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 21:00:00.668 [http-nio-8080-exec-15] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 21:00:01.131 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - deletePhoto: 10
2023-08-13 21:00:01.259 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691949601246@test.com, role: ROLE_ORGANISATION
2023-08-13 21:00:02.885 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949601246@test.com] is authenticated
2023-08-13 21:00:03.001 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 21:00:03.114 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691949603099@test.com, role: ROLE_ORGANISATION
2023-08-13 21:00:04.817 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949603099@test.com] is authenticated
2023-08-13 21:00:04.834 [http-nio-8080-exec-12] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 21:00:04.894 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test1691949604884@test.com, role: ROLE_ORGANISATION
2023-08-13 21:00:06.628 [http-nio-8080-exec-14] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949604884@test.com] is authenticated
2023-08-13 21:00:06.679 [http-nio-8080-exec-16] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 21:00:06.739 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691949606728@test.com, role: ROLE_ORGANISATION
2023-08-13 21:00:08.450 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949606728@test.com] is authenticated
2023-08-13 21:00:08.494 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-13 21:00:08.696 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691949608682@test.com, role: ROLE_PARTICIPANT
2023-08-13 21:00:10.383 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949608682@test.com] is authenticated
2023-08-13 21:00:10.423 [http-nio-8080-exec-19] INFO  c.r.s.common.AbstractUserService - email: test1691949608682@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 21:00:10.425 [http-nio-8080-exec-19] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 21:00:10.429 [http-nio-8080-exec-19] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 21:00:12.360 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691949612350@test.com, role: ROLE_PARTICIPANT
2023-08-13 21:00:14.922 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949612350@test.com] is authenticated
2023-08-13 21:00:14.955 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - email: test1691949612350@test.com, setPhoto: test_profile_picture.jpeg
2023-08-13 21:00:14.957 [http-nio-8080-exec-13] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-13 21:00:14.960 [http-nio-8080-exec-13] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-13 21:00:15.311 [http-nio-8080-exec-14] INFO  c.ringo.service.common.PhotoService - deletePhoto: 12
2023-08-13 21:00:15.426 [http-nio-8080-exec-16] INFO  c.r.s.common.AbstractUserService - save: test1691949615415@test.com, role: ROLE_PARTICIPANT
2023-08-13 21:00:16.993 [http-nio-8080-exec-17] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949615415@test.com] is authenticated
2023-08-13 21:00:17.008 [http-nio-8080-exec-15] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 21:00:17.068 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691949617057@test.com, role: ROLE_PARTICIPANT
2023-08-13 21:00:18.641 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691949617057@test.com] is authenticated
2023-08-13 21:00:18.692 [http-nio-8080-exec-4] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-13 21:00:44.091 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-13 21:00:44.097 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-13 21:00:44.101 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-14 08:52:11.919 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 54261 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-14 08:52:11.924 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-14 08:52:13.699 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-14 08:52:13.900 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 183 ms. Found 13 JPA repository interfaces.
2023-08-14 08:52:15.087 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-14 08:52:15.120 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-14 08:52:15.121 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-14 08:52:15.380 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-14 08:52:15.381 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3020 ms
2023-08-14 08:52:15.557 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-14 08:52:15.948 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-14 08:52:15.952 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-14 08:52:16.366 [main] INFO  liquibase.database - Set default schema name to public
2023-08-14 08:52:16.501 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-14 08:52:16.622 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-14 08:52:17.056 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-14 08:52:17.060 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-14 08:52:17.062 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-14 08:52:17.205 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-14 08:52:17.361 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-14 08:52:17.546 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-14 08:52:17.662 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-14 08:52:18.162 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-14 08:52:19.681 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-14 08:52:19.695 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-14 08:52:24.871 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-14 08:52:25.412 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-14 08:52:26.319 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-14 08:52:29.091 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10b51115, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56967355, org.springframework.security.web.context.SecurityContextHolderFilter@98243dc, org.springframework.security.web.header.HeaderWriterFilter@213488e6, org.springframework.web.filter.CorsFilter@6d17cd8b, org.springframework.security.web.authentication.logout.LogoutFilter@2295b060, com.ringo.auth.JwtFilter@290ebbbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec4d81b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31d31620, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c04d23e, org.springframework.security.web.session.SessionManagementFilter@1e35e4d9, org.springframework.security.web.access.ExceptionTranslationFilter@187f6ac7, org.springframework.security.web.access.intercept.AuthorizationFilter@3a8f9d53]
2023-08-14 08:52:29.555 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-14 08:52:29.569 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.347 seconds (process running for 19.393)
2023-08-14 08:52:48.712 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-14 08:52:48.713 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-14 08:52:48.716 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-14 08:52:48.815 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992366689@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:52:52.236 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-14 08:52:52.369 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992366689@test.com] is authenticated
2023-08-14 08:52:52.630 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691992372580@test.com, role: ROLE_ORGANISATION
2023-08-14 08:52:54.376 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992372580@test.com] is authenticated
2023-08-14 08:52:54.832 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-14 08:52:54.953 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992372580@test.com] is authenticated
2023-08-14 08:52:55.059 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992375033@test.com, role: ROLE_ORGANISATION
2023-08-14 08:52:56.834 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992375033@test.com] is authenticated
2023-08-14 08:52:56.950 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691992376923@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:52:58.672 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992376923@test.com] is authenticated
2023-08-14 08:52:59.023 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-14 08:52:59.128 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992376923@test.com] is authenticated
2023-08-14 08:52:59.221 [http-nio-8080-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:113)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-14 08:52:59.284 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992379259@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:00.908 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992379259@test.com] is authenticated
2023-08-14 08:53:01.021 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-14 08:53:01.138 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992379259@test.com] is authenticated
2023-08-14 08:53:01.220 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691992381199@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:02.941 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992381199@test.com] is authenticated
2023-08-14 08:53:03.043 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691992383023@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:04.899 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992383023@test.com] is authenticated
2023-08-14 08:53:04.967 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992384947@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:06.653 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992384947@test.com] is authenticated
2023-08-14 08:53:06.762 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-14 08:53:06.873 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992384947@test.com] is authenticated
2023-08-14 08:53:06.939 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691992386920@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:08.614 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992386920@test.com] is authenticated
2023-08-14 08:53:08.730 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-14 08:53:08.782 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992388761@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:10.521 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992388761@test.com] is authenticated
2023-08-14 08:53:10.748 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - email: test1691992388761@test.com, setPhoto: test_profile_picture.jpeg
2023-08-14 08:53:10.751 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-14 08:53:10.773 [http-nio-8080-exec-2] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-14 08:53:12.006 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691992391988@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:13.712 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992391988@test.com] is authenticated
2023-08-14 08:53:13.767 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test1691992391988@test.com, setPhoto: test_profile_picture.jpeg
2023-08-14 08:53:13.770 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-14 08:53:13.775 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-14 08:53:14.260 [http-nio-8080-exec-8] INFO  c.ringo.service.common.PhotoService - deletePhoto: 14
2023-08-14 08:53:14.398 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691992394379@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:16.039 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992394379@test.com] is authenticated
2023-08-14 08:53:16.142 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-14 08:53:16.251 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691992396242@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:18.011 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992396242@test.com] is authenticated
2023-08-14 08:53:18.032 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-14 08:53:18.108 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992398093@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:19.859 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992398093@test.com] is authenticated
2023-08-14 08:53:19.938 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-14 08:53:20.010 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691992399996@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:21.698 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992399996@test.com] is authenticated
2023-08-14 08:53:21.723 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-14 08:53:21.801 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691992401788@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:23.434 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992401788@test.com] is authenticated
2023-08-14 08:53:23.481 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - email: test1691992401788@test.com, setPhoto: test_profile_picture.jpeg
2023-08-14 08:53:23.482 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-14 08:53:23.487 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-14 08:53:24.450 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test1691992404436@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:26.183 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992404436@test.com] is authenticated
2023-08-14 08:53:26.231 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test1691992404436@test.com, setPhoto: test_profile_picture.jpeg
2023-08-14 08:53:26.232 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-14 08:53:26.236 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-14 08:53:26.660 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - deletePhoto: 16
2023-08-14 08:53:26.789 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691992406775@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:28.550 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992406775@test.com] is authenticated
2023-08-14 08:53:28.567 [http-nio-8080-exec-1] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-14 08:53:28.620 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691992408608@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:30.243 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992408608@test.com] is authenticated
2023-08-14 08:53:30.304 [http-nio-8080-exec-10] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-14 08:53:30.373 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test1691992410360@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:32.036 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992410360@test.com] is authenticated
2023-08-14 08:53:32.097 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:32.127 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test1691992412117@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:33.749 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992412117@test.com] is authenticated
2023-08-14 08:53:33.773 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:33.801 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test1691992413783@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:35.535 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992413783@test.com] is authenticated
2023-08-14 08:53:35.557 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:35.579 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test1691992415566@test.com, role: ROLE_PARTICIPANT
2023-08-14 08:53:37.256 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992415566@test.com] is authenticated
2023-08-14 08:53:37.285 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:37.326 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test1691992417300@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:39.066 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992417300@test.com] is authenticated
2023-08-14 08:53:39.086 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:39.109 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test1691992419094@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:40.742 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992419094@test.com] is authenticated
2023-08-14 08:53:40.768 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:40.799 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test1691992420780@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:42.471 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992420780@test.com] is authenticated
2023-08-14 08:53:42.493 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:42.522 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test1691992422504@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:44.272 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992422504@test.com] is authenticated
2023-08-14 08:53:44.297 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:44.325 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test1691992424311@test.com, role: ROLE_ORGANISATION
2023-08-14 08:53:45.963 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test1691992424311@test.com] is authenticated
2023-08-14 08:53:45.992 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Invalid token
2023-08-14 08:53:49.192 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-14 08:53:49.198 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-14 08:53:49.202 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-14 08:54:09.613 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 54330 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-14 08:54:09.619 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-14 08:54:11.698 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-14 08:54:11.938 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 223 ms. Found 13 JPA repository interfaces.
2023-08-14 08:54:13.274 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-14 08:54:13.294 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-14 08:54:13.295 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-14 08:54:13.508 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-14 08:54:13.509 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3356 ms
2023-08-14 08:54:13.750 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-14 08:54:14.074 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@360d41d0
2023-08-14 08:54:14.081 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-14 08:54:14.323 [main] INFO  liquibase.database - Set default schema name to public
2023-08-14 08:54:14.501 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-14 08:54:14.669 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-14 08:54:15.235 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-14 08:54:15.239 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-14 08:54:15.243 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-14 08:54:15.383 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-14 08:54:15.681 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-14 08:54:16.002 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-14 08:54:16.156 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-14 08:54:17.100 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-14 08:54:19.994 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-14 08:54:20.007 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-14 08:54:27.099 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-14 08:54:27.982 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-14 08:54:29.216 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-14 08:54:33.681 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3338057a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2288342c, org.springframework.security.web.context.SecurityContextHolderFilter@69d2cffb, org.springframework.security.web.header.HeaderWriterFilter@2541c84, org.springframework.web.filter.CorsFilter@4a3d4cd2, org.springframework.security.web.authentication.logout.LogoutFilter@236a641a, com.ringo.auth.JwtFilter@4528a871, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e670245, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4790a29a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10b21a2b, org.springframework.security.web.session.SessionManagementFilter@5ca64b79, org.springframework.security.web.access.ExceptionTranslationFilter@6cf4325b, org.springframework.security.web.access.intercept.AuthorizationFilter@34d4aea7]
2023-08-14 08:54:34.177 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-14 08:54:34.192 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 25.173 seconds (process running for 25.902)
2023-08-14 08:54:58.178 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-14 08:54:58.179 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-14 08:54:58.181 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-14 08:54:58.272 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_PARTICIPANT
2023-08-14 08:55:02.573 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-14 08:57:00.522 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: aahusar@gmail.com] is authenticated
2023-08-14 08:57:07.155 [http-nio-8080-exec-9] INFO  c.r.s.c.event.EventSearchService - findEventById: 1156
2023-08-14 08:57:07.171 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Event [id: 1156] not found
2023-08-14 08:57:40.331 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 1
2023-08-14 08:57:40.342 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Organisation [id: 1] not found
2023-08-14 08:58:05.095 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: andriikuiava0511@gmail.com, role: ROLE_ORGANISATION
2023-08-14 08:59:27.102 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: andriykuiava0511@gmail.com, role: ROLE_ORGANISATION
2023-08-14 08:59:56.222 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: andriykuiava0511@gmail.com, role: ROLE_ORGANISATION
2023-08-14 09:00:05.994 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2
2023-08-14 09:00:15.863 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2
2023-08-14 09:00:18.258 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 2
2023-08-14 09:02:16.077 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-14 09:02:16.083 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-14 09:02:16.085 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-14 09:02:22.132 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 54583 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-14 09:02:22.137 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-14 09:02:24.300 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-14 09:02:24.549 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 230 ms. Found 13 JPA repository interfaces.
2023-08-14 09:02:25.595 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-14 09:02:25.614 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-14 09:02:25.614 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-14 09:02:25.819 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-14 09:02:25.821 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3169 ms
2023-08-14 09:02:26.011 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-14 09:02:26.268 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b8fa2fa
2023-08-14 09:02:26.271 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-14 09:02:26.611 [main] INFO  liquibase.database - Set default schema name to public
2023-08-14 09:02:26.789 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-14 09:02:26.897 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-14 09:02:27.289 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-14 09:02:27.292 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-14 09:02:27.294 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-14 09:02:27.315 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-14 09:02:27.334 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-14 09:02:27.579 [main] INFO  liquibase.changelog - Table category created
2023-08-14 09:02:27.582 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-1::aleksandr (generated) ran successfully in 17ms
2023-08-14 09:02:27.600 [main] INFO  liquibase.changelog - Table currency created
2023-08-14 09:02:27.606 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-2::aleksandr (generated) ran successfully in 13ms
2023-08-14 09:02:27.630 [main] INFO  liquibase.changelog - Table event created
2023-08-14 09:02:27.634 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-3::aleksandr (generated) ran successfully in 21ms
2023-08-14 09:02:27.649 [main] INFO  liquibase.changelog - Table event_category created
2023-08-14 09:02:27.654 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-4::aleksandr (generated) ran successfully in 9ms
2023-08-14 09:02:27.673 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-14 09:02:27.677 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-5::aleksandr (generated) ran successfully in 14ms
2023-08-14 09:02:27.693 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-14 09:02:27.697 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-6::aleksandr (generated) ran successfully in 13ms
2023-08-14 09:02:27.709 [main] INFO  liquibase.changelog - Table event_save created
2023-08-14 09:02:27.712 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-7::aleksandr (generated) ran successfully in 8ms
2023-08-14 09:02:27.732 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-14 09:02:27.736 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-8::aleksandr (generated) ran successfully in 16ms
2023-08-14 09:02:27.762 [main] INFO  liquibase.changelog - Table label created
2023-08-14 09:02:27.765 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-9::aleksandr (generated) ran successfully in 21ms
2023-08-14 09:02:27.781 [main] INFO  liquibase.changelog - Table organisation created
2023-08-14 09:02:27.784 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-10::aleksandr (generated) ran successfully in 12ms
2023-08-14 09:02:27.799 [main] INFO  liquibase.changelog - Table participant created
2023-08-14 09:02:27.803 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-11::aleksandr (generated) ran successfully in 12ms
2023-08-14 09:02:27.829 [main] INFO  liquibase.changelog - Table photo created
2023-08-14 09:02:27.833 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-12::aleksandr (generated) ran successfully in 24ms
2023-08-14 09:02:27.882 [main] INFO  liquibase.changelog - Table review created
2023-08-14 09:02:27.886 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-13::aleksandr (generated) ran successfully in 43ms
2023-08-14 09:02:27.908 [main] INFO  liquibase.changelog - Table ticket created
2023-08-14 09:02:27.912 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-14::aleksandr (generated) ran successfully in 18ms
2023-08-14 09:02:27.928 [main] INFO  liquibase.changelog - Table users created
2023-08-14 09:02:27.932 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-15::aleksandr (generated) ran successfully in 15ms
2023-08-14 09:02:27.944 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-14 09:02:27.946 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-16::aleksandr (generated) ran successfully in 8ms
2023-08-14 09:02:27.961 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-14 09:02:27.963 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-17::aleksandr (generated) ran successfully in 11ms
2023-08-14 09:02:27.976 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-14 09:02:27.978 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-18::aleksandr (generated) ran successfully in 9ms
2023-08-14 09:02:27.994 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-14 09:02:27.997 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-19::aleksandr (generated) ran successfully in 11ms
2023-08-14 09:02:28.013 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-14 09:02:28.016 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-20::aleksandr (generated) ran successfully in 10ms
2023-08-14 09:02:28.029 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-14 09:02:28.033 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-21::aleksandr (generated) ran successfully in 9ms
2023-08-14 09:02:28.049 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-14 09:02:28.053 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-22::aleksandr (generated) ran successfully in 10ms
2023-08-14 09:02:28.069 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-14 09:02:28.074 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-23::aleksandr (generated) ran successfully in 13ms
2023-08-14 09:02:28.088 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-14 09:02:28.093 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-24::aleksandr (generated) ran successfully in 11ms
2023-08-14 09:02:28.110 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-14 09:02:28.113 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-25::aleksandr (generated) ran successfully in 15ms
2023-08-14 09:02:28.126 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-14 09:02:28.129 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-26::aleksandr (generated) ran successfully in 8ms
2023-08-14 09:02:28.142 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-14 09:02:28.146 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-27::aleksandr (generated) ran successfully in 11ms
2023-08-14 09:02:28.160 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-14 09:02:28.163 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-28::aleksandr (generated) ran successfully in 10ms
2023-08-14 09:02:28.179 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-14 09:02:28.182 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-29::aleksandr (generated) ran successfully in 10ms
2023-08-14 09:02:28.198 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-14 09:02:28.202 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-30::aleksandr (generated) ran successfully in 8ms
2023-08-14 09:02:28.212 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-14 09:02:28.215 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-31::aleksandr (generated) ran successfully in 8ms
2023-08-14 09:02:28.229 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-14 09:02:28.231 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-32::aleksandr (generated) ran successfully in 7ms
2023-08-14 09:02:28.242 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-14 09:02:28.245 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-33::aleksandr (generated) ran successfully in 7ms
2023-08-14 09:02:28.258 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-14 09:02:28.260 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-34::aleksandr (generated) ran successfully in 9ms
2023-08-14 09:02:28.272 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-14 09:02:28.275 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-35::aleksandr (generated) ran successfully in 10ms
2023-08-14 09:02:28.288 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-14 09:02:28.291 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-36::aleksandr (generated) ran successfully in 10ms
2023-08-14 09:02:28.302 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-14 09:02:28.309 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-37::aleksandr (generated) ran successfully in 13ms
2023-08-14 09:02:28.324 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-14 09:02:28.328 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-38::aleksandr (generated) ran successfully in 12ms
2023-08-14 09:02:28.345 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-14 09:02:28.349 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-39::aleksandr (generated) ran successfully in 9ms
2023-08-14 09:02:28.367 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-14 09:02:28.373 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-40::aleksandr (generated) ran successfully in 13ms
2023-08-14 09:02:28.389 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-14 09:02:28.394 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-41::aleksandr (generated) ran successfully in 12ms
2023-08-14 09:02:28.412 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-14 09:02:28.416 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-42::aleksandr (generated) ran successfully in 13ms
2023-08-14 09:02:28.427 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-14 09:02:28.430 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691946566350-43::aleksandr (generated) ran successfully in 8ms
2023-08-14 09:02:28.451 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-14 09:02:28.454 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-14 09:02:28.472 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-14 09:02:28.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 15ms
2023-08-14 09:02:28.505 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-14 09:02:28.509 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 26ms
2023-08-14 09:02:28.528 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-14 09:02:28.692 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-14 09:02:28.754 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-14 09:02:29.245 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-14 09:02:30.810 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-14 09:02:30.823 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-14 09:02:35.151 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-14 09:02:35.690 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-14 09:02:36.577 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-14 09:02:40.013 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3718f26a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24d84d1e, org.springframework.security.web.context.SecurityContextHolderFilter@bca34d, org.springframework.security.web.header.HeaderWriterFilter@62418263, org.springframework.web.filter.CorsFilter@59df8444, org.springframework.security.web.authentication.logout.LogoutFilter@1966ec08, com.ringo.auth.JwtFilter@38682845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@152e530d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c51515f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30428572, org.springframework.security.web.session.SessionManagementFilter@4a57cec1, org.springframework.security.web.access.ExceptionTranslationFilter@77cfbbba, org.springframework.security.web.access.intercept.AuthorizationFilter@334412ed]
2023-08-14 09:02:40.467 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-14 09:02:40.480 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.054 seconds (process running for 19.764)
2023-08-14 09:02:43.087 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-14 09:02:43.088 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-14 09:02:43.089 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-14 09:02:43.204 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: andriykuiava0511@gmail.com, role: ROLE_ORGANISATION
2023-08-14 09:03:19.110 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: andriykuiava0511@gmail.com] is authenticated
2023-08-14 09:03:41.257 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - activateParticipant: andriykuiava0511@gmail.com
2023-08-14 09:03:47.941 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.ringo.exception.NotFoundException: User [email: aahusar@gmail.com] not found
	at com.ringo.service.security.UserService.lambda$loadUserByUsername$0(UserService.java:20)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ringo.service.security.UserService.loadUserByUsername(UserService.java:19)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-14 09:03:50.603 [http-nio-8080-exec-7] INFO  c.r.s.company.event.EventService - saveEvent: AbstractEntityDto(id=null)
2023-08-14 09:04:27.802 [http-nio-8080-exec-9] INFO  c.r.s.company.event.EventService - addPhotoToEvent: 1, Screenshot 2023-08-07 at 12.33.06.png
2023-08-14 09:04:27.803 [http-nio-8080-exec-9] INFO  c.r.s.company.event.EventService - photo type: image/png
2023-08-14 09:04:28.370 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: png
2023-08-14 09:04:28.390 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-14 09:04:29.810 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: png
2023-08-14 09:04:29.813 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-14 09:04:47.253 [http-nio-8080-exec-10] INFO  c.r.s.company.event.EventService - setActive: 1
2023-08-14 09:04:54.363 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_PARTICIPANT
2023-08-14 09:05:17.166 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: aahusar@gmail.com] is authenticated
2023-08-14 09:05:39.628 [http-nio-8080-exec-4] INFO  c.r.s.c.event.EventSearchService - findEventById: 1
2023-08-14 09:05:45.695 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-14 09:05:45.699 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-14 09:05:45.702 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
