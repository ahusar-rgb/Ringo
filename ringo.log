2023-09-02 14:20:41.902 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 11485 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-02 14:20:41.916 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-02 14:20:43.461 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-02 14:20:43.657 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 14 JPA repository interfaces.
2023-09-02 14:20:44.605 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-02 14:20:44.621 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-02 14:20:44.622 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-02 14:20:44.823 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-02 14:20:44.824 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2534 ms
2023-09-02 14:20:45.007 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-02 14:20:45.361 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@376b5cb2
2023-09-02 14:20:45.363 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-02 14:20:45.802 [main] INFO  liquibase.database - Set default schema name to public
2023-09-02 14:20:45.970 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-02 14:20:46.077 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-02 14:20:46.489 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-changelog.xml
2023-09-02 14:20:46.509 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/01-category.sql
2023-09-02 14:20:46.513 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/02-currency.sql
2023-09-02 14:20:46.515 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/09-get_distance.sql
2023-09-02 14:20:46.700 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-02 14:20:46.884 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-02 14:20:47.013 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-02 14:20:47.090 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-02 14:20:47.556 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-02 14:20:49.025 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-02 14:20:49.038 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-02 14:20:54.589 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-02 14:20:55.853 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-02 14:20:56.349 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-02 14:20:58.938 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b3a6383, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@689c5fdc, org.springframework.security.web.context.SecurityContextHolderFilter@1e71b70d, org.springframework.security.web.header.HeaderWriterFilter@5a050bf9, org.springframework.web.filter.CorsFilter@65589d76, org.springframework.security.web.authentication.logout.LogoutFilter@7aa91a69, com.ringo.auth.JwtFilter@70a9f4b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c36f10b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3456e3b3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bc971ef, org.springframework.security.web.session.SessionManagementFilter@4643d88c, org.springframework.security.web.access.ExceptionTranslationFilter@7bcbf479, org.springframework.security.web.access.intercept.AuthorizationFilter@28816098]
2023-09-02 14:20:59.442 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-09-02 14:20:59.457 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.215 seconds (process running for 19.329)
2023-09-02 14:20:59.561 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:8080/
	External: 	http://127.0.0.1:8080/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-02 14:21:09.879 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-02 14:21:09.880 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-09-02 14:21:09.882 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-09-02 14:21:09.960 [http-nio-8080-exec-2] INFO  c.ringo.controller.StripeController - Webhook from stripe received: {
  "id": "evt_3Nlrt2CkVoLPfCXz1tQfvbU2",
  "object": "event",
  "api_version": "2022-11-15",
  "created": 1693653669,
  "data": {
    "object": {
      "id": "pi_3Nlrt2CkVoLPfCXz1lFkSVqC",
      "object": "payment_intent",
      "amount": 2000,
      "amount_capturable": 0,
      "amount_details": {
        "tip": {
        }
      },
      "amount_received": 2000,
      "application": null,
      "application_fee_amount": null,
      "automatic_payment_methods": null,
      "canceled_at": null,
      "cancellation_reason": null,
      "capture_method": "automatic",
      "client_secret": "pi_3Nlrt2CkVoLPfCXz1lFkSVqC_secret_g4RJBxOB8beYDjVdvkTPH5Ey5",
      "confirmation_method": "automatic",
      "created": 1693653668,
      "currency": "usd",
      "customer": null,
      "description": "(created by Stripe CLI)",
      "invoice": null,
      "last_payment_error": null,
      "latest_charge": "ch_3Nlrt2CkVoLPfCXz1hPehJiA",
      "livemode": false,
      "metadata": {
      },
      "next_action": null,
      "on_behalf_of": null,
      "payment_method": "pm_1Nlrt2CkVoLPfCXzDEPgJRa7",
      "payment_method_options": {
        "card": {
          "installments": null,
          "mandate_options": null,
          "network": null,
          "request_three_d_secure": "automatic"
        }
      },
      "payment_method_types": [
        "card"
      ],
      "processing": null,
      "receipt_email": null,
      "review": null,
      "setup_future_usage": null,
      "shipping": {
        "address": {
          "city": "San Francisco",
          "country": "US",
          "line1": "510 Townsend St",
          "line2": null,
          "postal_code": "94103",
          "state": "CA"
        },
        "carrier": null,
        "name": "Jenny Rosen",
        "phone": null,
        "tracking_number": null
      },
      "source": null,
      "statement_descriptor": null,
      "statement_descriptor_suffix": null,
      "status": "succeeded",
      "transfer_data": null,
      "transfer_group": null
    }
  },
  "livemode": false,
  "pending_webhooks": 2,
  "request": {
    "id": "req_lbW2ynVU5cVqv6",
    "idempotency_key": "3d377389-a890-49a1-b4c4-36edcee6d76c"
  },
  "type": "payment_intent.succeeded"
}
2023-09-02 14:21:09.960 [http-nio-8080-exec-1] INFO  c.ringo.controller.StripeController - Webhook from stripe received: {
  "id": "evt_3Nlrt2CkVoLPfCXz1d3XkHVz",
  "object": "event",
  "api_version": "2022-11-15",
  "created": 1693653669,
  "data": {
    "object": {
      "id": "ch_3Nlrt2CkVoLPfCXz1hPehJiA",
      "object": "charge",
      "amount": 2000,
      "amount_captured": 2000,
      "amount_refunded": 0,
      "application": null,
      "application_fee": null,
      "application_fee_amount": null,
      "balance_transaction": "txn_3Nlrt2CkVoLPfCXz1WSfQBJq",
      "billing_details": {
        "address": {
          "city": null,
          "country": null,
          "line1": null,
          "line2": null,
          "postal_code": null,
          "state": null
        },
        "email": null,
        "name": null,
        "phone": null
      },
      "calculated_statement_descriptor": "Stripe",
      "captured": true,
      "created": 1693653668,
      "currency": "usd",
      "customer": null,
      "description": "(created by Stripe CLI)",
      "destination": null,
      "dispute": null,
      "disputed": false,
      "failure_balance_transaction": null,
      "failure_code": null,
      "failure_message": null,
      "fraud_details": {
      },
      "invoice": null,
      "livemode": false,
      "metadata": {
      },
      "on_behalf_of": null,
      "order": null,
      "outcome": {
        "network_status": "approved_by_network",
        "reason": null,
        "risk_level": "normal",
        "risk_score": 10,
        "seller_message": "Payment complete.",
        "type": "authorized"
      },
      "paid": true,
      "payment_intent": "pi_3Nlrt2CkVoLPfCXz1lFkSVqC",
      "payment_method": "pm_1Nlrt2CkVoLPfCXzDEPgJRa7",
      "payment_method_details": {
        "card": {
          "brand": "visa",
          "checks": {
            "address_line1_check": null,
            "address_postal_code_check": null,
            "cvc_check": null
          },
          "country": "US",
          "exp_month": 9,
          "exp_year": 2024,
          "fingerprint": "W31KkhmRyzpFEbLS",
          "funding": "credit",
          "installments": null,
          "last4": "4242",
          "mandate": null,
          "network": "visa",
          "network_token": {
            "used": false
          },
          "three_d_secure": null,
          "wallet": null
        },
        "type": "card"
      },
      "receipt_email": null,
      "receipt_number": null,
      "receipt_url": "https://pay.stripe.com/receipts/payment/CAcaFwoVYWNjdF8xTjZiS1NDa1ZvTFBmQ1h6KKW1zKcGMgY30LQQf1c6LBYrsgGgyxUxjhCJlnXTCIo6WOsPFSxHLOUrUgcRffUZTVWCmk39hIlIexqF",
      "refunded": false,
      "review": null,
      "shipping": {
        "address": {
          "city": "San Francisco",
          "country": "US",
          "line1": "510 Townsend St",
          "line2": null,
          "postal_code": "94103",
          "state": "CA"
        },
        "carrier": null,
        "name": "Jenny Rosen",
        "phone": null,
        "tracking_number": null
      },
      "source": null,
      "source_transfer": null,
      "statement_descriptor": null,
      "statement_descriptor_suffix": null,
      "status": "succeeded",
      "transfer_data": null,
      "transfer_group": null
    }
  },
  "livemode": false,
  "pending_webhooks": 2,
  "request": {
    "id": "req_lbW2ynVU5cVqv6",
    "idempotency_key": "3d377389-a890-49a1-b4c4-36edcee6d76c"
  },
  "type": "charge.succeeded"
}
2023-09-02 14:21:09.960 [http-nio-8080-exec-3] INFO  c.ringo.controller.StripeController - Webhook from stripe received: {
  "id": "evt_3Nlrt2CkVoLPfCXz19rOsf5a",
  "object": "event",
  "api_version": "2022-11-15",
  "created": 1693653668,
  "data": {
    "object": {
      "id": "pi_3Nlrt2CkVoLPfCXz1lFkSVqC",
      "object": "payment_intent",
      "amount": 2000,
      "amount_capturable": 0,
      "amount_details": {
        "tip": {
        }
      },
      "amount_received": 0,
      "application": null,
      "application_fee_amount": null,
      "automatic_payment_methods": null,
      "canceled_at": null,
      "cancellation_reason": null,
      "capture_method": "automatic",
      "client_secret": "pi_3Nlrt2CkVoLPfCXz1lFkSVqC_secret_g4RJBxOB8beYDjVdvkTPH5Ey5",
      "confirmation_method": "automatic",
      "created": 1693653668,
      "currency": "usd",
      "customer": null,
      "description": "(created by Stripe CLI)",
      "invoice": null,
      "last_payment_error": null,
      "latest_charge": null,
      "livemode": false,
      "metadata": {
      },
      "next_action": null,
      "on_behalf_of": null,
      "payment_method": null,
      "payment_method_options": {
        "card": {
          "installments": null,
          "mandate_options": null,
          "network": null,
          "request_three_d_secure": "automatic"
        }
      },
      "payment_method_types": [
        "card"
      ],
      "processing": null,
      "receipt_email": null,
      "review": null,
      "setup_future_usage": null,
      "shipping": {
        "address": {
          "city": "San Francisco",
          "country": "US",
          "line1": "510 Townsend St",
          "line2": null,
          "postal_code": "94103",
          "state": "CA"
        },
        "carrier": null,
        "name": "Jenny Rosen",
        "phone": null,
        "tracking_number": null
      },
      "source": null,
      "statement_descriptor": null,
      "statement_descriptor_suffix": null,
      "status": "requires_payment_method",
      "transfer_data": null,
      "transfer_group": null
    }
  },
  "livemode": false,
  "pending_webhooks": 2,
  "request": {
    "id": "req_lbW2ynVU5cVqv6",
    "idempotency_key": "3d377389-a890-49a1-b4c4-36edcee6d76c"
  },
  "type": "payment_intent.created"
}
2023-09-02 14:21:09.995 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "String.split(String, int)" because "sigHeader" is null
2023-09-02 14:21:09.995 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "String.split(String, int)" because "sigHeader" is null
2023-09-02 14:21:09.995 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "String.split(String, int)" because "sigHeader" is null
2023-09-02 14:21:55.537 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-02 14:21:55.543 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-02 14:21:55.548 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-03 13:06:28.660 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 19040 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-03 13:06:28.664 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-03 13:06:30.348 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-03 13:06:30.566 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 204 ms. Found 14 JPA repository interfaces.
2023-09-03 13:06:31.610 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 443 (http)
2023-09-03 13:06:31.627 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-03 13:06:31.628 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-03 13:06:31.827 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-03 13:06:31.827 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2753 ms
2023-09-03 13:06:32.019 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-03 13:06:32.256 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46ea78f0
2023-09-03 13:06:32.259 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-03 13:06:32.629 [main] INFO  liquibase.database - Set default schema name to public
2023-09-03 13:06:32.781 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-03 13:06:32.912 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-03 13:06:33.317 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-changelog.xml
2023-09-03 13:06:33.341 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/01-category.sql
2023-09-03 13:06:33.345 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/02-currency.sql
2023-09-03 13:06:33.365 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/09-get_distance.sql
2023-09-03 13:06:33.467 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-03 13:06:33.623 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-03 13:06:33.753 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-03 13:06:33.830 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-03 13:06:34.293 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-03 13:06:35.737 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-03 13:06:35.750 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-03 13:06:41.177 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-03 13:06:42.358 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-03 13:06:42.919 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-03 13:06:44.933 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ed921c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21080d55, org.springframework.security.web.context.SecurityContextHolderFilter@7c0fd22d, org.springframework.security.web.header.HeaderWriterFilter@9b7701f, org.springframework.web.filter.CorsFilter@6be8e6ee, org.springframework.security.web.authentication.logout.LogoutFilter@7ddb114d, com.ringo.auth.JwtFilter@2ea3f905, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b52d046, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67205ec8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b6eaa73, org.springframework.security.web.session.SessionManagementFilter@7b16d337, org.springframework.security.web.access.ExceptionTranslationFilter@10117005, org.springframework.security.web.access.intercept.AuthorizationFilter@7ce069de]
2023-09-03 13:06:45.388 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 443 (http) with context path ''
2023-09-03 13:06:45.418 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.384 seconds (process running for 18.085)
2023-09-03 13:06:45.498 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:443/
	External: 	http://127.0.0.1:443/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-03 13:06:55.050 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-03 13:06:55.053 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-03 13:06:55.056 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-03 13:41:28.296 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 19780 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-03 13:41:28.301 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-03 13:41:29.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-03 13:41:30.101 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 14 JPA repository interfaces.
2023-09-03 13:41:31.067 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 443 (http)
2023-09-03 13:41:31.087 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-03 13:41:31.088 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-03 13:41:31.267 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-03 13:41:31.268 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2547 ms
2023-09-03 13:41:31.455 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-03 13:41:31.728 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32dcfeea
2023-09-03 13:41:31.732 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-03 13:41:31.914 [main] INFO  liquibase.database - Set default schema name to public
2023-09-03 13:41:32.103 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-03 13:41:32.261 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-03 13:41:32.672 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/01-category.sql
2023-09-03 13:41:32.675 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/02-currency.sql
2023-09-03 13:41:32.676 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/09-get_distance.sql
2023-09-03 13:41:32.705 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-09-03 13:41:32.718 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-03 13:41:32.935 [main] INFO  liquibase.changelog - Table category created
2023-09-03 13:41:32.938 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-1::aleksandr (generated) ran successfully in 39ms
2023-09-03 13:41:32.959 [main] INFO  liquibase.changelog - Table category_event created
2023-09-03 13:41:32.967 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-2::aleksandr (generated) ran successfully in 19ms
2023-09-03 13:41:32.988 [main] INFO  liquibase.changelog - Table currency created
2023-09-03 13:41:32.993 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-3::aleksandr (generated) ran successfully in 18ms
2023-09-03 13:41:33.020 [main] INFO  liquibase.changelog - Table event created
2023-09-03 13:41:33.025 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-4::aleksandr (generated) ran successfully in 23ms
2023-09-03 13:41:33.042 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-09-03 13:41:33.044 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-5::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.059 [main] INFO  liquibase.changelog - Table event_photo created
2023-09-03 13:41:33.062 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-6::aleksandr (generated) ran successfully in 11ms
2023-09-03 13:41:33.075 [main] INFO  liquibase.changelog - Table event_save created
2023-09-03 13:41:33.078 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-7::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.091 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-09-03 13:41:33.093 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-8::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.108 [main] INFO  liquibase.changelog - Table joining_intent created
2023-09-03 13:41:33.111 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-9::aleksandr (generated) ran successfully in 13ms
2023-09-03 13:41:33.126 [main] INFO  liquibase.changelog - Table label created
2023-09-03 13:41:33.128 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-10::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.143 [main] INFO  liquibase.changelog - Table organisation created
2023-09-03 13:41:33.146 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-11::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.159 [main] INFO  liquibase.changelog - Table participant created
2023-09-03 13:41:33.162 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-12::aleksandr (generated) ran successfully in 11ms
2023-09-03 13:41:33.177 [main] INFO  liquibase.changelog - Table photo created
2023-09-03 13:41:33.179 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-13::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.191 [main] INFO  liquibase.changelog - Table review created
2023-09-03 13:41:33.194 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-14::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.209 [main] INFO  liquibase.changelog - Table ticket created
2023-09-03 13:41:33.211 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-15::aleksandr (generated) ran successfully in 11ms
2023-09-03 13:41:33.226 [main] INFO  liquibase.changelog - Table users created
2023-09-03 13:41:33.229 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-16::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.244 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-09-03 13:41:33.246 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-17::aleksandr (generated) ran successfully in 11ms
2023-09-03 13:41:33.265 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-09-03 13:41:33.268 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-18::aleksandr (generated) ran successfully in 13ms
2023-09-03 13:41:33.286 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-09-03 13:41:33.290 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-19::aleksandr (generated) ran successfully in 14ms
2023-09-03 13:41:33.308 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-09-03 13:41:33.312 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-20::aleksandr (generated) ran successfully in 13ms
2023-09-03 13:41:33.331 [main] INFO  liquibase.changelog - Unique constraint added to joining_intent(payment_intent_id)
2023-09-03 13:41:33.335 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-21::aleksandr (generated) ran successfully in 15ms
2023-09-03 13:41:33.352 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-09-03 13:41:33.356 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-22::aleksandr (generated) ran successfully in 14ms
2023-09-03 13:41:33.374 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-09-03 13:41:33.376 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-23::aleksandr (generated) ran successfully in 11ms
2023-09-03 13:41:33.387 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-09-03 13:41:33.391 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-24::aleksandr (generated) ran successfully in 8ms
2023-09-03 13:41:33.402 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-09-03 13:41:33.405 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-25::aleksandr (generated) ran successfully in 9ms
2023-09-03 13:41:33.419 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-09-03 13:41:33.422 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-26::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.434 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-09-03 13:41:33.437 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-27::aleksandr (generated) ran successfully in 9ms
2023-09-03 13:41:33.449 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-09-03 13:41:33.452 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-28::aleksandr (generated) ran successfully in 9ms
2023-09-03 13:41:33.467 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-09-03 13:41:33.472 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-29::aleksandr (generated) ran successfully in 13ms
2023-09-03 13:41:33.489 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-09-03 13:41:33.493 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-30::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.507 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-09-03 13:41:33.511 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-31::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.527 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-09-03 13:41:33.531 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-32::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.547 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-09-03 13:41:33.552 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-33::aleksandr (generated) ran successfully in 12ms
2023-09-03 13:41:33.567 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-09-03 13:41:33.571 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-34::aleksandr (generated) ran successfully in 10ms
2023-09-03 13:41:33.584 [main] INFO  liquibase.changelog - Foreign key constraint added to joining_intent (event_id)
2023-09-03 13:41:33.587 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-35::aleksandr (generated) ran successfully in 9ms
2023-09-03 13:41:33.596 [main] INFO  liquibase.changelog - Foreign key constraint added to joining_intent (participant_id)
2023-09-03 13:41:33.599 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-36::aleksandr (generated) ran successfully in 8ms
2023-09-03 13:41:33.608 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-09-03 13:41:33.610 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-37::aleksandr (generated) ran successfully in 7ms
2023-09-03 13:41:33.619 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-09-03 13:41:33.622 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-38::aleksandr (generated) ran successfully in 6ms
2023-09-03 13:41:33.632 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-09-03 13:41:33.634 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-39::aleksandr (generated) ran successfully in 7ms
2023-09-03 13:41:33.644 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-09-03 13:41:33.646 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-40::aleksandr (generated) ran successfully in 7ms
2023-09-03 13:41:33.658 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-09-03 13:41:33.661 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-41::aleksandr (generated) ran successfully in 8ms
2023-09-03 13:41:33.671 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-09-03 13:41:33.673 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-42::aleksandr (generated) ran successfully in 7ms
2023-09-03 13:41:33.681 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-09-03 13:41:33.684 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-43::aleksandr (generated) ran successfully in 7ms
2023-09-03 13:41:33.692 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-09-03 13:41:33.694 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-44::aleksandr (generated) ran successfully in 6ms
2023-09-03 13:41:33.702 [main] INFO  liquibase.changelog - Foreign key constraint added to category_event (category_id)
2023-09-03 13:41:33.705 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-45::aleksandr (generated) ran successfully in 6ms
2023-09-03 13:41:33.713 [main] INFO  liquibase.changelog - Foreign key constraint added to category_event (event_id)
2023-09-03 13:41:33.716 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-46::aleksandr (generated) ran successfully in 7ms
2023-09-03 13:41:33.726 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-09-03 13:41:33.728 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-47::aleksandr (generated) ran successfully in 8ms
2023-09-03 13:41:33.737 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-09-03 13:41:33.739 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-48::aleksandr (generated) ran successfully in 6ms
2023-09-03 13:41:33.765 [main] INFO  liquibase.changelog - Custom SQL executed
2023-09-03 13:41:33.768 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/01-category.sql::raw::includeAll ran successfully in 24ms
2023-09-03 13:41:33.785 [main] INFO  liquibase.changelog - Custom SQL executed
2023-09-03 13:41:33.789 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/02-currency.sql::raw::includeAll ran successfully in 13ms
2023-09-03 13:41:33.864 [main] INFO  liquibase.changelog - Custom SQL executed
2023-09-03 13:41:33.868 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/09-get_distance.sql::raw::includeAll ran successfully in 69ms
2023-09-03 13:41:33.880 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-03 13:41:34.030 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-03 13:41:34.125 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-03 13:41:34.611 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-03 13:41:36.156 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-03 13:41:36.171 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-03 13:41:41.712 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-03 13:41:43.022 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-03 13:41:43.910 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-03 13:41:47.224 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40b63796, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15fb5531, org.springframework.security.web.context.SecurityContextHolderFilter@35069061, org.springframework.security.web.header.HeaderWriterFilter@6d7453ad, org.springframework.web.filter.CorsFilter@32b273c1, org.springframework.security.web.authentication.logout.LogoutFilter@69e0d31d, com.ringo.auth.JwtFilter@204d101, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fc1a561, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@501dd0b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62e099d7, org.springframework.security.web.session.SessionManagementFilter@401835ac, org.springframework.security.web.access.ExceptionTranslationFilter@627e21c9, org.springframework.security.web.access.intercept.AuthorizationFilter@264e6ac3]
2023-09-03 13:41:47.672 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 443 (http) with context path ''
2023-09-03 13:41:47.687 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.048 seconds (process running for 20.937)
2023-09-03 13:41:47.864 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:443/
	External: 	http://127.0.0.1:443/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-03 13:42:13.279 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-03 13:42:13.285 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-03 13:42:13.289 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-26 17:17:49.566 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 3675 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 17:17:49.573 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 17:17:52.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 17:17:53.413 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 514 ms. Found 14 JPA repository interfaces.
2023-09-26 17:17:55.091 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 17:17:55.117 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-26 17:17:55.118 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-26 17:17:55.458 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-26 17:17:55.459 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5294 ms
2023-09-26 17:17:55.660 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 17:17:56.096 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@184751f3
2023-09-26 17:17:56.101 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 17:17:56.424 [main] INFO  liquibase.database - Set default schema name to public
2023-09-26 17:17:56.717 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-26 17:17:56.971 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-26 17:17:57.637 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/01-category.sql
2023-09-26 17:17:57.642 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/02-currency.sql
2023-09-26 17:17:57.647 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/09-get_distance.sql
2023-09-26 17:17:57.792 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-26 17:17:58.208 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-26 17:17:58.215 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfig' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/config/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/security/UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2023-09-26 17:17:58.272 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2023-09-26 17:17:58.278 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-09-26 17:17:58.279 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-09-26 17:17:58.282 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-09-26 17:17:58.282 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-26 17:17:58.287 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-26 17:17:58.312 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-09-26 17:17:58.346 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)
	at com.ringo.RingoApplication.main(RingoApplication.java:27)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)
	... 6 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/config/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/security/UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1345)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:235)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5144)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)
	... 11 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/security/UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1345)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 61 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 75 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/change-logs/000-changelog.xml::1693737632048-1::aleksandr (generated):
     Reason: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 101 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/change-logs/000-changelog.xml::1693737632048-1::aleksandr (generated):
     Reason: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:291)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:290)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2447)
	at liquibase.Liquibase.update(Liquibase.java:236)
	at liquibase.Liquibase.update(Liquibase.java:221)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1798)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1748)
	... 110 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/change-logs/000-changelog.xml::1693737632048-1::aleksandr (generated):
     Reason: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:714)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 128 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:447)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:679)
	... 148 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "category" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:443)
	... 153 common frames omitted
2023-09-26 17:22:29.546 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 3754 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 17:22:29.555 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 17:22:31.252 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 17:22:31.455 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 191 ms. Found 14 JPA repository interfaces.
2023-09-26 17:22:32.470 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 17:22:32.491 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-26 17:22:32.492 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-26 17:22:32.691 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-26 17:22:32.692 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2683 ms
2023-09-26 17:22:32.866 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 17:22:33.142 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1736c1e4
2023-09-26 17:22:33.145 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 17:22:33.331 [main] INFO  liquibase.database - Set default schema name to public
2023-09-26 17:22:33.534 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-26 17:22:33.699 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-26 17:22:34.270 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/01-category.sql
2023-09-26 17:22:34.349 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/02-currency.sql
2023-09-26 17:22:34.354 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/09-get_distance.sql
2023-09-26 17:22:34.391 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-09-26 17:22:34.414 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-26 17:22:34.932 [main] INFO  liquibase.changelog - Table category created
2023-09-26 17:22:34.937 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-1::aleksandr (generated) ran successfully in 20ms
2023-09-26 17:22:34.961 [main] INFO  liquibase.changelog - Table category_event created
2023-09-26 17:22:34.966 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-2::aleksandr (generated) ran successfully in 16ms
2023-09-26 17:22:34.989 [main] INFO  liquibase.changelog - Table currency created
2023-09-26 17:22:34.992 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-3::aleksandr (generated) ran successfully in 16ms
2023-09-26 17:22:35.024 [main] INFO  liquibase.changelog - Table event created
2023-09-26 17:22:35.029 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-4::aleksandr (generated) ran successfully in 28ms
2023-09-26 17:22:35.053 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-09-26 17:22:35.057 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-5::aleksandr (generated) ran successfully in 17ms
2023-09-26 17:22:35.076 [main] INFO  liquibase.changelog - Table event_photo created
2023-09-26 17:22:35.082 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-6::aleksandr (generated) ran successfully in 17ms
2023-09-26 17:22:35.102 [main] INFO  liquibase.changelog - Table event_save created
2023-09-26 17:22:35.107 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-7::aleksandr (generated) ran successfully in 16ms
2023-09-26 17:22:35.129 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-09-26 17:22:35.133 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-8::aleksandr (generated) ran successfully in 16ms
2023-09-26 17:22:35.161 [main] INFO  liquibase.changelog - Table joining_intent created
2023-09-26 17:22:35.165 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-9::aleksandr (generated) ran successfully in 22ms
2023-09-26 17:22:35.197 [main] INFO  liquibase.changelog - Table label created
2023-09-26 17:22:35.200 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-10::aleksandr (generated) ran successfully in 24ms
2023-09-26 17:22:35.226 [main] INFO  liquibase.changelog - Table organisation created
2023-09-26 17:22:35.231 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-11::aleksandr (generated) ran successfully in 22ms
2023-09-26 17:22:35.254 [main] INFO  liquibase.changelog - Table participant created
2023-09-26 17:22:35.259 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-12::aleksandr (generated) ran successfully in 17ms
2023-09-26 17:22:35.287 [main] INFO  liquibase.changelog - Table photo created
2023-09-26 17:22:35.291 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-13::aleksandr (generated) ran successfully in 22ms
2023-09-26 17:22:35.315 [main] INFO  liquibase.changelog - Table review created
2023-09-26 17:22:35.319 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-14::aleksandr (generated) ran successfully in 18ms
2023-09-26 17:22:35.343 [main] INFO  liquibase.changelog - Table ticket created
2023-09-26 17:22:35.348 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-15::aleksandr (generated) ran successfully in 20ms
2023-09-26 17:22:35.375 [main] INFO  liquibase.changelog - Table users created
2023-09-26 17:22:35.380 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-16::aleksandr (generated) ran successfully in 23ms
2023-09-26 17:22:35.403 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-09-26 17:22:35.407 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-17::aleksandr (generated) ran successfully in 18ms
2023-09-26 17:22:35.426 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-09-26 17:22:35.434 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-18::aleksandr (generated) ran successfully in 18ms
2023-09-26 17:22:35.453 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-09-26 17:22:35.457 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-19::aleksandr (generated) ran successfully in 15ms
2023-09-26 17:22:35.477 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-09-26 17:22:35.483 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-20::aleksandr (generated) ran successfully in 18ms
2023-09-26 17:22:35.543 [main] INFO  liquibase.changelog - Unique constraint added to joining_intent(payment_intent_id)
2023-09-26 17:22:35.548 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-21::aleksandr (generated) ran successfully in 19ms
2023-09-26 17:22:35.574 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-09-26 17:22:35.579 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-22::aleksandr (generated) ran successfully in 20ms
2023-09-26 17:22:35.606 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-09-26 17:22:35.610 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-23::aleksandr (generated) ran successfully in 19ms
2023-09-26 17:22:35.626 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-09-26 17:22:35.631 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-24::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.648 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-09-26 17:22:35.653 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-25::aleksandr (generated) ran successfully in 13ms
2023-09-26 17:22:35.671 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-09-26 17:22:35.676 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-26::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.690 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-09-26 17:22:35.694 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-27::aleksandr (generated) ran successfully in 9ms
2023-09-26 17:22:35.711 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-09-26 17:22:35.715 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-28::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.731 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-09-26 17:22:35.735 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-29::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.751 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-09-26 17:22:35.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-30::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.771 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-09-26 17:22:35.775 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-31::aleksandr (generated) ran successfully in 11ms
2023-09-26 17:22:35.791 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-09-26 17:22:35.796 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-32::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.812 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-09-26 17:22:35.816 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-33::aleksandr (generated) ran successfully in 11ms
2023-09-26 17:22:35.834 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-09-26 17:22:35.837 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-34::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.850 [main] INFO  liquibase.changelog - Foreign key constraint added to joining_intent (event_id)
2023-09-26 17:22:35.854 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-35::aleksandr (generated) ran successfully in 10ms
2023-09-26 17:22:35.866 [main] INFO  liquibase.changelog - Foreign key constraint added to joining_intent (participant_id)
2023-09-26 17:22:35.870 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-36::aleksandr (generated) ran successfully in 10ms
2023-09-26 17:22:35.883 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-09-26 17:22:35.886 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-37::aleksandr (generated) ran successfully in 10ms
2023-09-26 17:22:35.900 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-09-26 17:22:35.904 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-38::aleksandr (generated) ran successfully in 11ms
2023-09-26 17:22:35.917 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-09-26 17:22:35.922 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-39::aleksandr (generated) ran successfully in 12ms
2023-09-26 17:22:35.938 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-09-26 17:22:35.943 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-40::aleksandr (generated) ran successfully in 14ms
2023-09-26 17:22:35.955 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-09-26 17:22:35.958 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-41::aleksandr (generated) ran successfully in 8ms
2023-09-26 17:22:35.971 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-09-26 17:22:35.974 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-42::aleksandr (generated) ran successfully in 8ms
2023-09-26 17:22:35.989 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-09-26 17:22:35.992 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-43::aleksandr (generated) ran successfully in 10ms
2023-09-26 17:22:36.006 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-09-26 17:22:36.009 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-44::aleksandr (generated) ran successfully in 10ms
2023-09-26 17:22:36.024 [main] INFO  liquibase.changelog - Foreign key constraint added to category_event (category_id)
2023-09-26 17:22:36.028 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-45::aleksandr (generated) ran successfully in 11ms
2023-09-26 17:22:36.043 [main] INFO  liquibase.changelog - Foreign key constraint added to category_event (event_id)
2023-09-26 17:22:36.047 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-46::aleksandr (generated) ran successfully in 11ms
2023-09-26 17:22:36.060 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-09-26 17:22:36.064 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-47::aleksandr (generated) ran successfully in 10ms
2023-09-26 17:22:36.080 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-09-26 17:22:36.083 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1693737632048-48::aleksandr (generated) ran successfully in 11ms
2023-09-26 17:22:36.113 [main] INFO  liquibase.changelog - Custom SQL executed
2023-09-26 17:22:36.119 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/01-category.sql::raw::includeAll ran successfully in 28ms
2023-09-26 17:22:36.140 [main] INFO  liquibase.changelog - Custom SQL executed
2023-09-26 17:22:36.144 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/02-currency.sql::raw::includeAll ran successfully in 15ms
2023-09-26 17:22:36.180 [main] INFO  liquibase.changelog - Custom SQL executed
2023-09-26 17:22:36.183 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/09-get_distance.sql::raw::includeAll ran successfully in 31ms
2023-09-26 17:22:36.199 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-26 17:22:36.383 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-26 17:22:36.500 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-26 17:22:37.117 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-26 17:22:39.074 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-26 17:22:39.090 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 17:22:44.488 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-26 17:22:45.557 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-26 17:22:46.593 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-26 17:22:50.355 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37eb8009, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40b63796, org.springframework.security.web.context.SecurityContextHolderFilter@4a3ebba6, org.springframework.security.web.header.HeaderWriterFilter@53efde9f, org.springframework.web.filter.CorsFilter@199d1fb7, org.springframework.security.web.authentication.logout.LogoutFilter@58ba1195, com.ringo.auth.JwtFilter@6bd21eb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34327638, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fc1a561, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15fb5531, org.springframework.security.web.session.SessionManagementFilter@1d2c5d75, org.springframework.security.web.access.ExceptionTranslationFilter@5332ebea, org.springframework.security.web.access.intercept.AuthorizationFilter@5db553f9]
2023-09-26 17:22:51.076 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-09-26 17:22:51.093 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 22.249 seconds (process running for 23.972)
2023-09-26 17:22:51.471 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:8080/
	External: 	http://127.0.0.1:8080/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-26 17:23:16.699 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 17:23:16.704 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-26 17:23:16.708 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-26 17:23:31.175 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 3779 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 17:23:31.179 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 17:23:33.049 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 17:23:33.285 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 220 ms. Found 14 JPA repository interfaces.
2023-09-26 17:23:34.390 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 17:23:34.408 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-26 17:23:34.416 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-26 17:23:34.592 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-26 17:23:34.593 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2940 ms
2023-09-26 17:23:34.782 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 17:23:35.015 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@64dfb31d
2023-09-26 17:23:35.018 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 17:23:35.191 [main] INFO  liquibase.database - Set default schema name to public
2023-09-26 17:23:35.319 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-26 17:23:35.494 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-26 17:23:35.974 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/01-category.sql
2023-09-26 17:23:35.978 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/02-currency.sql
2023-09-26 17:23:35.980 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/09-get_distance.sql
2023-09-26 17:23:36.076 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-26 17:23:36.245 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-26 17:23:36.409 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-26 17:23:36.512 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-26 17:23:37.086 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-26 17:23:38.921 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-26 17:23:38.940 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 17:23:45.000 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-26 17:23:45.558 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-26 17:23:46.455 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-26 17:23:50.079 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bedcff1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4643d88c, org.springframework.security.web.context.SecurityContextHolderFilter@48d05f98, org.springframework.security.web.header.HeaderWriterFilter@33d3e850, org.springframework.web.filter.CorsFilter@71b38b11, org.springframework.security.web.authentication.logout.LogoutFilter@7b2637fa, com.ringo.auth.JwtFilter@27002c5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ed921c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21080d55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64a3d839, org.springframework.security.web.session.SessionManagementFilter@a26daf9, org.springframework.security.web.access.ExceptionTranslationFilter@18e0d125, org.springframework.security.web.access.intercept.AuthorizationFilter@5f0a452d]
2023-09-26 17:23:50.582 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-09-26 17:23:50.596 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.05 seconds (process running for 21.748)
2023-09-26 17:23:50.669 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:8080/
	External: 	http://127.0.0.1:8080/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-26 17:58:03.299 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 4406 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 17:58:03.306 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 17:58:05.130 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 17:58:05.341 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 199 ms. Found 14 JPA repository interfaces.
2023-09-26 17:58:06.327 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 17:58:06.568 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2790 ms
2023-09-26 17:58:06.745 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 17:58:07.034 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b4a3a1
2023-09-26 17:58:07.039 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 17:58:08.730 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-26 17:58:08.831 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-26 17:58:09.402 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-26 17:58:11.004 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-26 17:58:11.019 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 17:58:13.473 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventController' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/controller/EventController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'eventService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/event/EventService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'organisationService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/OrganisationService.class]: Unsatisfied dependency expressed through constructor parameter 6: Error creating bean with name 'stripeService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/payment/StripeService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'ticketService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/TicketService.class]: Unsatisfied dependency expressed through constructor parameter 6: Error creating bean with name 'organisationService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-09-26 17:58:13.476 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 17:58:13.479 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-26 17:58:13.485 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-26 19:54:02.427 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 7070 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 19:54:02.431 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 19:54:04.207 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 19:54:04.418 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 198 ms. Found 14 JPA repository interfaces.
2023-09-26 19:54:05.392 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 19:54:05.409 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-26 19:54:05.409 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-26 19:54:05.577 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-26 19:54:05.577 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2704 ms
2023-09-26 19:54:05.749 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 19:54:06.026 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e27f603
2023-09-26 19:54:06.030 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 19:54:06.461 [main] INFO  liquibase.database - Set default schema name to public
2023-09-26 19:54:06.593 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-26 19:54:06.717 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-26 19:54:07.256 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-26 19:54:07.422 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-26 19:54:07.539 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-26 19:54:07.591 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-26 19:54:08.031 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-26 19:54:09.369 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-26 19:54:09.381 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 19:54:11.517 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eventController' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/controller/EventController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'eventService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/event/EventService.class]: Unsatisfied dependency expressed through constructor parameter 5: Error creating bean with name 'organisationService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/OrganisationService.class]: Unsatisfied dependency expressed through constructor parameter 6: Error creating bean with name 'stripeService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/payment/StripeService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'ticketService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/TicketService.class]: Unsatisfied dependency expressed through constructor parameter 6: Error creating bean with name 'organisationService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2023-09-26 19:54:11.520 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 19:54:11.523 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-26 19:54:11.527 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-26 19:54:11.529 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2023-09-26 19:54:11.546 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-09-26 19:54:11.571 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   eventController defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/controller/EventController.class]
      ↓
   eventService defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/event/EventService.class]
┌─────┐
|  organisationService defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/OrganisationService.class]
↑     ↓
|  stripeService defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/payment/StripeService.class]
↑     ↓
|  ticketService defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/company/TicketService.class]
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2023-09-26 19:54:43.431 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 7089 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 19:54:43.435 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 19:54:44.877 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 19:54:45.058 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 14 JPA repository interfaces.
2023-09-26 19:54:45.974 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 19:54:45.996 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-26 19:54:45.997 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-26 19:54:46.161 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-26 19:54:46.162 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2388 ms
2023-09-26 19:54:46.326 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 19:54:46.547 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@738a815c
2023-09-26 19:54:46.553 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 19:54:46.780 [main] INFO  liquibase.database - Set default schema name to public
2023-09-26 19:54:46.916 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-26 19:54:47.056 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-26 19:54:47.518 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-26 19:54:47.731 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-26 19:54:47.837 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-26 19:54:47.898 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-26 19:54:48.322 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-26 19:54:49.631 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-26 19:54:49.644 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 19:54:55.089 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-26 19:54:56.300 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-26 19:54:56.807 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-26 19:54:59.624 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c4e96ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45c34a2, org.springframework.security.web.context.SecurityContextHolderFilter@7edf6563, org.springframework.security.web.header.HeaderWriterFilter@52a1a375, org.springframework.web.filter.CorsFilter@6bbb3ec8, org.springframework.security.web.authentication.logout.LogoutFilter@4b3a6383, com.ringo.auth.JwtFilter@4136638d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@270a73ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@720bacd7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@715ab10f, org.springframework.security.web.session.SessionManagementFilter@1db203d2, org.springframework.security.web.access.ExceptionTranslationFilter@5f0a452d, org.springframework.security.web.access.intercept.AuthorizationFilter@62d743a4]
2023-09-26 19:55:00.206 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-09-26 19:55:00.221 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.446 seconds (process running for 18.35)
2023-09-26 19:55:00.289 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:8080/
	External: 	http://127.0.0.1:8080/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-26 19:55:03.618 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 19:55:03.621 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-26 19:55:03.623 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-09-26 19:58:44.659 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 7176 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-09-26 19:58:44.666 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-09-26 19:58:46.223 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-26 19:58:46.450 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 215 ms. Found 14 JPA repository interfaces.
2023-09-26 19:58:47.619 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-09-26 19:58:47.639 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-09-26 19:58:47.640 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-09-26 19:58:47.921 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-09-26 19:58:47.922 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2872 ms
2023-09-26 19:58:48.122 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-09-26 19:58:48.402 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@44fb6ebd
2023-09-26 19:58:48.406 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-09-26 19:58:48.591 [main] INFO  liquibase.database - Set default schema name to public
2023-09-26 19:58:48.724 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-09-26 19:58:48.847 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-09-26 19:58:49.391 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-09-26 19:58:49.533 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-09-26 19:58:49.639 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-26 19:58:49.690 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-09-26 19:58:50.151 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-09-26 19:58:51.516 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-26 19:58:51.529 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 19:58:56.940 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-09-26 19:58:58.320 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-09-26 19:58:59.483 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-09-26 19:59:02.682 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bcbf479, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29457ad2, org.springframework.security.web.context.SecurityContextHolderFilter@18f9bc99, org.springframework.security.web.header.HeaderWriterFilter@481beb8b, org.springframework.web.filter.CorsFilter@816272a, org.springframework.security.web.authentication.logout.LogoutFilter@373ca236, com.ringo.auth.JwtFilter@24663d05, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a738139, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dee647f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a050bf9, org.springframework.security.web.session.SessionManagementFilter@415de886, org.springframework.security.web.access.ExceptionTranslationFilter@3796062b, org.springframework.security.web.access.intercept.AuthorizationFilter@5770b59f]
2023-09-26 19:59:03.135 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-09-26 19:59:03.148 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.253 seconds (process running for 20.897)
2023-09-26 19:59:03.207 [main] INFO  com.ringo.RingoApplication - 
----------------------------------------------------------
	Application 'Ringo' is running! Access URLs:
	Local: 		http://localhost:8080/
	External: 	http://127.0.0.1:8080/
	Profile(s): 	[]
----------------------------------------------------------
2023-09-26 19:59:40.164 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-09-26 19:59:40.165 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-09-26 19:59:40.167 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-09-26 19:59:40.275 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_ORGANISATION
2023-09-26 19:59:40.401 [http-nio-8080-exec-2] INFO  c.r.service.payment.StripeService - Create customer for user: aahusar@gmail.com
2023-09-26 19:59:42.911 [http-nio-8080-exec-2] INFO  c.r.service.payment.StripeService - Account created: acct_1NuebpE73nlfAfPj
2023-09-26 20:02:45.196 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "sign-up"
2023-09-26 20:03:52.115 [http-nio-8080-exec-7] INFO  c.r.s.c.event.EventSearchService - searchEvents: EventSearchDto(search=null, categoryIds=null, hostId=null, isActive=true, isTicketNeeded=null, priceMin=null, priceMax=null, currencyId=null, latitude=59.34543, longitude=26.234325, maxDistance=null, startTimeMin=2023-09-25T10:31, startTimeMax=null, endTimeMin=null, endTimeMax=null)
2023-09-26 20:05:50.948 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-26 20:05:50.952 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-09-26 20:05:50.955 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
