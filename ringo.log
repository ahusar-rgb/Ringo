2023-08-11 12:53:35.880 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 30427 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 12:53:35.897 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 12:53:38.048 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 12:53:38.307 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 241 ms. Found 13 JPA repository interfaces.
2023-08-11 12:53:39.953 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 12:53:39.994 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 12:53:39.999 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 12:53:40.475 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 12:53:40.476 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3893 ms
2023-08-11 12:53:40.808 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 12:53:41.234 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3eac2e8a
2023-08-11 12:53:41.240 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 12:53:41.559 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 12:53:41.944 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 12:53:42.204 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 12:53:42.716 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 12:53:42.722 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 12:53:42.724 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 12:53:42.825 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 12:53:42.970 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 12:53:43.139 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 12:53:43.242 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 12:53:43.866 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 12:53:45.965 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 12:53:45.979 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 12:53:51.974 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 12:53:52.931 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 12:53:53.499 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 12:53:57.266 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fc5199, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37df3dee, org.springframework.security.web.context.SecurityContextHolderFilter@35e50381, org.springframework.security.web.header.HeaderWriterFilter@23497c5e, org.springframework.web.filter.CorsFilter@99e03a9, org.springframework.security.web.authentication.logout.LogoutFilter@197d38a, com.ringo.auth.JwtFilter@398a27e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c49bc22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a4899c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@236a641a, org.springframework.security.web.session.SessionManagementFilter@2541c84, org.springframework.security.web.access.ExceptionTranslationFilter@4f9a0139, org.springframework.security.web.access.intercept.AuthorizationFilter@52ac57e7]
2023-08-11 12:53:57.845 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 12:53:57.860 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 22.753 seconds (process running for 24.386)
2023-08-11 12:54:00.066 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 12:54:00.067 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 12:54:00.069 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 12:54:00.178 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_PARTICIPANT
2023-08-11 12:54:32.887 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 12:54:42.973 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 12:54:51.759 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 12:55:03.040 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: aahusar@gmail.com] is authenticated
2023-08-11 13:11:16.874 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 30775 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 13:11:16.879 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 13:11:18.776 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 13:11:19.004 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 214 ms. Found 13 JPA repository interfaces.
2023-08-11 13:11:20.130 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 13:11:20.150 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 13:11:20.151 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 13:11:20.350 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 13:11:20.350 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2954 ms
2023-08-11 13:11:20.543 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 13:11:20.821 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4586a8aa
2023-08-11 13:11:20.825 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 13:11:21.177 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 13:11:21.331 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 13:11:21.507 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 13:11:22.019 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 13:11:22.023 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 13:11:22.025 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 13:11:22.121 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 13:11:22.282 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 13:11:22.425 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 13:11:22.518 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 13:11:23.090 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 13:11:24.723 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 13:11:24.739 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 13:11:30.623 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 13:11:31.140 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 13:11:31.643 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 13:11:35.691 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@43bc1d67, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@760c63d0, org.springframework.security.web.context.SecurityContextHolderFilter@6c26a27e, org.springframework.security.web.header.HeaderWriterFilter@2347ca7a, org.springframework.web.filter.CorsFilter@7083e548, org.springframework.security.web.authentication.logout.LogoutFilter@2c663246, com.ringo.auth.JwtFilter@165a78d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@411550d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a5bc21, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e4d93e7, org.springframework.security.web.session.SessionManagementFilter@2e740f3c, org.springframework.security.web.access.ExceptionTranslationFilter@2f9404a7, org.springframework.security.web.access.intercept.AuthorizationFilter@56dc6b33]
2023-08-11 13:11:36.370 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 13:11:36.395 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.264 seconds (process running for 21.229)
2023-08-11 13:12:53.405 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 13:12:53.414 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 13:12:53.415 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 13:13:12.892 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:13:13.618 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 13:13:13.715 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:13:13.727 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:13:13.781 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:13:13.787 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:13:13.842 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 13:13:13.900 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:13:13.907 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:13:13.959 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:13:13.969 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:13:14.018 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:13:14.025 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:13:14.071 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:13:14.080 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:13:14.127 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:13:14.134 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:13:14.181 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:13:14.191 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:13:14.234 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:13:14.241 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:13:14.277 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:13:14.283 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:13:46.165 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 13:13:46.170 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 13:13:46.174 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 13:16:28.389 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 30915 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 13:16:28.393 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 13:16:30.151 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 13:16:30.436 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 271 ms. Found 13 JPA repository interfaces.
2023-08-11 13:16:31.484 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 13:16:31.505 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 13:16:31.505 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 13:16:31.694 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 13:16:31.696 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2932 ms
2023-08-11 13:16:31.890 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 13:16:32.155 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22fb9a2c
2023-08-11 13:16:32.161 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 13:16:32.495 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 13:16:32.634 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 13:16:32.749 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 13:16:33.156 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 13:16:33.159 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 13:16:33.162 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 13:16:33.255 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 13:16:33.383 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 13:16:33.512 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 13:16:33.584 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 13:16:34.027 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 13:16:35.391 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 13:16:35.405 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 13:16:40.563 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 13:16:41.395 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 13:16:41.919 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 13:16:44.343 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c269f21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@236ec69, org.springframework.security.web.context.SecurityContextHolderFilter@5cb077e3, org.springframework.security.web.header.HeaderWriterFilter@3edb0c1e, org.springframework.web.filter.CorsFilter@6bab65b6, org.springframework.security.web.authentication.logout.LogoutFilter@66e6b022, com.ringo.auth.JwtFilter@1227862a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d2c6085, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c78ad08, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fdf1a6b, org.springframework.security.web.session.SessionManagementFilter@9ce4057, org.springframework.security.web.access.ExceptionTranslationFilter@261a0d86, org.springframework.security.web.access.intercept.AuthorizationFilter@197cf24e]
2023-08-11 13:16:44.743 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 13:16:44.756 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.972 seconds (process running for 17.611)
2023-08-11 13:17:06.114 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 13:17:06.115 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 13:17:06.118 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 13:17:06.202 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:17:06.898 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 13:17:06.968 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:17:06.980 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:17:07.055 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:17:07.063 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:17:07.123 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 13:17:07.193 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:17:07.202 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:17:07.271 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:17:07.278 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:17:07.333 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:17:07.339 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:17:07.385 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:17:07.392 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 13:17:07.441 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:17:07.448 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:17:07.489 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:17:07.497 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:17:07.535 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:17:07.551 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:17:07.595 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:17:07.603 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 13:17:22.814 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 13:17:22.820 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 13:17:22.827 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 13:17:55.662 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 30964 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 13:17:55.665 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 13:17:57.208 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 13:17:57.391 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 171 ms. Found 13 JPA repository interfaces.
2023-08-11 13:17:58.427 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 13:17:58.445 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 13:17:58.445 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 13:17:58.620 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 13:17:58.620 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2611 ms
2023-08-11 13:17:58.834 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 13:17:59.062 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@819fb19
2023-08-11 13:17:59.066 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 13:17:59.262 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 13:17:59.405 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 13:17:59.550 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 13:17:59.945 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 13:17:59.949 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 13:17:59.951 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 13:18:00.053 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 13:18:00.217 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 13:18:00.344 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 13:18:00.412 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 13:18:00.829 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 13:18:02.215 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 13:18:02.226 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 13:18:07.887 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 13:18:08.724 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 13:18:09.222 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 13:18:12.509 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a8b2ab3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c3019d6, org.springframework.security.web.context.SecurityContextHolderFilter@45de2baa, org.springframework.security.web.header.HeaderWriterFilter@4a9e03b, org.springframework.web.filter.CorsFilter@7083e548, org.springframework.security.web.authentication.logout.LogoutFilter@5dc9cb99, com.ringo.auth.JwtFilter@165a78d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1912297c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@261a0d86, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37e628c0, org.springframework.security.web.session.SessionManagementFilter@76928be0, org.springframework.security.web.access.ExceptionTranslationFilter@19416b0f, org.springframework.security.web.access.intercept.AuthorizationFilter@7b73b5c9]
2023-08-11 13:18:13.233 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 13:18:13.263 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.159 seconds (process running for 18.822)
2023-08-11 13:18:26.700 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 13:18:26.701 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 13:18:26.703 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 13:18:26.788 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:18:27.490 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 13:18:27.613 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:27.845 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:18:28.115 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:28.227 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:18:28.455 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:28.574 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 13:18:28.643 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:18:28.892 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:29.146 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 13:18:29.148 [http-nio-8080-exec-4] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 13:18:29.174 [http-nio-8080-exec-4] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 13:18:30.311 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:18:30.546 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:30.621 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 13:18:30.622 [http-nio-8080-exec-11] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 13:18:30.628 [http-nio-8080-exec-11] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 13:18:31.032 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - deletePhoto: 8
2023-08-11 13:18:31.177 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:18:31.404 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:31.441 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 24
2023-08-11 13:18:31.544 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 13:18:31.776 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:31.871 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findOrganisationById: 25
2023-08-11 13:18:31.973 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:18:32.206 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:32.266 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 13:18:32.267 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 13:18:32.271 [http-nio-8080-exec-1] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 13:18:32.669 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:18:32.903 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:32.956 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 13:18:32.958 [http-nio-8080-exec-12] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 13:18:32.962 [http-nio-8080-exec-12] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 13:18:33.308 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - deletePhoto: 10
2023-08-11 13:18:33.446 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:18:33.675 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:33.693 [http-nio-8080-exec-5] INFO  c.r.s.company.ParticipantService - findParticipantById: 28
2023-08-11 13:18:33.780 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 13:18:34.008 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 13:18:34.084 [http-nio-8080-exec-6] INFO  c.r.s.company.ParticipantService - findParticipantById: 29
2023-08-11 13:18:36.896 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 13:18:36.899 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 13:18:36.904 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 15:28:43.786 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 31410 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 15:28:43.793 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 15:28:45.693 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 15:28:45.960 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 251 ms. Found 13 JPA repository interfaces.
2023-08-11 15:28:47.087 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 15:28:47.111 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 15:28:47.111 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 15:28:47.408 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 15:28:47.409 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3171 ms
2023-08-11 15:28:47.628 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 15:28:47.912 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22fb9a2c
2023-08-11 15:28:47.915 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 15:28:48.258 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 15:28:48.415 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 15:28:48.550 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 15:28:48.983 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 15:28:48.990 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 15:28:48.992 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 15:28:49.084 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 15:28:49.253 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 15:28:49.390 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 15:28:49.458 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 15:28:49.934 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 15:28:51.514 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 15:28:51.529 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:28:56.565 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 15:28:57.088 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 15:28:57.939 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 15:29:01.152 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d0c21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@472c5608, org.springframework.security.web.context.SecurityContextHolderFilter@2f90ad92, org.springframework.security.web.header.HeaderWriterFilter@56dc6b33, org.springframework.web.filter.CorsFilter@6bab65b6, org.springframework.security.web.authentication.logout.LogoutFilter@7677a485, com.ringo.auth.JwtFilter@1227862a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7930de44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52891a77, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e0fbfb6, org.springframework.security.web.session.SessionManagementFilter@6071132e, org.springframework.security.web.access.ExceptionTranslationFilter@2b2bcb4a, org.springframework.security.web.access.intercept.AuthorizationFilter@4ff10cfa]
2023-08-11 15:29:01.625 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 15:29:01.642 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.573 seconds (process running for 20.051)
2023-08-11 15:29:51.271 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:29:51.275 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 15:29:51.279 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 15:31:11.318 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 31569 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 15:31:11.323 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 15:31:13.150 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 15:31:13.398 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 233 ms. Found 13 JPA repository interfaces.
2023-08-11 15:31:14.562 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 15:31:14.580 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 15:31:14.581 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 15:31:14.780 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 15:31:14.781 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3045 ms
2023-08-11 15:31:15.029 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 15:31:15.283 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@49cb5030
2023-08-11 15:31:15.288 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 15:31:15.654 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 15:31:15.806 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 15:31:15.992 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 15:31:16.400 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 15:31:16.404 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 15:31:16.407 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 15:31:16.509 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 15:31:16.655 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 15:31:16.808 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 15:31:16.894 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 15:31:17.393 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 15:31:18.821 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 15:31:18.837 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:31:23.589 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 15:31:24.092 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 15:31:24.659 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 15:31:27.128 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67fe15be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66e6b022, org.springframework.security.web.context.SecurityContextHolderFilter@5b0bfe86, org.springframework.security.web.header.HeaderWriterFilter@78e077f8, org.springframework.web.filter.CorsFilter@53fa630, org.springframework.security.web.authentication.logout.LogoutFilter@65b2f815, com.ringo.auth.JwtFilter@50dfceff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f9404a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@273cefd5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10087ad5, org.springframework.security.web.session.SessionManagementFilter@368a8b70, org.springframework.security.web.access.ExceptionTranslationFilter@4b5d2a4c, org.springframework.security.web.access.intercept.AuthorizationFilter@7cdfb8c3]
2023-08-11 15:31:27.566 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 15:31:27.583 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.931 seconds (process running for 17.615)
2023-08-11 15:33:06.991 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 15:33:06.992 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 15:33:07.003 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 11 ms
2023-08-11 15:33:07.190 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:08.175 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:33:08.309 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:08.564 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:08.835 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:09.242 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:33:09.364 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:09.482 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:09.758 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:09.857 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:10.088 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:10.445 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:33:10.562 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:10.663 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:10.898 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:33:11.038 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 15:33:11.085 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.098 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:33:11.145 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.172 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:33:11.229 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.238 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:33:11.282 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:11.290 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:33:11.343 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:33:11.420 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:11.428 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:33:11.465 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:11.473 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:33:11.516 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:11.524 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:33:11.571 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:33:11.580 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:33:11.650 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.657 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:33:11.711 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.719 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:33:11.769 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.777 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:33:11.814 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:33:11.823 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:34:29.149 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:34:29.154 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 15:34:29.160 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 15:35:13.411 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 31658 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 15:35:13.417 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 15:35:15.053 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 15:35:15.286 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 221 ms. Found 13 JPA repository interfaces.
2023-08-11 15:35:16.353 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 15:35:16.372 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 15:35:16.373 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 15:35:16.569 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 15:35:16.569 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2788 ms
2023-08-11 15:35:16.770 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 15:35:17.011 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@819fb19
2023-08-11 15:35:17.017 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 15:35:17.438 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 15:35:17.615 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 15:35:17.752 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 15:35:18.200 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 15:35:18.206 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 15:35:18.209 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 15:35:18.297 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 15:35:18.435 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 15:35:18.579 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 15:35:18.660 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 15:35:19.091 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 15:35:20.621 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 15:35:20.634 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:35:25.924 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 15:35:26.437 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 15:35:26.919 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 15:35:29.419 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a8b2ab3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c3019d6, org.springframework.security.web.context.SecurityContextHolderFilter@45de2baa, org.springframework.security.web.header.HeaderWriterFilter@4a9e03b, org.springframework.web.filter.CorsFilter@7083e548, org.springframework.security.web.authentication.logout.LogoutFilter@5dc9cb99, com.ringo.auth.JwtFilter@165a78d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1912297c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@261a0d86, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37e628c0, org.springframework.security.web.session.SessionManagementFilter@76928be0, org.springframework.security.web.access.ExceptionTranslationFilter@19416b0f, org.springframework.security.web.access.intercept.AuthorizationFilter@7b73b5c9]
2023-08-11 15:35:29.933 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 15:35:29.951 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.118 seconds (process running for 17.889)
2023-08-11 15:41:42.302 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 15:41:42.306 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 15:41:42.322 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 16 ms
2023-08-11 15:41:42.481 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:43.263 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:41:43.404 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:43.631 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:43.879 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:44.290 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:41:44.429 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:44.518 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:44.793 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:44.891 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:45.134 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:45.522 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:41:45.635 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:45.740 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:45.980 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:41:46.115 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 15:41:46.164 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.176 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:41:46.218 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.235 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:41:46.277 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.290 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:41:46.337 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:46.345 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:41:46.389 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:41:46.451 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:46.460 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:41:46.508 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:46.514 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:41:46.552 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:46.559 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:41:46.600 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:41:46.624 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:41:46.687 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.694 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:41:46.736 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.744 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:41:46.780 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.788 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:41:46.821 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:41:46.828 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:42:31.743 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:42:31.749 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 15:42:31.755 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 15:42:44.261 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 31792 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 15:42:44.266 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 15:42:46.425 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 15:42:46.742 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 303 ms. Found 13 JPA repository interfaces.
2023-08-11 15:42:47.997 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 15:42:48.016 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 15:42:48.017 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 15:42:48.278 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 15:42:48.279 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3581 ms
2023-08-11 15:42:48.471 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 15:42:48.806 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2084e65a
2023-08-11 15:42:48.811 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 15:42:49.100 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 15:42:49.277 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 15:42:49.490 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 15:42:50.364 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 15:42:50.370 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 15:42:50.373 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 15:42:50.540 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 15:42:50.808 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 15:42:50.991 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 15:42:51.096 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 15:42:51.763 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 15:42:53.735 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 15:42:53.746 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:42:59.750 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 15:43:00.561 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 15:43:01.460 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 15:43:04.386 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dc9cb99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15cd990c, org.springframework.security.web.context.SecurityContextHolderFilter@2c29342a, org.springframework.security.web.header.HeaderWriterFilter@7cf0d34, org.springframework.web.filter.CorsFilter@7f6b3f4c, org.springframework.security.web.authentication.logout.LogoutFilter@7d2c6085, com.ringo.auth.JwtFilter@55ed76e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b5d2a4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d8d9807, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e35c8b5, org.springframework.security.web.session.SessionManagementFilter@5b57bd5b, org.springframework.security.web.access.ExceptionTranslationFilter@12bc51f4, org.springframework.security.web.access.intercept.AuthorizationFilter@62254d29]
2023-08-11 15:43:04.888 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 15:43:04.907 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 21.283 seconds (process running for 22.242)
2023-08-11 15:44:23.636 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 31832 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 15:44:23.640 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 15:44:25.433 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 15:44:25.667 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 218 ms. Found 13 JPA repository interfaces.
2023-08-11 15:44:26.793 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 15:44:26.809 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 15:44:26.809 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 15:44:26.992 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 15:44:26.993 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2949 ms
2023-08-11 15:44:27.194 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 15:44:27.458 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22fb9a2c
2023-08-11 15:44:27.471 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 15:44:27.655 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 15:44:27.815 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 15:44:27.946 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 15:44:28.350 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 15:44:28.354 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 15:44:28.357 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 15:44:28.460 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 15:44:28.598 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 15:44:28.726 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 15:44:28.804 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 15:44:29.259 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 15:44:30.819 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 15:44:30.831 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:44:35.832 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 15:44:36.418 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 15:44:36.907 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 15:44:39.412 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@411550d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a5bc21, org.springframework.security.web.context.SecurityContextHolderFilter@4b495ce7, org.springframework.security.web.header.HeaderWriterFilter@12bc51f4, org.springframework.web.filter.CorsFilter@6bab65b6, org.springframework.security.web.authentication.logout.LogoutFilter@5cb077e3, com.ringo.auth.JwtFilter@1227862a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c29342a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4af2f991, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dc9cb99, org.springframework.security.web.session.SessionManagementFilter@4a9e03b, org.springframework.security.web.access.ExceptionTranslationFilter@d5ef7c0, org.springframework.security.web.access.intercept.AuthorizationFilter@197b91d2]
2023-08-11 15:44:39.927 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 15:44:39.944 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.925 seconds (process running for 17.574)
2023-08-11 15:44:59.435 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 15:44:59.436 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 15:44:59.438 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 15:44:59.532 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:00.323 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:45:00.475 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:00.699 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:00.961 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:01.333 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:45:01.454 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:01.564 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:01.800 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:01.902 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:02.138 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:02.478 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:45:02.596 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:02.683 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:02.916 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 15:45:03.047 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 15:45:03.098 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.110 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:03.188 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.196 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:03.241 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.252 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:03.297 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:03.304 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:45:03.349 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 15:45:03.405 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:03.415 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:45:03.465 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:03.473 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:45:03.513 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:03.522 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:45:03.568 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 15:45:03.579 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 15:45:03.630 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.637 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:03.677 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.684 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:03.721 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.729 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:03.774 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 15:45:03.781 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 15:45:53.570 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 15:45:53.575 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 15:45:53.579 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 16:00:05.683 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 31909 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 16:00:05.687 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 16:00:07.282 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 16:00:07.466 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 13 JPA repository interfaces.
2023-08-11 16:00:08.394 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 16:00:08.411 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 16:00:08.412 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 16:00:08.598 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 16:00:08.598 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2465 ms
2023-08-11 16:00:08.764 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 16:00:08.975 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-11 16:00:08.979 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 16:00:09.128 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 16:00:09.257 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 16:00:09.391 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 16:00:09.816 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 16:00:09.819 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 16:00:09.822 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 16:00:09.902 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 16:00:10.038 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 16:00:10.173 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 16:00:10.248 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 16:00:10.805 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 16:00:13.026 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 16:00:13.041 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 16:00:17.741 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 16:00:18.599 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 16:00:19.408 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 16:00:23.152 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a447744, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69d2cffb, org.springframework.security.web.context.SecurityContextHolderFilter@5e0fbfb6, org.springframework.security.web.header.HeaderWriterFilter@5b64bc02, org.springframework.web.filter.CorsFilter@1c1bc904, org.springframework.security.web.authentication.logout.LogoutFilter@17778985, com.ringo.auth.JwtFilter@22b8eaf0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@769e025c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53279691, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c1ac3b, org.springframework.security.web.session.SessionManagementFilter@5e23d0db, org.springframework.security.web.access.ExceptionTranslationFilter@5e02753c, org.springframework.security.web.access.intercept.AuthorizationFilter@6bd5101f]
2023-08-11 16:00:23.786 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 16:00:23.804 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.785 seconds (process running for 19.776)
2023-08-11 16:00:44.897 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 16:00:44.898 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 16:00:44.901 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 16:00:45.040 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:45.790 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:00:45.928 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:46.145 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:46.411 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:46.824 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:00:46.945 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:47.043 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:47.275 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:47.375 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:47.603 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:47.970 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:00:48.080 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:48.165 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:48.398 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:48.518 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 16:00:48.628 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:48.704 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:48.935 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:00:48.961 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported
2023-08-11 16:00:49.029 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:49.041 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 16:00:49.104 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:49.119 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 16:00:49.153 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:49.160 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 16:00:49.214 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:00:49.273 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:49.281 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 16:00:49.338 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:49.346 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 16:00:49.388 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:49.394 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 16:00:49.426 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:00:49.434 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 16:00:49.472 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:49.477 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 16:00:49.510 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:49.519 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 16:00:49.545 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:49.551 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 16:00:49.580 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:00:49.587 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 16:03:46.238 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:03:46.701 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:03:46.824 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:03:46.958 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:03:47.197 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:03:47.568 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:03:47.684 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:03:47.776 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:03:48.014 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:03:48.121 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:03:48.354 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:03:48.722 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:03:48.836 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:04:10.602 [http-nio-8080-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 16:05:41.420 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:41.855 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:05:41.975 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:42.106 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:42.344 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:42.707 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:05:42.822 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:42.912 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:43.145 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:43.216 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:43.440 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:43.783 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:05:43.895 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:43.961 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 16:05:44.003 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:44.229 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:44.343 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 16:05:44.451 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:44.523 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:44.748 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:44.849 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:45.083 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:45.154 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:45.371 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:45.486 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 16:05:45.596 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:45.663 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:45.888 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:45.972 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:05:46.008 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:46.238 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:46.481 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:05:46.485 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:05:46.507 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:05:47.723 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:47.943 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:48.014 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:05:48.016 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:05:48.026 [http-nio-8080-exec-7] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:05:48.422 [http-nio-8080-exec-5] INFO  c.ringo.service.common.PhotoService - deletePhoto: 12
2023-08-11 16:05:48.552 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:48.775 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:48.796 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findOrganisationById: 66
2023-08-11 16:05:48.864 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:05:49.092 [http-nio-8080-exec-13] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:49.174 [http-nio-8080-exec-12] INFO  c.r.s.company.OrganisationService - findOrganisationById: 67
2023-08-11 16:05:49.257 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:49.527 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:49.591 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:05:49.593 [http-nio-8080-exec-6] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:05:49.600 [http-nio-8080-exec-6] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:05:50.070 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:50.311 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:50.356 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:05:50.357 [http-nio-8080-exec-13] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:05:50.362 [http-nio-8080-exec-13] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:05:50.753 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - deletePhoto: 14
2023-08-11 16:05:50.875 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:51.107 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:51.127 [http-nio-8080-exec-12] INFO  c.r.s.company.ParticipantService - findParticipantById: 70
2023-08-11 16:05:51.217 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:05:51.457 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:05:51.522 [http-nio-8080-exec-7] INFO  c.r.s.company.ParticipantService - findParticipantById: 71
2023-08-11 16:07:31.783 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 16:07:31.788 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 16:07:31.791 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 16:33:40.307 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 32599 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 16:33:40.312 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 16:33:41.871 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 16:33:42.056 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 171 ms. Found 13 JPA repository interfaces.
2023-08-11 16:33:43.019 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 16:33:43.037 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 16:33:43.038 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 16:33:43.222 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 16:33:43.223 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2533 ms
2023-08-11 16:33:43.395 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 16:33:43.662 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-11 16:33:43.665 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 16:33:43.995 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 16:33:44.111 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 16:33:44.226 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 16:33:44.640 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 16:33:44.645 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 16:33:44.648 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 16:33:44.736 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 16:33:44.867 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 16:33:44.994 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 16:33:45.087 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 16:33:45.532 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 16:33:46.998 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 16:33:47.010 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 16:33:51.463 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 16:33:52.333 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 16:33:52.845 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 16:33:55.535 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54cf024c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67fe15be, org.springframework.security.web.context.SecurityContextHolderFilter@3dd6aede, org.springframework.security.web.header.HeaderWriterFilter@1d8d9807, org.springframework.web.filter.CorsFilter@1c1bc904, org.springframework.security.web.authentication.logout.LogoutFilter@4a402ba3, com.ringo.auth.JwtFilter@22b8eaf0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39383f9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f9404a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66e6b022, org.springframework.security.web.session.SessionManagementFilter@3edb0c1e, org.springframework.security.web.access.ExceptionTranslationFilter@4af2f991, org.springframework.security.web.access.intercept.AuthorizationFilter@7a792f64]
2023-08-11 16:33:56.021 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 16:33:56.035 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.476 seconds (process running for 17.29)
2023-08-11 16:34:25.033 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 16:34:25.036 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 16:34:25.038 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 16:34:25.149 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:25.819 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:34:25.942 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:26.161 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:26.404 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:26.777 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:34:26.892 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:26.989 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:27.217 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:27.292 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:27.516 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:27.852 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:34:27.958 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:28.028 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 16:34:28.084 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:28.308 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:28.423 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 16:34:28.533 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:28.594 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:28.810 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:28.912 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:29.129 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:29.200 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:29.420 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:29.531 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 16:34:29.635 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:29.711 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:29.927 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:30.016 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 16:34:30.057 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:30.269 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:30.465 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:34:30.468 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:34:30.505 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:34:31.674 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:31.906 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:31.966 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:34:31.968 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:34:31.972 [http-nio-8080-exec-2] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:34:32.404 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - deletePhoto: 16
2023-08-11 16:34:32.547 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:32.791 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:32.816 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 83
2023-08-11 16:34:32.904 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 16:34:33.134 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:33.219 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 84
2023-08-11 16:34:33.298 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:33.516 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:33.564 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:34:33.566 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:34:33.571 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:34:34.001 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:34.220 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:34.264 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 16:34:34.265 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 16:34:34.271 [http-nio-8080-exec-1] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 16:34:34.606 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - deletePhoto: 18
2023-08-11 16:34:34.728 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:34.946 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:34.967 [http-nio-8080-exec-11] INFO  c.r.s.company.ParticipantService - findParticipantById: 87
2023-08-11 16:34:35.045 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 16:34:35.262 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 16:34:35.317 [http-nio-8080-exec-8] INFO  c.r.s.company.ParticipantService - findParticipantById: 88
2023-08-11 16:34:55.184 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 16:34:55.188 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 16:34:55.190 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:01:42.096 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33290 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:01:42.102 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:01:44.014 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:01:44.330 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 294 ms. Found 13 JPA repository interfaces.
2023-08-11 17:01:45.384 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:01:45.406 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:01:45.407 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:01:45.605 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:01:45.605 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3073 ms
2023-08-11 17:01:45.830 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:01:46.127 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@85ab964
2023-08-11 17:01:46.131 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:01:46.497 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:01:46.632 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:01:46.759 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:01:47.199 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:01:47.203 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:01:47.207 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:01:47.355 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:01:47.535 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:01:47.659 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:01:47.734 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:01:48.173 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:01:49.626 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:01:49.642 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:01:54.814 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:01:56.414 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:01:56.929 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:02:00.027 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3703bc7e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@187f6ac7, org.springframework.security.web.context.SecurityContextHolderFilter@7a51ba06, org.springframework.security.web.header.HeaderWriterFilter@72bf66c7, org.springframework.web.filter.CorsFilter@408f3054, org.springframework.security.web.authentication.logout.LogoutFilter@68073c8d, com.ringo.auth.JwtFilter@53fa630, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57b03187, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@aea96b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62167368, org.springframework.security.web.session.SessionManagementFilter@18b9b269, org.springframework.security.web.access.ExceptionTranslationFilter@10b21a2b, org.springframework.security.web.access.intercept.AuthorizationFilter@414dc3ca]
2023-08-11 17:02:00.517 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:02:00.531 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.187 seconds (process running for 20.26)
2023-08-11 17:03:24.823 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:03:24.824 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:03:24.826 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:03:24.919 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:03:24.971 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - User with username esn_taltech already exists
2023-08-11 17:03:36.081 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: esn1@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:03:36.217 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42P01
2023-08-11 17:03:36.217 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: relation "label" does not exist
  Position: 13
2023-08-11 17:03:36.232 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]
2023-08-11 17:04:21.527 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:04:21.533 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:04:21.538 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:05:49.832 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33395 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:05:49.837 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:05:51.599 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:05:51.798 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 13 JPA repository interfaces.
2023-08-11 17:05:52.875 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:05:52.895 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:05:52.896 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:05:53.091 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:05:53.092 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2841 ms
2023-08-11 17:05:53.265 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:05:53.548 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@819fb19
2023-08-11 17:05:53.551 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:05:53.885 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:05:54.064 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:05:54.185 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:05:54.598 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:05:54.602 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:05:54.604 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:05:54.630 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:05:54.642 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:05:54.848 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:05:54.852 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-1::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:05:54.870 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:05:54.873 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-2::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:05:54.892 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:05:54.898 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-3::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:05:54.914 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:05:54.918 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-4::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:05:54.934 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:05:54.937 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-5::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:05:54.952 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:05:54.956 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-6::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:05:54.969 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:05:54.972 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-7::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:54.985 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:05:54.988 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-8::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:05:55.003 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:05:55.006 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-9::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:05:55.045 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:05:55.050 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-10::aleksandr (generated) ran successfully in 36ms
2023-08-11 17:05:55.063 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:05:55.066 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-11::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:05:55.084 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:05:55.090 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-12::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:05:55.106 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:05:55.110 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-13::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:05:55.125 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:05:55.128 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-14::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:05:55.141 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:05:55.145 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-15::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:05:55.157 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:05:55.160 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-16::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:05:55.171 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:05:55.174 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-17::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:05:55.189 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:05:55.192 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-18::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:05:55.221 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:05:55.224 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-19::aleksandr (generated) ran successfully in 25ms
2023-08-11 17:05:55.238 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:05:55.241 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-20::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.255 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:05:55.258 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-21::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:05:55.275 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:05:55.280 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-22::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:05:55.291 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:05:55.295 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-23::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.305 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:05:55.309 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.319 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:05:55.323 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-25::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.334 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:05:55.337 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-26::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:05:55.346 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:05:55.349 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-27::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.357 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:05:55.362 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-28::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.370 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:05:55.372 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-29::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:05:55.383 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:05:55.385 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:05:55.395 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:05:55.398 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-31::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.409 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:05:55.412 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-32::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.424 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:05:55.428 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-33::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.439 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:05:55.442 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-34::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.454 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:05:55.459 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-35::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:05:55.470 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:05:55.473 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-36::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:05:55.485 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:05:55.488 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-37::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.499 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:05:55.502 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-38::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.513 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:05:55.516 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-39::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.527 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:05:55.529 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-40::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.538 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:05:55.542 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-41::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.552 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:05:55.554 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-42::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:05:55.565 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:05:55.568 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-43::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.579 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:05:55.581 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-44::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:05:55.590 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:05:55.595 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691762679608-45::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:05:55.619 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:05:55.622 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 21ms
2023-08-11 17:05:55.635 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:05:55.639 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 12ms
2023-08-11 17:05:55.660 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:05:55.663 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 18ms
2023-08-11 17:05:55.673 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:05:55.820 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:05:55.919 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:05:56.420 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:05:57.957 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:05:57.969 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:06:03.035 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:06:03.628 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:06:04.447 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:06:07.738 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12a4937c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@686aa9c9, org.springframework.security.web.context.SecurityContextHolderFilter@29820c06, org.springframework.security.web.header.HeaderWriterFilter@ed24b1d, org.springframework.web.filter.CorsFilter@3054551f, org.springframework.security.web.authentication.logout.LogoutFilter@4f98ae97, com.ringo.auth.JwtFilter@b7526a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ecb3cde, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23abf9c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d87ac2b, org.springframework.security.web.session.SessionManagementFilter@a3ace4, org.springframework.security.web.access.ExceptionTranslationFilter@5bc971ef, org.springframework.security.web.access.intercept.AuthorizationFilter@6593f4fd]
2023-08-11 17:06:08.173 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:06:08.188 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.044 seconds (process running for 20.606)
2023-08-11 17:06:14.375 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:06:14.376 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:06:14.377 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 17:06:14.474 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: esn1@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:07:03.447 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:07:15.867 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: esn1@taltech.ee] is authenticated
2023-08-11 17:07:31.827 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:07:35.725 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:07:35.730 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:07:35.733 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:12:11.933 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33588 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:12:11.938 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:12:13.457 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:12:13.637 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 167 ms. Found 13 JPA repository interfaces.
2023-08-11 17:12:14.575 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:12:14.590 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:12:14.590 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:12:14.750 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:12:14.750 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2437 ms
2023-08-11 17:12:14.928 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:12:15.192 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d8e9d3e
2023-08-11 17:12:15.195 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:12:15.520 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:12:15.664 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:12:15.805 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:12:16.265 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:12:16.268 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:12:16.270 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:12:16.367 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:12:16.623 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:12:16.629 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'securityConfig' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/config/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/security/UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2023-08-11 17:12:16.690 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2023-08-11 17:12:16.694 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.2/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:12:16.694 [main] WARN  o.a.c.loader.WebappClassLoaderBase - The web application [ROOT] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.2/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.2/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.2/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)
 java.base@17.0.2/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.2/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.2/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:12:16.696 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-08-11 17:12:16.696 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:12:16.700 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:12:16.713 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-08-11 17:12:16.753 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)
	at com.ringo.RingoApplication.main(RingoApplication.java:14)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/config/SecurityConfig.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'userService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/security/UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1345)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:210)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:173)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:168)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:153)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:261)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:235)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5144)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userService' defined in file [/Users/aleksandr/Ringo/build/classes/java/main/com/ringo/service/security/UserService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1345)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 63 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.ringo.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1664)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 77 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:515)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1325)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 91 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/change-logs/000-changelog.xml::1691763092588-1::aleksandr (generated):
     Reason: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 103 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/change-logs/000-changelog.xml::1691763092588-1::aleksandr (generated):
     Reason: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:291)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:290)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2447)
	at liquibase.Liquibase.update(Liquibase.java:236)
	at liquibase.Liquibase.update(Liquibase.java:221)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:328)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:283)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1798)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1748)
	... 112 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset liquibase/change-logs/000-changelog.xml::1691763092588-1::aleksandr (generated):
     Reason: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:714)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 130 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "category" already exists [Failed SQL: (0) CREATE TABLE public.category (id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_category PRIMARY KEY (id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:447)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:78)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:161)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1270)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1252)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:679)
	... 150 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "category" already exists
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:443)
	... 155 common frames omitted
2023-08-11 17:12:51.956 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33604 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:12:51.959 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:12:53.609 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:12:53.834 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 209 ms. Found 13 JPA repository interfaces.
2023-08-11 17:12:54.880 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:12:54.895 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:12:54.896 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:12:55.080 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:12:55.081 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2696 ms
2023-08-11 17:12:55.284 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:12:55.565 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46d1b59
2023-08-11 17:12:55.572 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:12:55.857 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:12:56.040 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:12:56.198 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:12:56.574 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:12:56.578 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:12:56.580 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:12:56.604 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:12:56.627 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:12:56.883 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:12:56.887 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-1::aleksandr (generated) ran successfully in 20ms
2023-08-11 17:12:56.910 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:12:56.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-2::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:12:56.935 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:12:56.959 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-3::aleksandr (generated) ran successfully in 39ms
2023-08-11 17:12:56.973 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:12:56.977 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-4::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:12:56.994 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:12:56.999 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-5::aleksandr (generated) ran successfully in 16ms
2023-08-11 17:12:57.017 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:12:57.023 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-6::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:12:57.037 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:12:57.039 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-7::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:12:57.056 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:12:57.058 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-8::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:12:57.073 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:12:57.078 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-9::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:12:57.098 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:12:57.102 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-10::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:12:57.117 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:12:57.120 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-11::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.140 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:12:57.145 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-12::aleksandr (generated) ran successfully in 17ms
2023-08-11 17:12:57.161 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:12:57.165 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-13::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:12:57.186 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:12:57.192 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-14::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:12:57.215 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:12:57.220 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-15::aleksandr (generated) ran successfully in 20ms
2023-08-11 17:12:57.239 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:12:57.242 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-16::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:12:57.261 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:12:57.264 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-17::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:12:57.278 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:12:57.281 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-18::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:12:57.299 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:12:57.323 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-19::aleksandr (generated) ran successfully in 32ms
2023-08-11 17:12:57.338 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:12:57.344 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-20::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:12:57.361 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:12:57.365 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-21::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:12:57.378 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:12:57.382 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-22::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:12:57.395 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:12:57.399 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-23::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.413 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:12:57.417 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-24::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:12:57.428 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:12:57.432 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-25::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:12:57.444 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:12:57.448 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-26::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:12:57.459 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:12:57.464 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-27::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.477 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:12:57.480 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-28::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:12:57.496 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:12:57.499 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-29::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:12:57.515 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:12:57.518 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-30::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.530 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:12:57.533 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-31::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:12:57.546 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:12:57.550 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-32::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.564 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:12:57.567 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-33::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:12:57.579 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:12:57.581 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-34::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:12:57.592 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:12:57.595 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-35::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.607 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:12:57.609 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-36::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:12:57.619 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:12:57.623 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-37::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:12:57.650 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:12:57.654 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-38::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:12:57.665 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:12:57.667 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-39::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:12:57.677 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:12:57.680 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-40::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:12:57.691 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:12:57.694 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-41::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:12:57.704 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:12:57.707 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-42::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:12:57.716 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:12:57.718 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-43::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:12:57.727 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:12:57.728 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-44::aleksandr (generated) ran successfully in 5ms
2023-08-11 17:12:57.739 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:12:57.741 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763092588-45::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:12:57.760 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:12:57.762 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-11 17:12:57.778 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:12:57.784 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 15ms
2023-08-11 17:12:57.809 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:12:57.813 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 20ms
2023-08-11 17:12:57.828 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:12:57.959 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:12:58.035 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:12:58.520 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:13:00.134 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:13:00.151 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:13:04.884 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:13:06.171 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:13:07.012 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:13:09.633 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a9ea4d9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59ca0db6, org.springframework.security.web.context.SecurityContextHolderFilter@27ad844d, org.springframework.security.web.header.HeaderWriterFilter@4ba5272e, org.springframework.web.filter.CorsFilter@4603845b, org.springframework.security.web.authentication.logout.LogoutFilter@7469445d, com.ringo.auth.JwtFilter@3d1b91d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43759560, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4913778f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33293dac, org.springframework.security.web.session.SessionManagementFilter@7d352874, org.springframework.security.web.access.ExceptionTranslationFilter@a674645, org.springframework.security.web.access.intercept.AuthorizationFilter@1ebbb581]
2023-08-11 17:13:10.117 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:13:10.132 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.944 seconds (process running for 19.825)
2023-08-11 17:13:15.745 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:13:15.746 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:13:15.748 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:13:15.841 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:13:36.899 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.ringo.exception.NotFoundException: User [email: esn1@taltech.ee] not found
	at com.ringo.service.security.UserService.lambda$loadUserByUsername$0(UserService.java:20)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ringo.service.security.UserService.loadUserByUsername(UserService.java:19)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:13:44.186 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: esn@taltech.ee] is authenticated
2023-08-11 17:13:54.906 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - User is not found
2023-08-11 17:14:01.083 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:14:15.708 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:14:15.716 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:14:15.721 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:14:50.256 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33646 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:14:50.261 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:14:51.999 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:14:52.214 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 202 ms. Found 13 JPA repository interfaces.
2023-08-11 17:14:53.379 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:14:53.403 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:14:53.403 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:14:53.716 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:14:53.717 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3054 ms
2023-08-11 17:14:54.025 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:14:54.289 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d8e9d3e
2023-08-11 17:14:54.293 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:14:54.614 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:14:54.751 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:14:54.875 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:14:55.268 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:14:55.272 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:14:55.274 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:14:55.376 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:14:55.533 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:14:55.658 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:14:55.724 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:14:56.192 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:14:57.655 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:14:57.669 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:15:01.974 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:15:02.792 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:15:03.620 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:15:06.799 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e07469a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7432a39e, org.springframework.security.web.context.SecurityContextHolderFilter@315139e2, org.springframework.security.web.header.HeaderWriterFilter@53279691, org.springframework.web.filter.CorsFilter@408f3054, org.springframework.security.web.authentication.logout.LogoutFilter@6ad6484, com.ringo.auth.JwtFilter@53fa630, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dc82d99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28e6f5c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f88d401, org.springframework.security.web.session.SessionManagementFilter@38f183e9, org.springframework.security.web.access.ExceptionTranslationFilter@1eea09a4, org.springframework.security.web.access.intercept.AuthorizationFilter@24d7df03]
2023-08-11 17:15:07.243 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:15:07.258 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.656 seconds (process running for 18.339)
2023-08-11 17:15:11.737 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:15:11.738 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:15:11.740 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:15:11.894 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:15:27.906 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:15:27.911 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:15:27.915 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:15:42.621 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33678 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:15:42.626 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:15:44.460 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:15:44.691 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 215 ms. Found 13 JPA repository interfaces.
2023-08-11 17:15:45.880 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:15:45.901 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:15:45.902 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:15:46.108 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:15:46.108 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3047 ms
2023-08-11 17:15:46.355 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:15:46.674 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d74cbbd
2023-08-11 17:15:46.678 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:15:46.850 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:15:47.040 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:15:47.186 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:15:47.601 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:15:47.605 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:15:47.608 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:15:47.729 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:15:47.878 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:15:48.026 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:15:48.107 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:15:48.554 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:15:49.940 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:15:49.951 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:15:55.109 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:15:55.607 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:15:56.136 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:16:00.178 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@236a641a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c9a5397, org.springframework.security.web.context.SecurityContextHolderFilter@2c49bc22, org.springframework.security.web.header.HeaderWriterFilter@315139e2, org.springframework.web.filter.CorsFilter@197d6cc9, org.springframework.security.web.authentication.logout.LogoutFilter@343f01c7, com.ringo.auth.JwtFilter@5a07088b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b406bc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30d0e28e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@198fb504, org.springframework.security.web.session.SessionManagementFilter@41fd7740, org.springframework.security.web.access.ExceptionTranslationFilter@23497c5e, org.springframework.security.web.access.intercept.AuthorizationFilter@1c486cec]
2023-08-11 17:16:00.675 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:16:00.692 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.801 seconds (process running for 19.639)
2023-08-11 17:16:02.914 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:16:02.921 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:16:02.923 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 17:16:03.081 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:18:00.825 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:18:00.826 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (3, 3, Phone, +372 1234 5678, null).
2023-08-11 17:18:00.842 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:18:28.250 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:18:28.254 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:18:28.259 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:22:34.739 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33835 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:22:34.743 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:22:36.428 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:22:36.620 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 180 ms. Found 13 JPA repository interfaces.
2023-08-11 17:22:37.666 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:22:37.688 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:22:37.688 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:22:37.879 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:22:37.880 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2733 ms
2023-08-11 17:22:38.065 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:22:38.322 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3e2d44f3
2023-08-11 17:22:38.328 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:22:38.623 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:22:38.779 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:22:38.896 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:22:39.321 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:22:39.323 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:22:39.327 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:22:39.350 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:22:39.364 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:22:39.556 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:22:39.561 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-1::aleksandr (generated) ran successfully in 16ms
2023-08-11 17:22:39.577 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:22:39.582 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-2::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:22:39.597 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:22:39.600 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-3::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:22:39.612 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:22:39.616 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-4::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:39.633 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:22:39.639 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-5::aleksandr (generated) ran successfully in 17ms
2023-08-11 17:22:39.656 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:22:39.659 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-6::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:22:39.672 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:22:39.676 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-7::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:39.691 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:22:39.695 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-8::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:22:39.714 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:22:39.719 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-9::aleksandr (generated) ran successfully in 17ms
2023-08-11 17:22:39.735 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:22:39.739 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-10::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:22:39.753 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:22:39.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-11::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:22:39.769 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:22:39.776 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-12::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:22:39.788 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:22:39.791 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-13::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:22:39.807 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:22:39.812 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-14::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:22:39.828 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:22:39.833 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-15::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:22:39.848 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:22:39.851 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-16::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:22:39.864 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:22:39.884 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-17::aleksandr (generated) ran successfully in 27ms
2023-08-11 17:22:39.897 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:22:39.901 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-18::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:39.912 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:22:39.915 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-19::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:22:39.928 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:22:39.932 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-20::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:22:39.950 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:22:39.955 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-21::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:22:39.972 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:22:39.977 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-22::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:22:39.991 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:22:39.995 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-23::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:40.009 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:22:40.014 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-24::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:22:40.028 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:22:40.031 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-25::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:40.043 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:22:40.046 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-26::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:22:40.057 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:22:40.062 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-27::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:22:40.072 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:22:40.076 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-28::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:22:40.086 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:22:40.088 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-29::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:22:40.097 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:22:40.099 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.110 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:22:40.112 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-31::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:22:40.121 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:22:40.123 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-32::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.134 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:22:40.137 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-33::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:22:40.147 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:22:40.149 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-34::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.159 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:22:40.161 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-35::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.170 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:22:40.173 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-36::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.181 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:22:40.183 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-37::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.192 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:22:40.195 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-38::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.203 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:22:40.205 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-39::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:22:40.214 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:22:40.218 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-40::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:22:40.230 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:22:40.233 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-41::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:40.248 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:22:40.251 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-42::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:22:40.272 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:22:40.278 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-43::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:22:40.294 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:22:40.297 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-44::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:22:40.310 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:22:40.315 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763702015-45::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:22:40.339 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:22:40.342 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-11 17:22:40.353 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:22:40.356 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-11 17:22:40.370 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:22:40.375 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-11 17:22:40.387 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:22:40.530 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:22:40.640 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:22:41.168 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:22:42.699 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:22:42.712 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:22:48.612 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:22:49.162 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:22:50.006 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:22:53.393 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cdf48b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ce4f3ac, org.springframework.security.web.context.SecurityContextHolderFilter@6799243b, org.springframework.security.web.header.HeaderWriterFilter@2ab0114a, org.springframework.web.filter.CorsFilter@7980eb2, org.springframework.security.web.authentication.logout.LogoutFilter@7c5f244c, com.ringo.auth.JwtFilter@210b4145, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2203fa4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a674645, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1497efcc, org.springframework.security.web.session.SessionManagementFilter@444d2bb6, org.springframework.security.web.access.ExceptionTranslationFilter@24d5a3b8, org.springframework.security.web.access.intercept.AuthorizationFilter@3be76b8d]
2023-08-11 17:22:53.869 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:22:53.883 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.877 seconds (process running for 20.914)
2023-08-11 17:22:58.956 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:22:58.957 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:22:58.959 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 17:22:59.066 [http-nio-8080-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.ringo.exception.NotFoundException: User [email: esn@taltech.ee] not found
	at com.ringo.service.security.UserService.lambda$loadUserByUsername$0(UserService.java:20)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.ringo.service.security.UserService.loadUserByUsername(UserService.java:19)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:45)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:23:03.507 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:23:07.295 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: esn@taltech.ee] is authenticated
2023-08-11 17:23:15.293 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:23:25.404 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'PUT' is not supported
2023-08-11 17:23:58.233 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:23:58.236 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:23:58.243 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:27:28.318 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 33961 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:27:28.324 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:27:30.038 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:27:30.229 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 178 ms. Found 13 JPA repository interfaces.
2023-08-11 17:27:31.248 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:27:31.268 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:27:31.270 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:27:31.466 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:27:31.467 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2720 ms
2023-08-11 17:27:31.632 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:27:31.905 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6481dce5
2023-08-11 17:27:31.910 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:27:32.259 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:27:32.424 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:27:32.557 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:27:32.996 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:27:32.998 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:27:33.000 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:27:33.027 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:27:33.041 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:27:33.244 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:27:33.248 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-1::aleksandr (generated) ran successfully in 17ms
2023-08-11 17:27:33.264 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:27:33.267 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-2::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.283 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:27:33.288 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-3::aleksandr (generated) ran successfully in 16ms
2023-08-11 17:27:33.303 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:27:33.306 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-4::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:27:33.322 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:27:33.325 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-5::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:27:33.340 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:27:33.343 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-6::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:27:33.353 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:27:33.356 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-7::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:27:33.368 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:27:33.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-8::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.388 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:27:33.391 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-9::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:27:33.407 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:27:33.410 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-10::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:27:33.422 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:27:33.424 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-11::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.440 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:27:33.442 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-12::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:27:33.455 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:27:33.458 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-13::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:27:33.471 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:27:33.475 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-14::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:27:33.493 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:27:33.498 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-15::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:27:33.513 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:27:33.516 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-16::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.529 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:27:33.532 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-17::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:27:33.547 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:27:33.551 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-18::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:27:33.567 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:27:33.572 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-19::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:27:33.588 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:27:33.591 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-20::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:27:33.605 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:27:33.608 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-21::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:27:33.619 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:27:33.622 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-22::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.631 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:27:33.637 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-23::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.646 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:27:33.649 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-24::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:27:33.660 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:27:33.663 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-25::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.674 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:27:33.677 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-26::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:27:33.686 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:27:33.690 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-27::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.699 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:27:33.703 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-28::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.713 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:27:33.716 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-29::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:27:33.728 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:27:33.730 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:27:33.741 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:27:33.746 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-31::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.757 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:27:33.759 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-32::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:27:33.770 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:27:33.773 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-33::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:27:33.783 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:27:33.786 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-34::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:27:33.796 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:27:33.800 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.811 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:27:33.815 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-36::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.829 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:27:33.833 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-37::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.849 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:27:33.854 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-38::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:27:33.869 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:27:33.874 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-39::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:27:33.888 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:27:33.893 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-40::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:27:33.904 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:27:33.906 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-41::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:27:33.918 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:27:33.922 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-42::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:27:33.931 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:27:33.936 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-43::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:27:33.946 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:27:33.948 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-44::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:27:33.959 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:27:33.961 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691763997805-45::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:27:33.980 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:27:33.983 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 16ms
2023-08-11 17:27:33.996 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:27:33.999 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-11 17:27:34.014 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:27:34.016 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 10ms
2023-08-11 17:27:34.030 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:27:34.181 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:27:34.274 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:27:34.771 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:27:36.324 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:27:36.339 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:27:41.191 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:27:41.755 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:27:42.282 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:27:44.979 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62418263, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd051c4, org.springframework.security.web.context.SecurityContextHolderFilter@4fbc7da0, org.springframework.security.web.header.HeaderWriterFilter@45c34a2, org.springframework.web.filter.CorsFilter@58182d7, org.springframework.security.web.authentication.logout.LogoutFilter@6593f4fd, com.ringo.auth.JwtFilter@130901fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a0b3704, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@444d2bb6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11483b6f, org.springframework.security.web.session.SessionManagementFilter@1af03386, org.springframework.security.web.access.ExceptionTranslationFilter@2e16c98b, org.springframework.security.web.access.intercept.AuthorizationFilter@4ad667c8]
2023-08-11 17:27:45.441 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:27:45.455 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.901 seconds (process running for 19.072)
2023-08-11 17:28:25.448 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:28:25.449 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:28:25.452 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 17:28:25.579 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:28:30.436 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: esn@taltech.ee] is authenticated
2023-08-11 17:28:48.749 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:28:56.832 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:28:56.833 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (3, 3, Phone, +372 1234 5678, null).
2023-08-11 17:28:56.855 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:30:38.510 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:30:38.515 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:30:38.518 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:30:52.182 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34036 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:30:52.186 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:30:53.985 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:30:54.198 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 197 ms. Found 13 JPA repository interfaces.
2023-08-11 17:30:55.245 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:30:55.262 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:30:55.262 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:30:55.477 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:30:55.477 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2832 ms
2023-08-11 17:30:55.682 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:30:55.893 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4586a8aa
2023-08-11 17:30:55.897 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:30:56.121 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:30:56.293 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:30:56.466 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:30:56.948 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:30:56.956 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:30:56.958 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:30:57.075 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:30:57.246 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:30:57.387 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:30:57.467 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:30:58.012 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:30:59.673 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:30:59.690 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:31:06.023 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:31:06.853 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:31:07.356 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:31:11.653 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@228a6823, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74197f00, org.springframework.security.web.context.SecurityContextHolderFilter@7e9e125f, org.springframework.security.web.header.HeaderWriterFilter@41c22d59, org.springframework.web.filter.CorsFilter@3644d12a, org.springframework.security.web.authentication.logout.LogoutFilter@24d7df03, com.ringo.auth.JwtFilter@6d5376b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f6b60ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2541c84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38e4697d, org.springframework.security.web.session.SessionManagementFilter@10c04710, org.springframework.security.web.access.ExceptionTranslationFilter@14d6f58f, org.springframework.security.web.access.intercept.AuthorizationFilter@55f066b4]
2023-08-11 17:31:12.161 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:31:12.179 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.672 seconds (process running for 22.173)
2023-08-11 17:31:14.800 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:31:14.801 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:31:14.802 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 17:31:14.984 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:31:19.622 [http-nio-8080-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:31:19.623 [http-nio-8080-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (4, 3, Phone, +372 1234 5678, null).
2023-08-11 17:31:19.639 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:32:37.715 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:32:37.716 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (5, 3, Phone, +372 1234 5678, null).
2023-08-11 17:32:37.723 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:33:00.512 [http-nio-8080-exec-7] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:33:00.513 [http-nio-8080-exec-7] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (6, 3, Phone, +372 1234 5678, null).
2023-08-11 17:33:00.518 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:33:58.905 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:33:58.906 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (7, 3, Phone, +372 1234 5678, null).
2023-08-11 17:33:58.912 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:34:11.149 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:34:11.150 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (8, 3, Phone, +372 1234 5678, null).
2023-08-11 17:34:11.155 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:35:29.001 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34138 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:35:29.004 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:35:30.517 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:35:30.706 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 175 ms. Found 13 JPA repository interfaces.
2023-08-11 17:35:31.670 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:35:31.685 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:35:31.685 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:35:31.840 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:35:31.841 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2477 ms
2023-08-11 17:35:32.014 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:35:32.223 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-11 17:35:32.226 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:35:32.443 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:35:32.569 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:35:32.777 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:35:33.239 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:35:33.243 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:35:33.245 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:35:33.330 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:35:33.466 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:35:33.585 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:35:33.652 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:35:34.080 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:35:35.462 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:35:35.477 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:35:40.089 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:35:40.595 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:35:41.420 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:35:44.339 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c486cec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fc5199, org.springframework.security.web.context.SecurityContextHolderFilter@41fd7740, org.springframework.security.web.header.HeaderWriterFilter@38f183e9, org.springframework.web.filter.CorsFilter@33ef701e, org.springframework.security.web.authentication.logout.LogoutFilter@6f88d401, com.ringo.auth.JwtFilter@11885841, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17778985, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c49bc22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37df3dee, org.springframework.security.web.session.SessionManagementFilter@2f6b60ee, org.springframework.security.web.access.ExceptionTranslationFilter@1fe24f79, org.springframework.security.web.access.intercept.AuthorizationFilter@38e4697d]
2023-08-11 17:35:44.790 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:35:44.807 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.468 seconds (process running for 17.308)
2023-08-11 17:35:50.718 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:35:50.719 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:35:50.722 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 17:35:50.975 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:35:50.975 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (9, 3, Phone, +372 1234 5678, null).
2023-08-11 17:35:50.995 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:35:51.907 [http-nio-8080-exec-4] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:35:51.907 [http-nio-8080-exec-4] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (10, 3, Phone, +372 1234 5678, null).
2023-08-11 17:35:51.911 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:35:54.061 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:35:54.064 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:35:54.067 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:35:58.881 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34148 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:35:58.885 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:36:00.720 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:36:00.949 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 214 ms. Found 13 JPA repository interfaces.
2023-08-11 17:36:02.079 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:36:02.100 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:36:02.100 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:36:02.280 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:36:02.281 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2971 ms
2023-08-11 17:36:02.500 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:36:02.786 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6481dce5
2023-08-11 17:36:02.792 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:36:02.998 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:36:03.185 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:36:03.382 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:36:03.846 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:36:03.850 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:36:03.854 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:36:03.972 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:36:04.131 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:36:04.307 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:36:04.389 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:36:04.833 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:36:06.394 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:36:06.407 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:36:11.836 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:36:13.166 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:36:13.684 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:36:16.625 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52ac57e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2396e6e1, org.springframework.security.web.context.SecurityContextHolderFilter@2541c84, org.springframework.security.web.header.HeaderWriterFilter@1fe24f79, org.springframework.web.filter.CorsFilter@6b5f91a5, org.springframework.security.web.authentication.logout.LogoutFilter@6e07469a, com.ringo.auth.JwtFilter@3b30409, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41fd7740, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35e50381, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c486cec, org.springframework.security.web.session.SessionManagementFilter@7e9e125f, org.springframework.security.web.access.ExceptionTranslationFilter@5ea52724, org.springframework.security.web.access.intercept.AuthorizationFilter@228a6823]
2023-08-11 17:36:17.110 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:36:17.128 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.905 seconds (process running for 19.907)
2023-08-11 17:36:21.103 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:36:21.103 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:36:21.105 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:36:41.927 [http-nio-8080-exec-1] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2023-08-11 17:36:41.928 [http-nio-8080-exec-1] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "organisation_id" of relation "label" violates not-null constraint
  Detail: Failing row contains (11, 3, Phone, +372 1234 5678, null).
2023-08-11 17:36:41.943 [http-nio-8080-exec-1] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [organisation_id" of relation "label]
2023-08-11 17:41:14.993 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34285 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:41:14.999 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:41:16.570 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:41:16.773 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 188 ms. Found 13 JPA repository interfaces.
2023-08-11 17:41:17.809 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:41:17.832 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:41:17.833 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:41:18.043 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:41:18.044 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2658 ms
2023-08-11 17:41:18.229 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:41:18.497 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61d2f267
2023-08-11 17:41:18.501 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:41:18.868 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:41:19.049 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:41:19.189 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:41:19.627 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:41:19.630 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:41:19.632 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:41:19.661 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:41:19.675 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:41:19.894 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:41:19.898 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 17ms
2023-08-11 17:41:19.921 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:41:19.926 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 16ms
2023-08-11 17:41:19.980 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:41:19.984 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 49ms
2023-08-11 17:41:19.998 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:41:20.003 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.021 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:41:20.024 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:41:20.039 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:41:20.042 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:41:20.055 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:41:20.059 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.074 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:41:20.076 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:41:20.091 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:41:20.097 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:41:20.111 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:41:20.114 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.125 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:41:20.129 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.146 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:41:20.149 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:41:20.160 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:41:20.164 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.176 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:41:20.182 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:41:20.198 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:41:20.203 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 16ms
2023-08-11 17:41:20.218 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:41:20.221 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:41:20.234 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:41:20.237 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.251 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:41:20.255 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:41:20.270 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:41:20.273 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.288 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:41:20.291 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:41:20.308 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:41:20.313 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.323 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:41:20.326 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.337 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:41:20.340 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.351 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:41:20.354 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.364 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:41:20.366 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.375 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:41:20.379 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.390 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:41:20.394 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.404 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:41:20.406 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:41:20.419 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:41:20.422 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.433 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:41:20.436 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.448 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:41:20.450 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.463 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:41:20.467 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:41:20.478 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:41:20.481 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.491 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:41:20.496 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.507 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:41:20.509 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:41:20.522 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:41:20.524 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:41:20.534 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:41:20.537 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:41:20.546 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:41:20.549 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.558 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:41:20.561 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:41:20.572 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:41:20.575 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:41:20.587 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:41:20.589 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:41:20.601 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:41:20.605 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.615 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:41:20.618 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:41:20.630 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:41:20.633 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:41:20.642 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:41:20.647 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:41:20.675 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:41:20.679 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 26ms
2023-08-11 17:41:20.692 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:41:20.698 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 12ms
2023-08-11 17:41:20.716 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:41:20.719 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-11 17:41:20.732 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:41:20.867 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:41:20.994 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:41:21.546 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:41:23.100 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:41:23.112 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:41:28.669 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:41:29.567 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:41:30.473 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:41:33.776 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59ca0db6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33293dac, org.springframework.security.web.context.SecurityContextHolderFilter@738f6e44, org.springframework.security.web.header.HeaderWriterFilter@76c9658c, org.springframework.web.filter.CorsFilter@414b5798, org.springframework.security.web.authentication.logout.LogoutFilter@152e530d, com.ringo.auth.JwtFilter@5304ac92, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4913778f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2571d0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@384841e3, org.springframework.security.web.session.SessionManagementFilter@3f31ff7a, org.springframework.security.web.access.ExceptionTranslationFilter@247113ce, org.springframework.security.web.access.intercept.AuthorizationFilter@27d9ba11]
2023-08-11 17:41:34.245 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:41:34.261 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.991 seconds (process running for 21.1)
2023-08-11 17:41:39.564 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:41:39.565 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:41:39.568 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 17:41:39.682 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 17:41:42.815 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: esn@taltech.ee] is authenticated
2023-08-11 17:41:51.350 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:42:32.651 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 17:42:38.909 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:42:38.917 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:42:38.921 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:51:15.246 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34501 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:51:15.251 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:51:16.859 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:51:17.060 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 185 ms. Found 13 JPA repository interfaces.
2023-08-11 17:51:18.111 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:51:18.137 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:51:18.138 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:51:18.336 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:51:18.336 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2675 ms
2023-08-11 17:51:18.540 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:51:18.813 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 17:51:18.817 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:51:19.151 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:51:19.281 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:51:19.428 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:51:19.899 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:51:19.903 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:51:19.906 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:51:19.999 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:51:20.151 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:51:20.279 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:51:20.379 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:51:20.878 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:51:22.504 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:51:22.516 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:51:28.042 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:51:28.862 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:51:29.732 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:51:33.371 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9e3c653, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6da075fe, org.springframework.security.web.context.SecurityContextHolderFilter@73536bcc, org.springframework.security.web.header.HeaderWriterFilter@4dc1c3a8, org.springframework.web.filter.CorsFilter@52bef30b, org.springframework.security.web.authentication.logout.LogoutFilter@52ac57e7, com.ringo.auth.JwtFilter@1cd7bc66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ca64b79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422179c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34d4aea7, org.springframework.security.web.session.SessionManagementFilter@1b406bc2, org.springframework.security.web.access.ExceptionTranslationFilter@28e6f5c7, org.springframework.security.web.access.intercept.AuthorizationFilter@198fb504]
2023-08-11 17:51:33.895 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:51:33.910 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.442 seconds (process running for 20.673)
2023-08-11 17:52:23.194 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:52:23.196 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:52:23.198 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:52:23.311 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:24.068 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:52:24.197 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:24.402 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:24.515 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:52:24.568 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:24.677 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:52:24.719 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:24.956 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:25.330 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:52:25.446 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:25.529 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:52:25.596 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:25.705 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:52:25.737 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:25.979 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:26.087 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:26.308 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:26.377 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:26.596 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:26.710 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 17:52:26.826 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:52:26.909 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.016 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:52:27.061 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:52:27.099 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.201 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:52:27.234 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.343 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:52:27.380 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.589 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.596 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:52:27.622 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.632 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:52:27.667 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:52:27.690 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:52:27.736 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:27.745 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:52:27.771 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:27.780 [http-nio-8080-exec-13] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:52:27.818 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:27.828 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:52:27.862 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:52:27.868 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:54:45.547 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:54:45.553 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:54:45.556 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:55:03.774 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34627 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:55:03.777 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:55:05.435 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:55:05.631 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 181 ms. Found 13 JPA repository interfaces.
2023-08-11 17:55:06.609 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:55:06.627 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:55:06.628 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:55:06.788 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:55:06.788 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2608 ms
2023-08-11 17:55:06.965 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:55:07.195 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5d3f99d7
2023-08-11 17:55:07.198 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:55:07.547 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:55:07.727 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:55:07.840 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:55:08.218 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:55:08.222 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:55:08.224 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:55:08.244 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:55:08.257 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:55:08.478 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:55:08.484 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 20ms
2023-08-11 17:55:08.511 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:55:08.519 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 20ms
2023-08-11 17:55:08.542 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:55:08.546 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:55:08.559 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:55:08.561 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:55:08.577 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:55:08.579 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:55:08.594 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:55:08.600 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:55:08.612 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:55:08.615 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:55:08.628 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:55:08.633 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:55:08.649 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:55:08.652 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:55:08.669 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:55:08.672 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:55:08.687 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:55:08.690 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:55:08.711 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:55:08.715 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 18ms
2023-08-11 17:55:08.730 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:55:08.735 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:55:08.750 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:55:08.752 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:55:08.768 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:55:08.772 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:55:08.789 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:55:08.793 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:55:08.811 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:55:08.816 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:55:08.836 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:55:08.840 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:55:08.859 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:55:08.863 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 16ms
2023-08-11 17:55:08.881 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:55:08.887 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:55:08.905 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:55:08.908 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:55:08.920 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:55:08.922 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:08.933 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:55:08.939 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:55:08.948 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:55:08.952 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:55:08.961 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:55:08.964 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:55:08.975 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:55:08.978 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:55:08.989 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:55:08.992 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:55:09.003 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:55:09.005 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:55:09.014 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:55:09.016 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:55:09.028 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:55:09.030 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:55:09.038 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:55:09.040 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:55:09.048 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:55:09.052 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:55:09.061 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:55:09.063 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:55:09.074 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:55:09.077 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:55:09.088 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:55:09.090 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:09.101 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:55:09.105 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:09.115 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:55:09.119 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:09.131 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:55:09.135 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:09.146 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:55:09.150 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:09.163 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:55:09.165 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:55:09.177 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:55:09.180 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:55:09.193 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:55:09.196 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:55:09.206 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:55:09.208 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:55:09.220 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:55:09.222 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:55:09.230 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:55:09.232 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 5ms
2023-08-11 17:55:09.252 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:55:09.256 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-11 17:55:09.267 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:55:09.271 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-11 17:55:09.287 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:55:09.289 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-11 17:55:09.303 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:55:09.440 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:55:09.538 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:55:09.994 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:55:11.442 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:55:11.465 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:55:15.832 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:55:16.761 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:55:17.616 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:55:21.472 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5789d61d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a00446, org.springframework.security.web.context.SecurityContextHolderFilter@4ad667c8, org.springframework.security.web.header.HeaderWriterFilter@3f31ff7a, org.springframework.web.filter.CorsFilter@31e08c61, org.springframework.security.web.authentication.logout.LogoutFilter@384841e3, com.ringo.auth.JwtFilter@46984524, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67b9b79c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62418263, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50f77755, org.springframework.security.web.session.SessionManagementFilter@686aa9c9, org.springframework.security.web.access.ExceptionTranslationFilter@32eb46d7, org.springframework.security.web.access.intercept.AuthorizationFilter@7b35798b]
2023-08-11 17:55:21.897 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:55:21.911 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.785 seconds (process running for 19.48)
2023-08-11 17:55:33.494 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:55:33.495 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:55:33.497 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:55:33.607 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:34.268 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:55:34.386 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:34.561 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:34.670 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:55:34.726 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:34.831 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:55:34.869 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:35.091 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:35.459 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:55:35.572 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:35.662 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:55:35.711 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:35.814 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:55:35.843 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:36.059 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:36.168 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:36.387 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:36.469 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:36.693 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:36.804 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 17:55:36.915 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:37.007 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:37.114 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:55:37.152 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:55:37.189 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:37.290 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:55:37.318 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:37.420 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:55:37.453 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:37.743 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:55:37.867 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 17:55:37.937 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:37.946 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:55:37.981 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:37.991 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:55:38.032 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:55:38.042 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:55:38.098 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:38.107 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:55:38.139 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:38.147 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:55:38.179 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:38.186 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:55:38.211 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:55:38.217 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:57:16.476 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:57:16.483 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:57:16.487 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 17:57:27.089 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34692 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 17:57:27.092 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 17:57:28.675 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 17:57:28.874 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 186 ms. Found 13 JPA repository interfaces.
2023-08-11 17:57:29.893 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 17:57:29.911 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 17:57:29.911 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 17:57:30.080 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 17:57:30.081 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2621 ms
2023-08-11 17:57:30.280 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 17:57:30.507 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30fbc23
2023-08-11 17:57:30.512 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 17:57:30.819 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 17:57:31.000 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 17:57:31.115 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 17:57:31.483 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 17:57:31.486 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 17:57:31.488 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 17:57:31.511 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 17:57:31.525 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 17:57:31.751 [main] INFO  liquibase.changelog - Table category created
2023-08-11 17:57:31.754 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:57:31.773 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 17:57:31.777 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:31.804 [main] INFO  liquibase.changelog - Table event created
2023-08-11 17:57:31.810 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 25ms
2023-08-11 17:57:31.824 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 17:57:31.827 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:31.842 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 17:57:31.845 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:57:31.860 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 17:57:31.864 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:57:31.875 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 17:57:31.878 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:57:31.892 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 17:57:31.896 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:57:31.912 [main] INFO  liquibase.changelog - Table label created
2023-08-11 17:57:31.916 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:31.932 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 17:57:31.935 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:31.949 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 17:57:31.952 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:57:31.970 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 17:57:31.974 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 15ms
2023-08-11 17:57:31.993 [main] INFO  liquibase.changelog - Table review created
2023-08-11 17:57:31.996 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:32.012 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 17:57:32.014 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 13ms
2023-08-11 17:57:32.032 [main] INFO  liquibase.changelog - Table users created
2023-08-11 17:57:32.035 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:32.050 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 17:57:32.052 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:57:32.065 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 17:57:32.068 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.087 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 17:57:32.092 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:32.111 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 17:57:32.115 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:32.133 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 17:57:32.137 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:32.159 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 17:57:32.163 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 14ms
2023-08-11 17:57:32.177 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 17:57:32.179 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:57:32.192 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 17:57:32.194 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.203 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 17:57:32.207 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:57:32.217 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 17:57:32.220 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 6ms
2023-08-11 17:57:32.231 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 17:57:32.233 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.244 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 17:57:32.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.257 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 17:57:32.259 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.269 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 17:57:32.271 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.281 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 17:57:32.283 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.294 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 17:57:32.297 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.309 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 17:57:32.311 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:57:32.321 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 17:57:32.325 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.336 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 17:57:32.340 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.350 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 17:57:32.353 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:57:32.366 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 17:57:32.369 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.383 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 17:57:32.387 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 10ms
2023-08-11 17:57:32.401 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 17:57:32.404 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 9ms
2023-08-11 17:57:32.420 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 17:57:32.424 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:57:32.437 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 17:57:32.442 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:57:32.457 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 17:57:32.461 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 12ms
2023-08-11 17:57:32.476 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 17:57:32.480 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 11ms
2023-08-11 17:57:32.492 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 17:57:32.494 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 8ms
2023-08-11 17:57:32.503 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 17:57:32.507 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.516 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 17:57:32.519 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 7ms
2023-08-11 17:57:32.538 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:57:32.542 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 16ms
2023-08-11 17:57:32.554 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:57:32.559 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-11 17:57:32.576 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 17:57:32.579 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 13ms
2023-08-11 17:57:32.593 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 17:57:32.715 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 17:57:32.791 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 17:57:33.220 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 17:57:34.758 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 17:57:34.770 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:57:39.549 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 17:57:40.772 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 17:57:41.813 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 17:57:45.646 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2762e667, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b35798b, org.springframework.security.web.context.SecurityContextHolderFilter@12a4937c, org.springframework.security.web.header.HeaderWriterFilter@7fb7be26, org.springframework.web.filter.CorsFilter@158119bf, org.springframework.security.web.authentication.logout.LogoutFilter@756fd0aa, com.ringo.auth.JwtFilter@7a213820, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d87ac2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c5f244c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@351c4384, org.springframework.security.web.session.SessionManagementFilter@6593f4fd, org.springframework.security.web.access.ExceptionTranslationFilter@5194394, org.springframework.security.web.access.intercept.AuthorizationFilter@248f1090]
2023-08-11 17:57:46.069 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 17:57:46.091 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.687 seconds (process running for 20.334)
2023-08-11 17:57:55.897 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 17:57:55.898 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 17:57:55.900 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 17:57:56.017 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:57:56.743 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:57:56.877 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:57.103 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:57:57.218 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:57:57.291 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:57:57.416 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:57:57.465 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:57:57.713 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:58.126 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:57:58.260 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:58.352 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 17:57:58.414 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:57:58.524 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:57:58.556 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:57:58.779 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:58.897 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:57:59.118 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:59.200 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:57:59.423 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:59.536 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 17:57:59.656 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:57:59.738 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:57:59.854 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:57:59.897 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 17:57:59.939 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:58:00.046 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:58:00.075 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:58:00.183 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 17:58:00.223 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:58:00.518 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 17:58:00.638 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 17:58:00.700 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:58:00.706 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:58:00.736 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:58:00.746 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:58:00.783 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 17:58:00.791 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 17:58:00.833 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:58:00.840 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:58:00.865 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:58:00.871 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:58:00.902 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:58:00.907 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:58:00.941 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 17:58:00.951 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 17:59:51.458 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 17:59:51.462 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 17:59:51.464 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:00:01.213 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34733 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:00:01.218 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:00:02.907 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:00:03.115 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 194 ms. Found 13 JPA repository interfaces.
2023-08-11 18:00:04.159 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:00:04.182 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:00:04.182 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:00:04.370 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:00:04.381 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2749 ms
2023-08-11 18:00:04.564 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:00:04.821 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-11 18:00:04.824 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:00:05.143 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:00:05.329 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:00:05.445 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:00:05.920 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:00:05.925 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:00:05.929 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:00:05.958 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:00:05.977 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:00:06.256 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:00:06.260 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:00:06.285 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:00:06.288 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:00:06.311 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:00:06.315 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 19ms
2023-08-11 18:00:06.330 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:00:06.333 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:00:06.351 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:00:06.355 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:00:06.371 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:00:06.374 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:00:06.386 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:00:06.390 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:00:06.404 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:00:06.407 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:00:06.424 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:00:06.429 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:00:06.466 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:00:06.470 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 35ms
2023-08-11 18:00:06.489 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:00:06.492 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:00:06.515 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:00:06.519 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:00:06.538 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:00:06.540 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:00:06.558 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:00:06.562 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:00:06.588 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:00:06.592 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 21ms
2023-08-11 18:00:06.618 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:00:06.621 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:00:06.641 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:00:06.645 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:00:06.669 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:00:06.672 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:00:06.687 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:00:06.690 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:00:06.705 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:00:06.707 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:00:06.722 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:00:06.724 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:00:06.736 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:00:06.738 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:06.750 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:00:06.752 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:06.761 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:00:06.763 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:00:06.771 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:00:06.773 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:00:06.782 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:00:06.784 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:00:06.792 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:00:06.795 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:00:06.803 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:00:06.805 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:00:06.816 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:00:06.818 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:00:06.829 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:00:06.831 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:06.840 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:00:06.843 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:00:06.852 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:00:06.854 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:00:06.867 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:00:06.870 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:00:06.884 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:00:06.888 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:00:06.901 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:00:06.903 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:06.918 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:00:06.922 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:00:06.938 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:00:06.941 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:00:06.953 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:00:06.956 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:06.968 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:00:06.970 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:00:06.981 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:00:06.983 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:00:06.995 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:00:06.998 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:00:07.007 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:00:07.010 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:00:07.021 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:00:07.024 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:07.034 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:00:07.037 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:00:07.048 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:00:07.050 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:00:07.069 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:00:07.072 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 17ms
2023-08-11 18:00:07.084 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:00:07.087 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 9ms
2023-08-11 18:00:07.104 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:00:07.106 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-11 18:00:07.121 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:00:07.277 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:00:07.360 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:00:07.814 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:00:09.294 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:00:09.308 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:00:14.538 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:00:15.389 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:00:16.190 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:00:18.787 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ad667c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77cfbbba, org.springframework.security.web.context.SecurityContextHolderFilter@1af03386, org.springframework.security.web.header.HeaderWriterFilter@7ec16640, org.springframework.web.filter.CorsFilter@53251e03, org.springframework.security.web.authentication.logout.LogoutFilter@4913778f, com.ringo.auth.JwtFilter@71669835, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3325afbc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fbc7da0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67b9b79c, org.springframework.security.web.session.SessionManagementFilter@345b515e, org.springframework.security.web.access.ExceptionTranslationFilter@14ecd8d5, org.springframework.security.web.access.intercept.AuthorizationFilter@686aa9c9]
2023-08-11 18:00:19.263 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:00:19.277 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.668 seconds (process running for 19.32)
2023-08-11 18:00:30.767 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:00:30.768 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:00:30.769 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 18:00:30.866 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:31.547 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:00:31.678 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:31.892 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:31.996 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:00:32.048 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:32.153 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:00:32.200 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:32.425 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:32.799 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:00:32.913 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:32.995 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:00:33.056 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:33.165 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:00:33.204 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:33.427 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:33.535 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:33.752 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:33.822 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:34.043 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:34.155 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:00:34.268 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:34.353 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:34.460 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:00:34.489 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:00:34.528 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:34.630 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:00:34.659 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:34.764 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:00:34.804 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:35.083 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:00:35.201 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:00:35.250 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-11 18:00:35.250 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "organisation" violates foreign key constraint "fk_label_on_organisation" on table "label"
  Detail: Key (id)=(6) is still referenced from table "label".
2023-08-11 18:00:35.262 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_label_on_organisation]
2023-08-11 18:00:35.289 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:35.297 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:00:35.330 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:35.339 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:00:35.374 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:00:35.383 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:00:35.427 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:35.433 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:00:35.462 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:35.470 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:00:35.499 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:35.506 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:00:35.531 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:00:35.539 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:02:01.586 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:02:01.590 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:02:01.595 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:05:26.658 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34847 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:05:26.666 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:05:28.494 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:05:28.693 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 185 ms. Found 13 JPA repository interfaces.
2023-08-11 18:05:29.825 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:05:29.848 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:05:29.850 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:05:30.040 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:05:30.041 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2896 ms
2023-08-11 18:05:30.256 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:05:30.575 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 18:05:30.582 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:05:31.001 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:05:31.218 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:05:31.370 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:05:31.846 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:05:31.849 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:05:31.851 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:05:31.939 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:05:32.093 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:05:32.224 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:05:32.296 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:05:32.775 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:05:34.216 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:05:34.229 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:05:39.011 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:05:40.155 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:05:40.971 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:05:43.475 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68073c8d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1472308f, org.springframework.security.web.context.SecurityContextHolderFilter@5d548872, org.springframework.security.web.header.HeaderWriterFilter@274b3fc6, org.springframework.web.filter.CorsFilter@52bef30b, org.springframework.security.web.authentication.logout.LogoutFilter@5df01ff5, com.ringo.auth.JwtFilter@1cd7bc66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2eb82c04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@720907c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@140fc16f, org.springframework.security.web.session.SessionManagementFilter@119636bf, org.springframework.security.web.access.ExceptionTranslationFilter@198fb504, org.springframework.security.web.access.intercept.AuthorizationFilter@3249c81a]
2023-08-11 18:05:43.907 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:05:43.921 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.982 seconds (process running for 19.572)
2023-08-11 18:05:47.317 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:05:47.318 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:05:47.320 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 18:05:47.417 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: esn@taltech.ee, role: ROLE_ORGANISATION
2023-08-11 18:05:50.623 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: esn@taltech.ee] is authenticated
2023-08-11 18:05:59.228 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-11 18:06:04.526 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23503
2023-08-11 18:06:04.526 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: update or delete on table "organisation" violates foreign key constraint "fk_label_on_organisation" on table "label"
  Detail: Key (id)=(7) is still referenced from table "label".
2023-08-11 18:06:04.544 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [fk_label_on_organisation]
2023-08-11 18:08:41.793 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:08:41.799 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:08:41.805 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:09:02.054 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34919 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:09:02.057 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:09:03.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:09:03.725 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 174 ms. Found 13 JPA repository interfaces.
2023-08-11 18:09:04.667 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:09:04.683 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:09:04.684 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:09:04.834 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:09:04.834 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2441 ms
2023-08-11 18:09:05.000 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:09:05.229 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 18:09:05.232 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:09:05.532 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:09:05.657 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:09:05.767 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:09:06.120 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:09:06.124 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:09:06.127 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:09:06.209 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:09:06.346 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:09:06.458 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:09:06.530 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:09:06.949 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:09:08.341 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:09:08.357 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:09:13.234 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:09:13.744 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:09:14.603 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:09:17.421 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44eb9af1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ad6484, org.springframework.security.web.context.SecurityContextHolderFilter@57e9122f, org.springframework.security.web.header.HeaderWriterFilter@3f5f610d, org.springframework.web.filter.CorsFilter@52bef30b, org.springframework.security.web.authentication.logout.LogoutFilter@6bd5101f, com.ringo.auth.JwtFilter@1cd7bc66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5506ff53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41c22d59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e4382e5, org.springframework.security.web.session.SessionManagementFilter@7076714c, org.springframework.security.web.access.ExceptionTranslationFilter@3b6ccd61, org.springframework.security.web.access.intercept.AuthorizationFilter@4790a29a]
2023-08-11 18:09:17.878 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:09:17.892 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 16.471 seconds (process running for 17.195)
2023-08-11 18:09:20.408 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:09:20.409 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:09:20.412 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 18:09:32.662 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:09:32.683 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:09:32.687 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:09:43.354 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 34937 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:09:43.357 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:09:45.011 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:09:45.224 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 200 ms. Found 13 JPA repository interfaces.
2023-08-11 18:09:46.291 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:09:46.309 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:09:46.309 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:09:46.499 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:09:46.500 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2740 ms
2023-08-11 18:09:46.699 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:09:46.958 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 18:09:46.962 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:09:47.141 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:09:47.382 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:09:47.507 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:09:47.906 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:09:47.910 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:09:47.913 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:09:47.937 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:09:47.954 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:09:48.211 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:09:48.216 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 20ms
2023-08-11 18:09:48.243 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:09:48.247 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:09:48.268 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:09:48.270 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:09:48.283 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:09:48.286 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.304 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:09:48.307 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:09:48.326 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:09:48.329 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:09:48.343 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:09:48.361 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 23ms
2023-08-11 18:09:48.376 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:09:48.379 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:09:48.396 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:09:48.399 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:09:48.417 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:09:48.420 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:09:48.435 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:09:48.437 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:09:48.455 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:09:48.459 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:09:48.474 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:09:48.477 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:09:48.495 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:09:48.498 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:09:48.521 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:09:48.524 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 19ms
2023-08-11 18:09:48.546 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:09:48.550 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:09:48.569 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:09:48.573 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:09:48.598 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:09:48.603 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 19ms
2023-08-11 18:09:48.621 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:09:48.625 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:09:48.639 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:09:48.643 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:09:48.659 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:09:48.662 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:09:48.674 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:09:48.678 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:09:48.695 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:09:48.699 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:09:48.710 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:09:48.712 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.723 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:09:48.726 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.736 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:09:48.738 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:09:48.749 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:09:48.752 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.764 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:09:48.767 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:09:48.775 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:09:48.777 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:09:48.786 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:09:48.788 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:09:48.797 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:09:48.800 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:09:48.810 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:09:48.813 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.824 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:09:48.827 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.839 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:09:48.842 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.854 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:09:48.858 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.869 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:09:48.871 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.883 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:09:48.886 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:09:48.899 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:09:48.901 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:09:48.914 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:09:48.917 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:09:48.928 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:09:48.931 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:09:48.945 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:09:48.948 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:09:48.960 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:09:48.962 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.971 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:09:48.975 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:09:48.985 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:09:48.987 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:09:48.998 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:09:49.000 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:09:49.018 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:09:49.020 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-11 18:09:49.032 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:09:49.034 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 8ms
2023-08-11 18:09:49.050 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:09:49.052 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-11 18:09:49.063 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:09:49.210 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:09:49.298 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:09:49.762 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:09:51.205 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:09:51.218 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:09:56.182 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:09:57.125 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:09:57.996 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:10:00.417 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3cab5869, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ad755c5, org.springframework.security.web.context.SecurityContextHolderFilter@a674645, org.springframework.security.web.header.HeaderWriterFilter@345b515e, org.springframework.web.filter.CorsFilter@3eff5c32, org.springframework.security.web.authentication.logout.LogoutFilter@67b9b79c, com.ringo.auth.JwtFilter@73ec417b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ba5272e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76c9658c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6115b4a0, org.springframework.security.web.session.SessionManagementFilter@6799243b, org.springframework.security.web.access.ExceptionTranslationFilter@2043b3d5, org.springframework.security.web.access.intercept.AuthorizationFilter@1cdf48b9]
2023-08-11 18:10:00.878 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:10:00.891 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.181 seconds (process running for 18.966)
2023-08-11 18:10:16.651 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:10:16.652 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:10:16.656 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 18:10:16.752 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:17.473 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:10:17.615 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:17.802 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:17.929 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:17.994 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:18.113 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:18.160 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:18.396 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:18.783 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:10:18.901 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:18.986 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:10:19.048 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:19.166 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:19.201 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:19.433 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:19.551 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:19.775 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:19.846 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:20.075 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:20.186 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:10:20.301 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:20.384 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:20.494 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:20.538 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:10:20.573 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:20.692 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:20.723 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:20.824 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:20.864 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:21.147 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:21.267 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:10:21.372 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:21.476 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:21.505 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:21.606 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:10:21.630 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:10:21.862 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:10:21.885 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findOrganisationById: 7
2023-08-11 18:10:21.940 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:21.946 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:10:21.983 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:21.991 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:10:22.022 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:22.027 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:10:22.057 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:10:22.065 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:12:07.852 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:12:07.859 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:12:07.862 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:14:04.336 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 35054 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:14:04.340 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:14:05.938 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:14:06.128 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 175 ms. Found 13 JPA repository interfaces.
2023-08-11 18:14:07.047 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:14:07.072 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:14:07.073 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:14:07.231 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:14:07.232 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2520 ms
2023-08-11 18:14:07.408 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:14:07.629 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@360d41d0
2023-08-11 18:14:07.632 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:14:07.952 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:14:08.117 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:14:08.220 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:14:08.588 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:14:08.591 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:14:08.595 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:14:08.620 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:14:08.633 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:14:08.851 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:14:08.856 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:14:08.878 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:14:08.880 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:14:08.900 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:14:08.904 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:14:08.915 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:14:08.918 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:08.932 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:14:08.935 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:14:08.951 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:14:08.954 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:14:08.965 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:14:08.968 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:08.981 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:14:08.984 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:14:09.000 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:14:09.002 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:14:09.018 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:14:09.022 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:14:09.041 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:14:09.046 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:14:09.074 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:14:09.079 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 24ms
2023-08-11 18:14:09.094 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:14:09.097 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:14:09.136 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:14:09.140 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 37ms
2023-08-11 18:14:09.157 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:14:09.160 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:14:09.177 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:14:09.181 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:14:09.198 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:14:09.201 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:14:09.220 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:14:09.223 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:14:09.233 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:14:09.237 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:14:09.249 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:14:09.253 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:14:09.265 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:14:09.267 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:14:09.280 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:14:09.282 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:14:09.294 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:14:09.296 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.306 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:14:09.309 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.319 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:14:09.321 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.330 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:14:09.332 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:14:09.343 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:14:09.345 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.355 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:14:09.357 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.367 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:14:09.370 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.379 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:14:09.381 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:14:09.391 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:14:09.394 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.403 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:14:09.406 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.415 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:14:09.419 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.431 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:14:09.434 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.447 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:14:09.450 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:14:09.462 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:14:09.465 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:14:09.477 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:14:09.479 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.491 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:14:09.494 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.507 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:14:09.512 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:14:09.523 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:14:09.527 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:14:09.538 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:14:09.540 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.554 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:14:09.556 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:14:09.566 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:14:09.569 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.578 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:14:09.580 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:14:09.590 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:14:09.592 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:14:09.612 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:14:09.614 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 17ms
2023-08-11 18:14:09.627 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:14:09.630 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-11 18:14:09.648 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:14:09.651 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 14ms
2023-08-11 18:14:09.666 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:14:09.800 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:14:09.886 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:14:10.314 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:14:11.692 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:14:11.707 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:14:16.258 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:14:17.151 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:14:18.402 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:14:20.850 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e7c780, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60b65a4a, org.springframework.security.web.context.SecurityContextHolderFilter@7fb7be26, org.springframework.security.web.header.HeaderWriterFilter@64298cad, org.springframework.web.filter.CorsFilter@260d878a, org.springframework.security.web.authentication.logout.LogoutFilter@5ad755c5, com.ringo.auth.JwtFilter@511e0453, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32eb46d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d352874, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@363b24aa, org.springframework.security.web.session.SessionManagementFilter@11c27ace, org.springframework.security.web.access.ExceptionTranslationFilter@444d2bb6, org.springframework.security.web.access.intercept.AuthorizationFilter@152e530d]
2023-08-11 18:14:21.287 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:14:21.300 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.556 seconds (process running for 18.262)
2023-08-11 18:14:44.802 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:14:44.804 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:14:44.807 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 18:14:44.928 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:45.571 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:14:45.693 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:45.884 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:45.991 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:46.041 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:46.150 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:46.206 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:46.438 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:46.811 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:14:46.925 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:47.014 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:14:47.072 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:47.180 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:47.213 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:47.441 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:47.558 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:47.776 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:47.844 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:48.064 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:48.175 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:14:48.286 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:48.357 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:48.461 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:48.494 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:14:48.529 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:48.633 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:48.668 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:48.768 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:48.804 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:49.098 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:49.221 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:14:49.304 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:49.405 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:49.433 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:49.533 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:14:49.559 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:14:49.802 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:14:49.822 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findOrganisationById: 7
2023-08-11 18:14:49.881 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:49.890 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:14:49.928 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:49.935 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:14:49.961 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:49.968 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:14:49.996 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:14:50.002 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:16:37.237 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:16:37.368 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:16:37.370 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:16:47.478 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 35112 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:16:47.482 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:16:49.063 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:16:49.280 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 204 ms. Found 13 JPA repository interfaces.
2023-08-11 18:16:50.238 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:16:50.256 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:16:50.256 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:16:50.414 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:16:50.414 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2554 ms
2023-08-11 18:16:50.590 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:16:50.824 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d8e9d3e
2023-08-11 18:16:50.828 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:16:51.137 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:16:51.301 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:16:51.398 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:16:51.767 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:16:51.770 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:16:51.772 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:16:51.796 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:16:51.810 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:16:52.068 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:16:52.071 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:16:52.096 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:16:52.099 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:16:52.123 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:16:52.128 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 22ms
2023-08-11 18:16:52.141 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:16:52.146 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:16:52.167 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:16:52.171 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:16:52.189 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:16:52.192 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:16:52.203 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:16:52.206 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.222 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:16:52.225 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:16:52.297 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:16:52.318 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 86ms
2023-08-11 18:16:52.341 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:16:52.347 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 20ms
2023-08-11 18:16:52.374 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:16:52.379 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:16:52.404 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:16:52.408 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 21ms
2023-08-11 18:16:52.452 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:16:52.461 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 39ms
2023-08-11 18:16:52.487 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:16:52.491 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 20ms
2023-08-11 18:16:52.518 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:16:52.524 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 23ms
2023-08-11 18:16:52.545 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:16:52.549 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:16:52.569 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:16:52.593 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 36ms
2023-08-11 18:16:52.612 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:16:52.617 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:16:52.635 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:16:52.638 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:16:52.655 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:16:52.659 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:16:52.679 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:16:52.683 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:16:52.701 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:16:52.705 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:16:52.719 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:16:52.722 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:16:52.736 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:16:52.739 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:16:52.752 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:16:52.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:16:52.769 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:16:52.772 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.784 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:16:52.787 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.796 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:16:52.798 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:16:52.809 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:16:52.812 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.821 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:16:52.823 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:16:52.834 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:16:52.836 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:16:52.845 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:16:52.847 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:16:52.859 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:16:52.862 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.873 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:16:52.876 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.886 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:16:52.889 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:16:52.901 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:16:52.903 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:16:52.917 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:16:52.920 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:16:52.933 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:16:52.936 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:16:52.950 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:16:52.954 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:16:52.969 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:16:52.973 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:16:52.988 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:16:52.992 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:16:53.007 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:16:53.010 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:16:53.020 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:16:53.022 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:16:53.033 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:16:53.035 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:16:53.043 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:16:53.046 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:16:53.067 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:16:53.069 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 18ms
2023-08-11 18:16:53.082 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:16:53.085 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-11 18:16:53.100 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:16:53.102 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-11 18:16:53.113 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:16:53.247 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:16:53.334 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:16:53.791 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:16:55.300 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:16:55.310 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:16:59.904 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:17:00.738 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:17:01.611 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:17:04.979 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2571d0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a22be4c, org.springframework.security.web.context.SecurityContextHolderFilter@41496617, org.springframework.security.web.header.HeaderWriterFilter@275d46a8, org.springframework.web.filter.CorsFilter@4f355321, org.springframework.security.web.authentication.logout.LogoutFilter@7fb7be26, com.ringo.auth.JwtFilter@198fe398, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a3ace4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ab0114a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6593f4fd, org.springframework.security.web.session.SessionManagementFilter@45c34a2, org.springframework.security.web.access.ExceptionTranslationFilter@28816098, org.springframework.security.web.access.intercept.AuthorizationFilter@738f6e44]
2023-08-11 18:17:05.397 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:17:05.411 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.531 seconds (process running for 19.17)
2023-08-11 18:17:17.078 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:17:17.079 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:17:17.082 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 18:17:17.169 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:17.843 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:17:17.971 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:18.171 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:18.280 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:18.334 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:18.445 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:18.482 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:18.706 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:19.066 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:17:19.185 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:19.263 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:17:19.321 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:19.432 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:19.463 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:19.711 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:19.821 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:20.042 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:20.107 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:20.330 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:20.444 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:17:20.554 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:20.622 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:20.732 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:20.763 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:17:20.804 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:20.910 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:20.942 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:21.056 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:21.088 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:21.367 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:21.480 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:17:21.567 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:21.673 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:21.704 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:21.813 [http-nio-8080-exec-8] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:17:21.841 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:17:22.069 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:17:22.092 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 7
2023-08-11 18:17:22.167 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:22.177 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:17:22.210 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:22.217 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:17:22.248 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:22.254 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:17:22.280 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:17:22.288 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:18:42.214 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:18:42.218 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:18:42.221 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:18:52.789 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 35153 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:18:52.793 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:18:54.408 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:18:54.613 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 191 ms. Found 13 JPA repository interfaces.
2023-08-11 18:18:55.671 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:18:55.686 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:18:55.687 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:18:55.875 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:18:55.876 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2702 ms
2023-08-11 18:18:56.068 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:18:56.303 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 18:18:56.306 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:18:56.701 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:18:56.892 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:18:57.017 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:18:57.389 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:18:57.392 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:18:57.394 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:18:57.417 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:18:57.435 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:18:57.656 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:18:57.659 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:18:57.685 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:18:57.688 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:18:57.716 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:18:57.719 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 22ms
2023-08-11 18:18:57.733 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:18:57.736 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:57.755 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:18:57.757 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:18:57.772 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:18:57.794 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 29ms
2023-08-11 18:18:57.807 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:18:57.809 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:57.822 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:18:57.824 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:57.837 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:18:57.840 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:18:57.853 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:18:57.856 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:18:57.867 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:18:57.869 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:18:57.884 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:18:57.887 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:18:57.900 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:18:57.902 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:18:57.917 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:18:57.919 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:18:57.935 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:18:57.938 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:18:57.953 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:18:57.956 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:18:57.971 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:18:57.973 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:18:57.986 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:18:57.989 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:58.003 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:18:58.006 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:18:58.018 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:18:58.021 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:58.035 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:18:58.038 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:18:58.052 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:18:58.054 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:18:58.067 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:18:58.070 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:18:58.080 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:18:58.082 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:18:58.091 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:18:58.093 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:18:58.103 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:18:58.105 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:18:58.115 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:18:58.117 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:18:58.126 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:18:58.129 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.138 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:18:58.140 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:18:58.149 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:18:58.151 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:18:58.160 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:18:58.163 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.171 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:18:58.173 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 5ms
2023-08-11 18:18:58.184 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:18:58.186 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.197 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:18:58.200 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:58.209 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:18:58.211 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.220 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:18:58.222 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:18:58.230 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:18:58.232 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:18:58.241 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:18:58.243 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.253 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:18:58.256 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.270 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:18:58.274 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:18:58.287 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:18:58.291 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:58.304 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:18:58.307 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:58.318 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:18:58.320 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.331 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:18:58.334 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:18:58.343 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:18:58.346 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:18:58.367 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:18:58.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 19ms
2023-08-11 18:18:58.385 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:18:58.388 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-11 18:18:58.403 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:18:58.406 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-11 18:18:58.419 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:18:58.550 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:18:58.638 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:18:59.043 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:19:00.381 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:19:00.394 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:19:05.085 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:19:05.598 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:19:06.813 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:19:10.574 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3cab5869, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ad755c5, org.springframework.security.web.context.SecurityContextHolderFilter@a674645, org.springframework.security.web.header.HeaderWriterFilter@345b515e, org.springframework.web.filter.CorsFilter@3eff5c32, org.springframework.security.web.authentication.logout.LogoutFilter@67b9b79c, com.ringo.auth.JwtFilter@73ec417b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ba5272e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76c9658c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6115b4a0, org.springframework.security.web.session.SessionManagementFilter@6799243b, org.springframework.security.web.access.ExceptionTranslationFilter@2043b3d5, org.springframework.security.web.access.intercept.AuthorizationFilter@1cdf48b9]
2023-08-11 18:19:10.994 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:19:11.007 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.833 seconds (process running for 19.494)
2023-08-11 18:20:23.250 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:20:23.252 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:20:23.254 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-11 18:20:23.334 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:23.974 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:20:24.096 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:24.268 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:24.376 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:24.426 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:24.531 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:24.576 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:24.799 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:25.164 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:20:25.277 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:25.349 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:20:25.404 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:25.509 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:25.546 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:25.764 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:25.875 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:26.097 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:26.161 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:26.379 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:26.494 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:20:26.608 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:26.722 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:26.832 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:26.866 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:20:26.897 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:26.998 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:27.032 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:27.139 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:27.168 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:27.464 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:27.606 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:20:27.709 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:27.829 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:27.857 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:27.962 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:20:27.996 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:20:28.225 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:20:28.244 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findOrganisationById: 7
2023-08-11 18:20:28.298 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:28.307 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:20:28.335 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:28.343 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:20:28.371 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:28.377 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:20:28.405 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:20:28.411 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:20:46.248 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:20:46.253 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:20:46.256 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:20:55.882 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 35191 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:20:55.885 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:20:57.616 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:20:57.847 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 214 ms. Found 13 JPA repository interfaces.
2023-08-11 18:20:58.863 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:20:58.879 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:20:58.879 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:20:59.054 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:20:59.054 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2780 ms
2023-08-11 18:20:59.246 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:20:59.484 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 18:20:59.487 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:20:59.794 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:20:59.977 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:21:00.092 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:21:00.463 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:21:00.466 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:21:00.469 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:21:00.494 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:21:00.510 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:21:00.771 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:21:00.776 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 22ms
2023-08-11 18:21:00.800 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:21:00.803 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:21:00.826 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:21:00.829 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:21:00.844 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:21:00.846 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:00.863 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:21:00.866 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:21:00.882 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:21:00.886 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:21:00.897 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:21:00.900 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:21:00.912 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:21:00.915 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:00.928 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:21:00.930 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:21:00.943 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:21:00.946 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:21:00.958 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:21:00.961 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:00.976 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:21:00.980 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:21:00.995 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:21:00.998 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:21:01.011 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:21:01.014 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:21:01.030 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:21:01.032 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:21:01.044 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:21:01.047 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:21:01.065 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:21:01.068 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:21:01.087 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:21:01.091 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:21:01.111 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:21:01.114 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:21:01.133 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:21:01.137 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:21:01.157 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:21:01.159 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:01.170 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:21:01.174 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:21:01.226 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:21:01.230 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:21:01.242 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:21:01.245 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:21:01.253 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:21:01.256 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:21:01.266 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:21:01.268 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.278 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:21:01.280 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:21:01.288 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:21:01.290 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.299 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:21:01.301 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.310 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:21:01.312 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.321 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:21:01.323 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.331 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:21:01.334 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.344 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:21:01.347 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:21:01.361 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:21:01.364 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:21:01.376 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:21:01.379 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:01.392 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:21:01.395 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:01.407 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:21:01.410 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:21:01.420 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:21:01.425 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:21:01.437 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:21:01.443 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:21:01.455 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:21:01.459 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:21:01.469 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:21:01.473 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:21:01.484 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:21:01.486 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.496 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:21:01.498 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.508 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:21:01.510 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:21:01.518 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:21:01.520 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:21:01.537 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:21:01.539 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 14ms
2023-08-11 18:21:01.549 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:21:01.552 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 8ms
2023-08-11 18:21:01.564 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:21:01.566 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 9ms
2023-08-11 18:21:01.576 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:21:01.709 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:21:01.792 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:21:02.258 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:21:03.600 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:21:03.612 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:21:08.094 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:21:08.657 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:21:09.885 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:21:12.699 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a00446, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50f77755, org.springframework.security.web.context.SecurityContextHolderFilter@77cfbbba, org.springframework.security.web.header.HeaderWriterFilter@4f98ae97, org.springframework.web.filter.CorsFilter@3eff5c32, org.springframework.security.web.authentication.logout.LogoutFilter@571f925f, com.ringo.auth.JwtFilter@73ec417b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62418263, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1bd051c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7590b28f, org.springframework.security.web.session.SessionManagementFilter@2d87ac2b, org.springframework.security.web.access.ExceptionTranslationFilter@7d352874, org.springframework.security.web.access.intercept.AuthorizationFilter@351c4384]
2023-08-11 18:21:13.116 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:21:13.130 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.854 seconds (process running for 18.525)
2023-08-11 18:21:42.322 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:21:42.323 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:21:42.326 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-11 18:21:42.416 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:43.059 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:21:43.179 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:43.349 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:43.455 [http-nio-8080-exec-5] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:43.503 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:43.608 [http-nio-8080-exec-6] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:43.646 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:43.871 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:44.241 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:21:44.358 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:44.447 [http-nio-8080-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:21:44.498 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:44.601 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:44.628 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:44.855 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:44.962 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:45.185 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:45.256 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:45.483 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:45.598 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:21:45.708 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:45.792 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:45.899 [http-nio-8080-exec-7] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:45.933 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:21:45.965 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:46.066 [http-nio-8080-exec-9] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:46.091 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:46.195 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:46.230 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:46.497 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:46.632 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:21:46.718 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:46.819 [http-nio-8080-exec-2] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:46.848 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:46.951 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - java.lang.NullPointerException: Cannot invoke "java.util.List.forEach(java.util.function.Consumer)" because the return value of "com.ringo.model.company.Organisation.getContacts()" is null
2023-08-11 18:21:46.977 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:21:47.218 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:47.237 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findOrganisationById: 7
2023-08-11 18:21:47.320 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:47.539 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:47.747 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:21:47.750 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:21:47.775 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:21:48.986 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:49.208 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:49.260 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:21:49.261 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:21:49.266 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:21:49.658 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-11 18:21:49.780 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:50.006 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:50.025 [http-nio-8080-exec-9] INFO  c.r.s.company.ParticipantService - findParticipantById: 10
2023-08-11 18:21:50.092 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:21:50.314 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:21:50.382 [http-nio-8080-exec-4] INFO  c.r.s.company.ParticipantService - findParticipantById: 11
2023-08-11 18:22:25.644 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:22:25.648 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:22:25.652 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:23:24.079 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 35250 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:23:24.083 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:23:25.882 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:23:26.138 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 242 ms. Found 13 JPA repository interfaces.
2023-08-11 18:23:27.322 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:23:27.343 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:23:27.353 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:23:27.537 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:23:27.537 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3034 ms
2023-08-11 18:23:27.747 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:23:28.012 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@85ab964
2023-08-11 18:23:28.016 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:23:28.211 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:23:28.408 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:23:28.540 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:23:28.925 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:23:28.930 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:23:28.934 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:23:28.966 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:23:28.988 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:23:29.284 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:23:29.287 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 17ms
2023-08-11 18:23:29.311 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:23:29.315 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:23:29.338 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:23:29.342 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 20ms
2023-08-11 18:23:29.355 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:23:29.360 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:23:29.381 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:23:29.384 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:23:29.401 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:23:29.405 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:23:29.435 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:23:29.437 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.451 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:23:29.453 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:29.468 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:23:29.471 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:23:29.486 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:23:29.488 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:23:29.502 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:23:29.504 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:29.520 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:23:29.523 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:23:29.541 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:23:29.544 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:23:29.561 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:23:29.565 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:23:29.587 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:23:29.591 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:23:29.611 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:23:29.615 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 16ms
2023-08-11 18:23:29.634 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:23:29.638 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 15ms
2023-08-11 18:23:29.658 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:23:29.663 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:23:29.682 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:23:29.686 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 14ms
2023-08-11 18:23:29.702 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:23:29.706 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:23:29.722 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:23:29.726 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:23:29.739 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:23:29.743 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:23:29.753 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:23:29.756 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:29.769 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:23:29.772 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.785 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:23:29.787 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.802 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:23:29.806 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:29.821 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:23:29.826 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:23:29.840 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:23:29.844 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:23:29.857 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:23:29.862 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:23:29.871 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:23:29.875 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.885 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:23:29.887 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:23:29.900 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:23:29.902 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:23:29.913 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:23:29.915 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.927 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:23:29.930 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:29.939 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:23:29.943 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.952 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:23:29.954 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:23:29.966 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:23:29.969 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:29.982 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:23:29.985 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:29.998 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:23:30.001 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:23:30.018 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:23:30.022 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:23:30.039 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:23:30.044 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:23:30.055 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:23:30.059 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:23:30.069 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:23:30.071 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:23:30.081 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:23:30.083 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:23:30.093 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:23:30.095 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:23:30.112 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:23:30.115 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 15ms
2023-08-11 18:23:30.128 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:23:30.130 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-11 18:23:30.145 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:23:30.147 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-11 18:23:30.158 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:23:30.310 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:23:30.413 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:23:30.905 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:23:32.306 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:23:32.320 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:23:37.927 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:23:38.937 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:23:40.106 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:23:42.421 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@384841e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@571f925f, org.springframework.security.web.context.SecurityContextHolderFilter@4913778f, org.springframework.security.web.header.HeaderWriterFilter@6a6fc416, org.springframework.web.filter.CorsFilter@5ffae42f, org.springframework.security.web.authentication.logout.LogoutFilter@39122753, com.ringo.auth.JwtFilter@727d937a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a22be4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6593f4fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5eb192b7, org.springframework.security.web.session.SessionManagementFilter@27ad844d, org.springframework.security.web.access.ExceptionTranslationFilter@76c9658c, org.springframework.security.web.access.intercept.AuthorizationFilter@1a9ea4d9]
2023-08-11 18:23:42.837 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:23:42.853 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.478 seconds (process running for 20.212)
2023-08-11 18:24:00.128 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:24:00.129 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:24:00.132 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-11 18:24:00.230 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:00.895 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:24:01.023 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:01.216 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:01.490 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:01.876 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:24:01.991 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:02.089 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:02.324 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:02.430 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:02.660 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:03.019 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:24:03.129 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:03.201 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:24:03.265 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:03.491 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:03.612 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:24:03.721 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:03.807 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:04.034 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:04.135 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:04.359 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:04.416 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:04.634 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:04.746 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:24:04.862 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:04.960 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:05.182 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:05.286 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:24:05.329 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:05.551 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:24:05.786 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:24:05.792 [http-nio-8080-exec-6] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:24:05.815 [http-nio-8080-exec-6] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:24:07.072 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:07.089 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:24:07.141 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:07.162 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:24:07.198 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:07.210 [http-nio-8080-exec-10] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:24:07.249 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:07.263 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:24:07.309 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:24:07.324 [http-nio-8080-exec-11] WARN  c.r.exception.GlobalExceptionHandler - User with username test already exists
2023-08-11 18:24:07.372 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:07.390 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:24:07.430 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:07.442 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:24:07.476 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:07.486 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:24:07.518 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:24:07.529 [http-nio-8080-exec-4] WARN  c.r.exception.GlobalExceptionHandler - Participant with [username: test] already exists
2023-08-11 18:25:06.284 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:25:06.287 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:25:06.290 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-11 18:25:17.707 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 35293 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-11 18:25:17.710 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-11 18:25:19.373 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-11 18:25:19.573 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 187 ms. Found 13 JPA repository interfaces.
2023-08-11 18:25:20.654 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-11 18:25:20.670 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-11 18:25:20.671 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-11 18:25:20.862 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-11 18:25:20.863 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2752 ms
2023-08-11 18:25:21.056 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-11 18:25:21.310 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561d88ee
2023-08-11 18:25:21.313 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-11 18:25:21.656 [main] INFO  liquibase.database - Set default schema name to public
2023-08-11 18:25:21.821 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-11 18:25:21.931 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-11 18:25:22.313 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-11 18:25:22.316 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-11 18:25:22.318 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-11 18:25:22.338 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-11 18:25:22.349 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-11 18:25:22.560 [main] INFO  liquibase.changelog - Table category created
2023-08-11 18:25:22.563 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-1::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:25:22.592 [main] INFO  liquibase.changelog - Table currency created
2023-08-11 18:25:22.595 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-2::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:25:22.616 [main] INFO  liquibase.changelog - Table event created
2023-08-11 18:25:22.620 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-3::aleksandr (generated) ran successfully in 18ms
2023-08-11 18:25:22.634 [main] INFO  liquibase.changelog - Table event_category created
2023-08-11 18:25:22.638 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-4::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.655 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-11 18:25:22.658 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-5::aleksandr (generated) ran successfully in 13ms
2023-08-11 18:25:22.672 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-11 18:25:22.674 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-6::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:25:22.684 [main] INFO  liquibase.changelog - Table event_save created
2023-08-11 18:25:22.688 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-7::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.699 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-11 18:25:22.702 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-8::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:22.715 [main] INFO  liquibase.changelog - Table label created
2023-08-11 18:25:22.717 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-9::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:25:22.730 [main] INFO  liquibase.changelog - Table organisation created
2023-08-11 18:25:22.732 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-10::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:25:22.745 [main] INFO  liquibase.changelog - Table participant created
2023-08-11 18:25:22.747 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-11::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.764 [main] INFO  liquibase.changelog - Table photo created
2023-08-11 18:25:22.767 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-12::aleksandr (generated) ran successfully in 12ms
2023-08-11 18:25:22.780 [main] INFO  liquibase.changelog - Table review created
2023-08-11 18:25:22.782 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-13::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:22.795 [main] INFO  liquibase.changelog - Table ticket created
2023-08-11 18:25:22.797 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-14::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.812 [main] INFO  liquibase.changelog - Table users created
2023-08-11 18:25:22.814 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-15::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:25:22.828 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-11 18:25:22.830 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-16::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.842 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-11 18:25:22.845 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-17::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:22.857 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-11 18:25:22.860 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-18::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:25:22.876 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-11 18:25:22.879 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-19::aleksandr (generated) ran successfully in 11ms
2023-08-11 18:25:22.894 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-11 18:25:22.897 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-20::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:25:22.912 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-11 18:25:22.914 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-21::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.926 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-11 18:25:22.929 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-22::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:22.941 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-11 18:25:22.944 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-23::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:22.955 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-11 18:25:22.957 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-24::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:22.966 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-11 18:25:22.970 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-25::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:22.978 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-11 18:25:22.980 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-26::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:25:22.991 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-11 18:25:22.993 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-27::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:25:23.004 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-11 18:25:23.006 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-28::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:23.016 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-11 18:25:23.019 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-29::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:23.027 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-11 18:25:23.030 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-30::aleksandr (generated) ran successfully in 5ms
2023-08-11 18:25:23.039 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-11 18:25:23.041 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-31::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:25:23.050 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-11 18:25:23.053 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-32::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:25:23.063 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-11 18:25:23.065 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-33::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:25:23.076 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-11 18:25:23.078 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-34::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:25:23.089 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-11 18:25:23.091 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-35::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:23.100 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-11 18:25:23.102 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-36::aleksandr (generated) ran successfully in 6ms
2023-08-11 18:25:23.110 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-11 18:25:23.112 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-37::aleksandr (generated) ran successfully in 5ms
2023-08-11 18:25:23.120 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-11 18:25:23.123 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-38::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:25:23.133 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-11 18:25:23.137 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-39::aleksandr (generated) ran successfully in 10ms
2023-08-11 18:25:23.147 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-11 18:25:23.150 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-40::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:23.165 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-11 18:25:23.179 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-41::aleksandr (generated) ran successfully in 21ms
2023-08-11 18:25:23.193 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-11 18:25:23.196 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-42::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:23.208 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-11 18:25:23.210 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-43::aleksandr (generated) ran successfully in 8ms
2023-08-11 18:25:23.221 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-11 18:25:23.224 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-44::aleksandr (generated) ran successfully in 9ms
2023-08-11 18:25:23.233 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-11 18:25:23.236 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691764790667-45::aleksandr (generated) ran successfully in 7ms
2023-08-11 18:25:23.257 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:25:23.259 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 17ms
2023-08-11 18:25:23.271 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:25:23.274 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 10ms
2023-08-11 18:25:23.288 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-11 18:25:23.290 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 11ms
2023-08-11 18:25:23.299 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-11 18:25:23.404 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-11 18:25:23.482 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-11 18:25:23.910 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-11 18:25:25.260 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-11 18:25:25.272 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:25:29.876 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-11 18:25:30.753 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-11 18:25:31.605 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-11 18:25:34.787 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3cab5869, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ad755c5, org.springframework.security.web.context.SecurityContextHolderFilter@a674645, org.springframework.security.web.header.HeaderWriterFilter@345b515e, org.springframework.web.filter.CorsFilter@3eff5c32, org.springframework.security.web.authentication.logout.LogoutFilter@67b9b79c, com.ringo.auth.JwtFilter@73ec417b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ba5272e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76c9658c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6115b4a0, org.springframework.security.web.session.SessionManagementFilter@6799243b, org.springframework.security.web.access.ExceptionTranslationFilter@2043b3d5, org.springframework.security.web.access.intercept.AuthorizationFilter@1cdf48b9]
2023-08-11 18:25:35.213 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-11 18:25:35.228 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.134 seconds (process running for 18.786)
2023-08-11 18:26:00.540 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-11 18:26:00.541 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-11 18:26:00.551 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2023-08-11 18:26:00.695 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:01.576 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:01.857 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:26:01.860 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:26:01.885 [http-nio-8080-exec-3] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:26:03.055 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:03.290 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:03.394 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:26:03.395 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:26:03.399 [http-nio-8080-exec-7] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:26:03.843 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-11 18:26:04.006 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:04.249 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:04.383 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findOrganisationById: 3
2023-08-11 18:26:04.474 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:04.694 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:04.718 [http-nio-8080-exec-7] INFO  c.r.s.company.OrganisationService - findOrganisationById: 4
2023-08-11 18:26:04.817 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:05.041 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:05.137 [http-nio-8080-exec-8] INFO  c.r.s.company.OrganisationService - findOrganisationById: 5
2023-08-11 18:26:05.228 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:05.450 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:05.478 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 6
2023-08-11 18:26:05.623 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:05.851 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:05.929 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:26:05.930 [http-nio-8080-exec-5] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:26:05.935 [http-nio-8080-exec-5] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:26:06.337 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:06.552 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:06.614 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-11 18:26:06.615 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-11 18:26:06.621 [http-nio-8080-exec-7] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-11 18:26:06.997 [http-nio-8080-exec-1] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-11 18:26:07.121 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:07.337 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:07.354 [http-nio-8080-exec-4] INFO  c.r.s.company.ParticipantService - findParticipantById: 9
2023-08-11 18:26:07.425 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:07.642 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:07.712 [http-nio-8080-exec-7] INFO  c.r.s.company.ParticipantService - findParticipantById: 10
2023-08-11 18:26:07.795 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:08.018 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:26:08.126 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:08.183 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:08.401 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:08.732 [http-nio-8080-exec-9] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:26:08.832 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:08.896 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:09.112 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:09.170 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:09.392 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:09.713 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:26:09.815 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:09.878 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-11 18:26:09.928 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:10.140 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:10.249 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:26:10.358 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:10.421 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:10.641 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:10.707 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:10.928 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:10.973 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-11 18:26:11.205 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:11.312 [http-nio-8080-exec-5] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-11 18:26:11.417 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:11.477 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-11 18:26:11.688 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-11 18:26:11.773 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-11 18:26:28.583 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-11 18:26:28.587 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-11 18:26:28.589 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 12:10:32.430 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 36104 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 12:10:32.435 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 12:10:34.261 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 12:10:34.517 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 240 ms. Found 13 JPA repository interfaces.
2023-08-12 12:10:35.702 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 12:10:35.726 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 12:10:35.727 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 12:10:35.963 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 12:10:35.964 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3049 ms
2023-08-12 12:10:36.186 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 12:10:36.524 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7cc1f72c
2023-08-12 12:10:36.531 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 12:10:36.904 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 12:10:37.078 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 12:10:37.216 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 12:10:37.687 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 12:10:37.691 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 12:10:37.693 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 12:10:37.796 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 12:10:37.962 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 12:10:38.101 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 12:10:38.194 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 12:10:38.664 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 12:10:40.193 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 12:10:40.209 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 12:10:46.133 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 12:10:46.994 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 12:10:47.492 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 12:10:51.561 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a056d13, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b11a972, org.springframework.security.web.context.SecurityContextHolderFilter@198fb504, org.springframework.security.web.header.HeaderWriterFilter@6f88d401, org.springframework.web.filter.CorsFilter@2f26634a, org.springframework.security.web.authentication.logout.LogoutFilter@21c09e90, com.ringo.auth.JwtFilter@7bdbf06f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@274b3fc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9e3c653, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77c0457f, org.springframework.security.web.session.SessionManagementFilter@37df3dee, org.springframework.security.web.access.ExceptionTranslationFilter@6e07469a, org.springframework.security.web.access.intercept.AuthorizationFilter@1d17945d]
2023-08-12 12:10:52.044 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 12:10:52.057 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.361 seconds (process running for 21.326)
2023-08-12 12:11:15.969 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 12:11:15.970 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 12:11:15.972 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-12 12:11:16.078 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:16.824 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:11:16.967 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:17.182 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:17.467 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:17.877 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:11:18.010 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:18.120 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:18.374 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:18.483 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:18.713 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:19.080 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:11:19.191 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:19.267 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:84)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-12 12:11:19.344 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:19.598 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:19.728 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-12 12:11:19.865 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:19.957 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:20.194 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:20.314 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:20.544 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:20.622 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:20.869 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:21.003 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-12 12:11:21.114 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:21.191 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:21.425 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:21.540 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:11:21.585 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:21.807 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:22.074 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:11:22.078 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:11:22.100 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:11:23.284 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:23.563 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:23.621 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:11:23.622 [http-nio-8080-exec-12] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:11:23.626 [http-nio-8080-exec-12] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:11:24.139 [http-nio-8080-exec-3] INFO  c.ringo.service.common.PhotoService - deletePhoto: 6
2023-08-12 12:11:24.324 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:24.597 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:24.726 [http-nio-8080-exec-1] INFO  c.r.s.company.OrganisationService - findOrganisationById: 31
2023-08-12 12:11:24.819 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:25.046 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:25.068 [http-nio-8080-exec-6] INFO  c.r.s.company.OrganisationService - findOrganisationById: 32
2023-08-12 12:11:25.158 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:25.397 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:25.491 [http-nio-8080-exec-4] INFO  c.r.s.company.OrganisationService - findOrganisationById: 33
2023-08-12 12:11:25.579 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:11:25.806 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:25.828 [http-nio-8080-exec-12] INFO  c.r.s.company.OrganisationService - findOrganisationById: 34
2023-08-12 12:11:25.945 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:26.172 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:26.238 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:11:26.239 [http-nio-8080-exec-8] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:11:26.246 [http-nio-8080-exec-8] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:11:26.705 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:26.932 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:26.981 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:11:26.982 [http-nio-8080-exec-4] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:11:26.988 [http-nio-8080-exec-4] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:11:27.358 [http-nio-8080-exec-2] INFO  c.ringo.service.common.PhotoService - deletePhoto: 8
2023-08-12 12:11:27.493 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:27.713 [http-nio-8080-exec-12] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:27.733 [http-nio-8080-exec-3] INFO  c.r.s.company.ParticipantService - findParticipantById: 37
2023-08-12 12:11:27.796 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:11:28.025 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:11:28.107 [http-nio-8080-exec-3] INFO  c.r.s.company.ParticipantService - findParticipantById: 38
2023-08-12 12:11:31.992 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 12:11:31.995 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 12:11:31.999 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 12:15:19.621 [Test worker] INFO  com.ringo.RingoApplicationTests - Starting RingoApplicationTests using Java 19.0.2 with PID 36258 (started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 12:15:19.624 [Test worker] INFO  com.ringo.RingoApplicationTests - No active profile set, falling back to 1 default profile: "default"
2023-08-12 12:15:20.847 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 12:15:21.207 [Test worker] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 351 ms. Found 13 JPA repository interfaces.
2023-08-12 12:15:21.826 [Test worker] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 12:15:21.833 [Test worker] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
2023-08-12 12:15:21.847 [Test worker] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-08-12 12:15:21.865 [Test worker] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:326)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:112)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:93)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1798)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1748)
	... 108 common frames omitted
2023-08-12 12:15:21.890 [Test worker] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.ringo.RingoApplicationTests@70d5d96b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@8af1c49 testClass = com.ringo.RingoApplicationTests, locations = [], classes = [com.ringo.RingoApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ea9b7c6, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@a8e6492, org.springframework.boot.test.graphql.tester.HttpGraphQlTesterContextCustomizer@75c9e76b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4fbda97b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@590c73d3, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@75ed9710, org.springframework.boot.test.context.SpringBootTestAnnotation@867759dd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1752)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 85 common frames omitted
Caused by: java.lang.RuntimeException: Driver org.postgresql.Driver claims to not accept jdbcUrl, ${DB_URL}
	at com.zaxxer.hikari.util.DriverDataSource.<init>(DriverDataSource.java:110)
	at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:326)
	at com.zaxxer.hikari.pool.PoolBase.<init>(PoolBase.java:112)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:93)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1798)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1748)
	... 108 common frames omitted
2023-08-12 12:15:24.662 [Test worker] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: hello.txt
2023-08-12 12:15:24.787 [Test worker] INFO  c.r.s.company.OrganisationService - findOrganisationById: 1
2023-08-12 12:15:24.834 [Test worker] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:15:24.983 [Test worker] INFO  c.r.s.common.AbstractUserService - activateParticipant: test@test.com
2023-08-12 12:15:24.995 [Test worker] INFO  c.r.s.company.OrganisationService - findCurrentOrganisation
2023-08-12 12:15:25.006 [Test worker] INFO  c.r.s.company.OrganisationService - findOrganisationById: 1
2023-08-12 12:15:25.012 [Test worker] INFO  c.r.s.common.AbstractUserService - activateParticipant: test@test.com
2023-08-12 12:15:25.022 [Test worker] INFO  c.r.s.common.AbstractUserService - activateParticipant: test@test.com
2023-08-12 12:15:25.114 [Test worker] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: hello.txt
2023-08-12 12:15:25.126 [Test worker] INFO  c.r.s.company.ParticipantService - findParticipantById: 1
2023-08-12 12:15:25.148 [Test worker] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:15:25.258 [Test worker] INFO  c.r.s.common.AbstractUserService - activateParticipant: test@test.com
2023-08-12 12:15:25.268 [Test worker] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-12 12:15:25.289 [Test worker] INFO  c.r.s.company.ParticipantService - findParticipantById: 1
2023-08-12 12:15:25.295 [Test worker] INFO  c.r.s.common.AbstractUserService - activateParticipant: test@test.com
2023-08-12 12:15:25.300 [Test worker] INFO  c.r.s.common.AbstractUserService - activateParticipant: test@test.com
2023-08-12 12:46:25.736 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 37006 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 12:46:25.742 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 12:46:27.482 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 12:46:27.709 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 210 ms. Found 13 JPA repository interfaces.
2023-08-12 12:46:28.865 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 12:46:28.889 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 12:46:28.889 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 12:46:29.122 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 12:46:29.123 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2887 ms
2023-08-12 12:46:29.315 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 12:46:29.635 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-12 12:46:29.640 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 12:46:29.973 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 12:46:30.141 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 12:46:30.281 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 12:46:30.743 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 12:46:30.747 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 12:46:30.749 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 12:46:30.855 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 12:46:31.029 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 12:46:31.169 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 12:46:31.276 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 12:46:31.810 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 12:46:33.345 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 12:46:33.359 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 12:46:38.611 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 12:46:39.423 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 12:46:40.590 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 12:46:44.327 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2396e6e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c486cec, org.springframework.security.web.context.SecurityContextHolderFilter@c56ea7b, org.springframework.security.web.header.HeaderWriterFilter@4f9a0139, org.springframework.web.filter.CorsFilter@373e09c7, org.springframework.security.web.authentication.logout.LogoutFilter@7432a39e, com.ringo.auth.JwtFilter@3d2a164e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35e50381, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17778985, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fc5199, org.springframework.security.web.session.SessionManagementFilter@6cf4325b, org.springframework.security.web.access.ExceptionTranslationFilter@7dfccbf2, org.springframework.security.web.access.intercept.AuthorizationFilter@74197f00]
2023-08-12 12:46:44.831 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 12:46:44.845 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.893 seconds (process running for 20.82)
2023-08-12 12:47:33.633 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 12:47:33.637 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 12:47:33.642 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 12:49:05.687 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 37093 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 12:49:05.690 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 12:49:07.388 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 12:49:07.584 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 180 ms. Found 13 JPA repository interfaces.
2023-08-12 12:49:08.678 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 12:49:08.699 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 12:49:08.700 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 12:49:08.887 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 12:49:08.904 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2810 ms
2023-08-12 12:49:09.088 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 12:49:09.344 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@360d41d0
2023-08-12 12:49:09.348 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 12:49:09.671 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 12:49:09.880 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 12:49:10.022 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 12:49:10.482 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 12:49:10.485 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 12:49:10.488 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 12:49:10.512 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-12 12:49:10.526 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 12:49:10.774 [main] INFO  liquibase.changelog - Table category created
2023-08-12 12:49:10.778 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-1::aleksandr (generated) ran successfully in 18ms
2023-08-12 12:49:10.802 [main] INFO  liquibase.changelog - Table currency created
2023-08-12 12:49:10.806 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-2::aleksandr (generated) ran successfully in 15ms
2023-08-12 12:49:10.838 [main] INFO  liquibase.changelog - Table event created
2023-08-12 12:49:10.845 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-3::aleksandr (generated) ran successfully in 29ms
2023-08-12 12:49:10.859 [main] INFO  liquibase.changelog - Table event_category created
2023-08-12 12:49:10.862 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-4::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:10.880 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-12 12:49:10.883 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-5::aleksandr (generated) ran successfully in 13ms
2023-08-12 12:49:10.901 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-12 12:49:10.905 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-6::aleksandr (generated) ran successfully in 13ms
2023-08-12 12:49:10.919 [main] INFO  liquibase.changelog - Table event_save created
2023-08-12 12:49:10.923 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-7::aleksandr (generated) ran successfully in 10ms
2023-08-12 12:49:10.940 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-12 12:49:10.943 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-8::aleksandr (generated) ran successfully in 13ms
2023-08-12 12:49:10.965 [main] INFO  liquibase.changelog - Table label created
2023-08-12 12:49:10.988 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-9::aleksandr (generated) ran successfully in 36ms
2023-08-12 12:49:11.009 [main] INFO  liquibase.changelog - Table organisation created
2023-08-12 12:49:11.012 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-10::aleksandr (generated) ran successfully in 16ms
2023-08-12 12:49:11.029 [main] INFO  liquibase.changelog - Table participant created
2023-08-12 12:49:11.033 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-11::aleksandr (generated) ran successfully in 13ms
2023-08-12 12:49:11.055 [main] INFO  liquibase.changelog - Table photo created
2023-08-12 12:49:11.058 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-12::aleksandr (generated) ran successfully in 17ms
2023-08-12 12:49:11.073 [main] INFO  liquibase.changelog - Table review created
2023-08-12 12:49:11.076 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-13::aleksandr (generated) ran successfully in 12ms
2023-08-12 12:49:11.094 [main] INFO  liquibase.changelog - Table ticket created
2023-08-12 12:49:11.098 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-14::aleksandr (generated) ran successfully in 15ms
2023-08-12 12:49:11.125 [main] INFO  liquibase.changelog - Table users created
2023-08-12 12:49:11.130 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-15::aleksandr (generated) ran successfully in 22ms
2023-08-12 12:49:11.153 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-12 12:49:11.157 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-16::aleksandr (generated) ran successfully in 17ms
2023-08-12 12:49:11.178 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-12 12:49:11.183 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-17::aleksandr (generated) ran successfully in 13ms
2023-08-12 12:49:11.202 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-12 12:49:11.205 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-18::aleksandr (generated) ran successfully in 13ms
2023-08-12 12:49:11.221 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-12 12:49:11.225 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-19::aleksandr (generated) ran successfully in 14ms
2023-08-12 12:49:11.241 [main] INFO  liquibase.changelog - Unique constraint added to users(email)
2023-08-12 12:49:11.244 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-20::aleksandr (generated) ran successfully in 12ms
2023-08-12 12:49:11.263 [main] INFO  liquibase.changelog - Unique constraint added to users(username)
2023-08-12 12:49:11.267 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-21::aleksandr (generated) ran successfully in 12ms
2023-08-12 12:49:11.281 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-12 12:49:11.286 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-22::aleksandr (generated) ran successfully in 12ms
2023-08-12 12:49:11.302 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-12 12:49:11.306 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-23::aleksandr (generated) ran successfully in 11ms
2023-08-12 12:49:11.318 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-12 12:49:11.321 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-24::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.331 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-12 12:49:11.335 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-25::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.346 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-12 12:49:11.348 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-26::aleksandr (generated) ran successfully in 7ms
2023-08-12 12:49:11.359 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-12 12:49:11.361 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-27::aleksandr (generated) ran successfully in 7ms
2023-08-12 12:49:11.372 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-12 12:49:11.375 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-28::aleksandr (generated) ran successfully in 7ms
2023-08-12 12:49:11.387 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-12 12:49:11.390 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-29::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.404 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-12 12:49:11.408 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-30::aleksandr (generated) ran successfully in 11ms
2023-08-12 12:49:11.422 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-12 12:49:11.427 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-31::aleksandr (generated) ran successfully in 12ms
2023-08-12 12:49:11.443 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-12 12:49:11.447 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-32::aleksandr (generated) ran successfully in 10ms
2023-08-12 12:49:11.461 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-12 12:49:11.464 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-33::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.479 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-12 12:49:11.482 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-34::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.497 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-12 12:49:11.501 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-35::aleksandr (generated) ran successfully in 10ms
2023-08-12 12:49:11.511 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-12 12:49:11.513 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-36::aleksandr (generated) ran successfully in 7ms
2023-08-12 12:49:11.523 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-12 12:49:11.525 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-37::aleksandr (generated) ran successfully in 6ms
2023-08-12 12:49:11.537 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-12 12:49:11.539 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-38::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.550 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-12 12:49:11.554 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-39::aleksandr (generated) ran successfully in 10ms
2023-08-12 12:49:11.566 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-12 12:49:11.570 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-40::aleksandr (generated) ran successfully in 9ms
2023-08-12 12:49:11.585 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-12 12:49:11.589 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-41::aleksandr (generated) ran successfully in 11ms
2023-08-12 12:49:11.600 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-12 12:49:11.604 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-42::aleksandr (generated) ran successfully in 8ms
2023-08-12 12:49:11.612 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-12 12:49:11.615 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-43::aleksandr (generated) ran successfully in 7ms
2023-08-12 12:49:11.627 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-12 12:49:11.629 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-44::aleksandr (generated) ran successfully in 7ms
2023-08-12 12:49:11.638 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-12 12:49:11.641 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691833689698-45::aleksandr (generated) ran successfully in 8ms
2023-08-12 12:49:11.658 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-12 12:49:11.660 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 14ms
2023-08-12 12:49:11.674 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-12 12:49:11.677 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 11ms
2023-08-12 12:49:11.705 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-12 12:49:11.708 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 22ms
2023-08-12 12:49:11.725 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 12:49:11.910 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 12:49:12.027 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 12:49:12.538 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 12:49:13.962 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 12:49:13.973 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 12:49:18.947 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 12:49:19.818 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 12:49:20.667 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 12:49:23.352 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@334412ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bdffa25, org.springframework.security.web.context.SecurityContextHolderFilter@4a57cec1, org.springframework.security.web.header.HeaderWriterFilter@4ad667c8, org.springframework.web.filter.CorsFilter@59df8444, org.springframework.security.web.authentication.logout.LogoutFilter@6bb500fa, com.ringo.auth.JwtFilter@38682845, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c40aed1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bca34d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19c2c3a6, org.springframework.security.web.session.SessionManagementFilter@3cab5869, org.springframework.security.web.access.ExceptionTranslationFilter@2d87ac2b, org.springframework.security.web.access.intercept.AuthorizationFilter@22ef458d]
2023-08-12 12:49:23.878 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 12:49:23.899 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 18.926 seconds (process running for 19.606)
2023-08-12 12:49:46.303 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 12:49:46.304 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 12:49:46.307 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-08-12 12:49:46.415 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:47.148 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:49:47.284 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:47.508 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:47.832 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:48.219 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:49:48.336 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:48.447 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:48.685 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:48.787 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:49.020 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:49.375 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:49:49.487 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:49.575 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:100)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-12 12:49:49.635 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:49.867 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:50.005 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-12 12:49:50.164 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:50.242 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:50.463 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:50.572 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:50.801 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:50.875 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:51.110 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:51.229 [http-nio-8080-exec-1] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-12 12:49:51.335 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:51.407 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:51.642 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:51.750 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 12:49:51.792 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:52.010 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:52.245 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:49:52.247 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:49:52.268 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:49:53.366 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:53.590 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:53.689 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:49:53.692 [http-nio-8080-exec-4] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:49:53.697 [http-nio-8080-exec-4] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:49:54.155 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-12 12:49:54.315 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:54.559 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:54.673 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 12
2023-08-12 12:49:54.773 [http-nio-8080-exec-12] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:55.010 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:55.030 [http-nio-8080-exec-5] INFO  c.r.s.company.OrganisationService - findOrganisationById: 13
2023-08-12 12:49:55.122 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:55.375 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:55.465 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 14
2023-08-12 12:49:55.534 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 12:49:55.761 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:55.780 [http-nio-8080-exec-11] INFO  c.r.s.company.OrganisationService - findOrganisationById: 15
2023-08-12 12:49:55.877 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:56.101 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:56.146 [http-nio-8080-exec-8] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:49:56.147 [http-nio-8080-exec-8] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:49:56.156 [http-nio-8080-exec-8] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:49:56.592 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:56.812 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:56.854 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 12:49:56.856 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 12:49:56.859 [http-nio-8080-exec-10] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 12:49:57.209 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-12 12:49:57.335 [http-nio-8080-exec-13] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:57.548 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:57.571 [http-nio-8080-exec-10] INFO  c.r.s.company.ParticipantService - findParticipantById: 18
2023-08-12 12:49:57.633 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 12:49:57.850 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 12:49:57.928 [http-nio-8080-exec-12] INFO  c.r.s.company.ParticipantService - findParticipantById: 19
2023-08-12 12:50:01.161 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 12:50:01.165 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 12:50:01.169 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 14:11:56.242 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 39144 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 14:11:56.248 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 14:11:58.014 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 14:11:58.211 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 182 ms. Found 13 JPA repository interfaces.
2023-08-12 14:11:59.238 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 14:11:59.259 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 14:11:59.259 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 14:11:59.514 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 14:11:59.514 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2819 ms
2023-08-12 14:11:59.663 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 14:11:59.978 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@14874a5d
2023-08-12 14:11:59.982 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 14:12:00.329 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 14:12:00.466 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 14:12:00.623 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 14:12:01.166 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 14:12:01.170 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 14:12:01.173 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 14:12:01.265 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 14:12:01.416 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 14:12:01.560 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 14:12:01.652 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 14:12:02.127 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 14:12:03.651 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 14:12:03.664 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:12:10.006 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 14:12:10.936 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 14:12:12.056 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 14:12:15.050 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2396e6e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c486cec, org.springframework.security.web.context.SecurityContextHolderFilter@c56ea7b, org.springframework.security.web.header.HeaderWriterFilter@4f9a0139, org.springframework.web.filter.CorsFilter@373e09c7, org.springframework.security.web.authentication.logout.LogoutFilter@7432a39e, com.ringo.auth.JwtFilter@3d2a164e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35e50381, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17778985, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fc5199, org.springframework.security.web.session.SessionManagementFilter@6cf4325b, org.springframework.security.web.access.ExceptionTranslationFilter@7dfccbf2, org.springframework.security.web.access.intercept.AuthorizationFilter@74197f00]
2023-08-12 14:12:15.657 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 14:12:15.672 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 20.13 seconds (process running for 21.313)
2023-08-12 14:12:20.521 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 14:12:20.521 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 14:12:20.523 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-08-12 14:12:20.612 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: aahusar@gmail.com, role: ROLE_PARTICIPANT
2023-08-12 14:12:42.432 [http-nio-8080-exec-3] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported
2023-08-12 14:12:53.053 [http-nio-8080-exec-4] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported
2023-08-12 14:13:28.974 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:13:28.979 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 14:13:28.982 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 14:13:45.619 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 39197 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 14:13:45.623 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 14:13:47.463 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 14:13:47.713 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 234 ms. Found 13 JPA repository interfaces.
2023-08-12 14:13:48.729 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 14:13:48.746 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 14:13:48.746 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 14:13:48.905 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 14:13:48.906 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2819 ms
2023-08-12 14:13:49.068 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 14:13:49.311 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26d40c77
2023-08-12 14:13:49.315 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 14:13:49.457 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 14:13:49.595 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 14:13:49.744 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 14:13:50.142 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 14:13:50.146 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 14:13:50.150 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 14:13:50.250 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 14:13:50.403 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 14:13:50.531 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 14:13:50.600 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 14:13:51.019 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 14:13:52.382 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 14:13:52.395 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:13:56.985 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 14:13:58.175 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 14:13:59.019 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 14:14:02.194 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@228a6823, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74197f00, org.springframework.security.web.context.SecurityContextHolderFilter@7e9e125f, org.springframework.security.web.header.HeaderWriterFilter@41c22d59, org.springframework.web.filter.CorsFilter@147a8d7c, org.springframework.security.web.authentication.logout.LogoutFilter@24d7df03, com.ringo.auth.JwtFilter@44bbf5e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f6b60ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2541c84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38e4697d, org.springframework.security.web.session.SessionManagementFilter@10c04710, org.springframework.security.web.access.ExceptionTranslationFilter@14d6f58f, org.springframework.security.web.access.intercept.AuthorizationFilter@55f066b4]
2023-08-12 14:14:02.619 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 14:14:02.632 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.64 seconds (process running for 18.296)
2023-08-12 14:14:09.737 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 14:14:09.738 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 14:14:09.741 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-12 14:14:33.153 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: aahusar@gmail.com] is authenticated
2023-08-12 14:14:54.920 [http-nio-8080-exec-4] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-12 14:15:58.427 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:15:58.431 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 14:15:58.434 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 14:16:33.461 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 39295 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 14:16:33.465 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 14:16:35.142 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 14:16:35.369 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 211 ms. Found 13 JPA repository interfaces.
2023-08-12 14:16:36.469 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 14:16:36.488 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 14:16:36.489 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 14:16:36.698 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 14:16:36.698 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2846 ms
2023-08-12 14:16:36.883 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 14:16:37.145 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@12365bd8
2023-08-12 14:16:37.148 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 14:16:37.449 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 14:16:37.607 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 14:16:37.716 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 14:16:38.128 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 14:16:38.132 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 14:16:38.136 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 14:16:38.236 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 14:16:38.413 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 14:16:38.531 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 14:16:38.612 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 14:16:39.063 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 14:16:40.421 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 14:16:40.435 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:16:45.161 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 14:16:45.759 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 14:16:46.920 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 14:16:49.543 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52ac57e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2396e6e1, org.springframework.security.web.context.SecurityContextHolderFilter@2541c84, org.springframework.security.web.header.HeaderWriterFilter@1fe24f79, org.springframework.web.filter.CorsFilter@77ef7b2b, org.springframework.security.web.authentication.logout.LogoutFilter@6e07469a, com.ringo.auth.JwtFilter@2625eb84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41fd7740, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35e50381, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c486cec, org.springframework.security.web.session.SessionManagementFilter@7e9e125f, org.springframework.security.web.access.ExceptionTranslationFilter@5ea52724, org.springframework.security.web.access.intercept.AuthorizationFilter@228a6823]
2023-08-12 14:16:49.954 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 14:16:49.969 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.106 seconds (process running for 17.756)
2023-08-12 14:16:52.653 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 14:16:52.654 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 14:16:52.656 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-12 14:16:52.803 [http-nio-8080-exec-2] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-12 14:16:55.680 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:16:55.685 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 14:16:55.688 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 14:26:08.160 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 39636 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 14:26:08.165 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 14:26:09.669 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 14:26:09.860 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 179 ms. Found 13 JPA repository interfaces.
2023-08-12 14:26:10.870 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 14:26:10.897 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 14:26:10.913 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 14:26:11.166 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 14:26:11.166 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2614 ms
2023-08-12 14:26:11.316 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 14:26:11.596 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d8e9d3e
2023-08-12 14:26:11.599 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 14:26:11.872 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 14:26:11.986 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 14:26:12.101 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 14:26:12.518 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 14:26:12.522 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 14:26:12.525 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 14:26:12.605 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 14:26:12.738 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 14:26:12.849 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 14:26:12.920 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 14:26:13.301 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 14:26:14.582 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 14:26:14.594 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:26:19.809 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 14:26:20.327 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 14:26:21.169 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 14:26:24.594 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d37c176, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64b71b49, org.springframework.security.web.context.SecurityContextHolderFilter@6ad6484, org.springframework.security.web.header.HeaderWriterFilter@1b406bc2, org.springframework.web.filter.CorsFilter@147a8d7c, org.springframework.security.web.authentication.logout.LogoutFilter@34d4aea7, com.ringo.auth.JwtFilter@44bbf5e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ac1ba35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42e58f8e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d548872, org.springframework.security.web.session.SessionManagementFilter@38421084, org.springframework.security.web.access.ExceptionTranslationFilter@2c49bc22, org.springframework.security.web.access.intercept.AuthorizationFilter@72bf66c7]
2023-08-12 14:26:24.987 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 14:26:24.999 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 17.497 seconds (process running for 18.656)
2023-08-12 14:27:49.788 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 14:27:49.789 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 14:27:49.791 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-12 14:27:49.870 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: olgusa@taltech.ee, role: ROLE_PARTICIPANT
2023-08-12 14:28:44.261 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: olgusa@taltech.ee] is authenticated
2023-08-12 14:28:56.911 [http-nio-8080-exec-5] INFO  c.r.s.company.ParticipantService - findCurrentParticipant
2023-08-12 14:29:07.658 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: olgusa@taltech.ee, role: ROLE_PARTICIPANT
2023-08-12 14:29:07.671 [http-nio-8080-exec-6] WARN  c.r.exception.GlobalExceptionHandler - Participant with [email: olgusa@taltech.ee] already exists
2023-08-12 14:29:17.367 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: asd@taltech.ee, role: ROLE_PARTICIPANT
2023-08-12 14:29:45.938 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: asd@taltech.ee, role: ROLE_PARTICIPANT
2023-08-12 14:29:46.050 [http-nio-8080-exec-10] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2023-08-12 14:29:46.050 [http-nio-8080-exec-10] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "uc_users_email"
  Detail: Key (email)=(asd@taltech.ee) already exists.
2023-08-12 14:29:46.064 [http-nio-8080-exec-10] ERROR c.r.exception.GlobalExceptionHandler - org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [uc_users_email]
2023-08-12 14:29:51.428 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:29:51.434 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 14:29:51.438 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-08-12 14:32:30.244 [main] INFO  com.ringo.RingoApplication - Starting RingoApplication using Java 17.0.2 with PID 39785 (/Users/aleksandr/Ringo/build/classes/java/main started by aleksandr in /Users/aleksandr/Ringo)
2023-08-12 14:32:30.252 [main] INFO  com.ringo.RingoApplication - No active profile set, falling back to 1 default profile: "default"
2023-08-12 14:32:31.807 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-12 14:32:32.018 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 197 ms. Found 13 JPA repository interfaces.
2023-08-12 14:32:33.081 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-08-12 14:32:33.102 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2023-08-12 14:32:33.103 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.5]
2023-08-12 14:32:33.291 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2023-08-12 14:32:33.292 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2613 ms
2023-08-12 14:32:33.470 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-08-12 14:32:33.739 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30fbc23
2023-08-12 14:32:33.742 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-08-12 14:32:34.095 [main] INFO  liquibase.database - Set default schema name to public
2023-08-12 14:32:34.254 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
2023-08-12 14:32:34.366 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/000-changelog.xml
2023-08-12 14:32:34.834 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/001-category.sql
2023-08-12 14:32:34.837 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/002-currency.sql
2023-08-12 14:32:34.839 [main] INFO  liquibase.changelog - Reading resource: liquibase/change-logs/009-get_distance.sql
2023-08-12 14:32:34.868 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
2023-08-12 14:32:34.884 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
2023-08-12 14:32:35.120 [main] INFO  liquibase.changelog - Table category created
2023-08-12 14:32:35.123 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-1::aleksandr (generated) ran successfully in 15ms
2023-08-12 14:32:35.142 [main] INFO  liquibase.changelog - Table currency created
2023-08-12 14:32:35.146 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-2::aleksandr (generated) ran successfully in 13ms
2023-08-12 14:32:35.171 [main] INFO  liquibase.changelog - Table event created
2023-08-12 14:32:35.175 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-3::aleksandr (generated) ran successfully in 22ms
2023-08-12 14:32:35.190 [main] INFO  liquibase.changelog - Table event_category created
2023-08-12 14:32:35.193 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-4::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.214 [main] INFO  liquibase.changelog - Table event_main_photo created
2023-08-12 14:32:35.219 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-5::aleksandr (generated) ran successfully in 16ms
2023-08-12 14:32:35.239 [main] INFO  liquibase.changelog - Table event_photo created
2023-08-12 14:32:35.242 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-6::aleksandr (generated) ran successfully in 15ms
2023-08-12 14:32:35.255 [main] INFO  liquibase.changelog - Table event_save created
2023-08-12 14:32:35.258 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-7::aleksandr (generated) ran successfully in 8ms
2023-08-12 14:32:35.272 [main] INFO  liquibase.changelog - Table exchange_rates created
2023-08-12 14:32:35.275 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-8::aleksandr (generated) ran successfully in 10ms
2023-08-12 14:32:35.291 [main] INFO  liquibase.changelog - Table label created
2023-08-12 14:32:35.296 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-9::aleksandr (generated) ran successfully in 13ms
2023-08-12 14:32:35.310 [main] INFO  liquibase.changelog - Table organisation created
2023-08-12 14:32:35.316 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-10::aleksandr (generated) ran successfully in 13ms
2023-08-12 14:32:35.329 [main] INFO  liquibase.changelog - Table participant created
2023-08-12 14:32:35.331 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-11::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.349 [main] INFO  liquibase.changelog - Table photo created
2023-08-12 14:32:35.354 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-12::aleksandr (generated) ran successfully in 17ms
2023-08-12 14:32:35.369 [main] INFO  liquibase.changelog - Table review created
2023-08-12 14:32:35.371 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-13::aleksandr (generated) ran successfully in 11ms
2023-08-12 14:32:35.385 [main] INFO  liquibase.changelog - Table ticket created
2023-08-12 14:32:35.388 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-14::aleksandr (generated) ran successfully in 11ms
2023-08-12 14:32:35.448 [main] INFO  liquibase.changelog - Table users created
2023-08-12 14:32:35.451 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-15::aleksandr (generated) ran successfully in 21ms
2023-08-12 14:32:35.467 [main] INFO  liquibase.changelog - Unique constraint added to category(name)
2023-08-12 14:32:35.469 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-16::aleksandr (generated) ran successfully in 11ms
2023-08-12 14:32:35.484 [main] INFO  liquibase.changelog - Unique constraint added to currency(name)
2023-08-12 14:32:35.487 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-17::aleksandr (generated) ran successfully in 12ms
2023-08-12 14:32:35.500 [main] INFO  liquibase.changelog - Unique constraint added to currency(symbol)
2023-08-12 14:32:35.503 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-18::aleksandr (generated) ran successfully in 11ms
2023-08-12 14:32:35.517 [main] INFO  liquibase.changelog - Unique constraint added to review(participant_id, organisation_id)
2023-08-12 14:32:35.519 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-19::aleksandr (generated) ran successfully in 10ms
2023-08-12 14:32:35.532 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (event_id)
2023-08-12 14:32:35.534 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-20::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.547 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (high_quality_photo_id)
2023-08-12 14:32:35.550 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-21::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.563 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (lazy_photo_id)
2023-08-12 14:32:35.566 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-22::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.576 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (low_quality_photo_id)
2023-08-12 14:32:35.580 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-23::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.589 [main] INFO  liquibase.changelog - Foreign key constraint added to event_main_photo (medium_quality_photo_id)
2023-08-12 14:32:35.591 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-24::aleksandr (generated) ran successfully in 6ms
2023-08-12 14:32:35.602 [main] INFO  liquibase.changelog - Foreign key constraint added to event (currency_id)
2023-08-12 14:32:35.604 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-25::aleksandr (generated) ran successfully in 7ms
2023-08-12 14:32:35.615 [main] INFO  liquibase.changelog - Foreign key constraint added to event (host_id)
2023-08-12 14:32:35.617 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-26::aleksandr (generated) ran successfully in 8ms
2023-08-12 14:32:35.627 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (event_id)
2023-08-12 14:32:35.631 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-27::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.639 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (lazy_photo_id)
2023-08-12 14:32:35.641 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-28::aleksandr (generated) ran successfully in 6ms
2023-08-12 14:32:35.652 [main] INFO  liquibase.changelog - Foreign key constraint added to event_photo (photo_id)
2023-08-12 14:32:35.654 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-29::aleksandr (generated) ran successfully in 7ms
2023-08-12 14:32:35.664 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (from_id)
2023-08-12 14:32:35.669 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-30::aleksandr (generated) ran successfully in 11ms
2023-08-12 14:32:35.679 [main] INFO  liquibase.changelog - Foreign key constraint added to exchange_rates (to_id)
2023-08-12 14:32:35.681 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-31::aleksandr (generated) ran successfully in 8ms
2023-08-12 14:32:35.690 [main] INFO  liquibase.changelog - Foreign key constraint added to label (organisation_id)
2023-08-12 14:32:35.692 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-32::aleksandr (generated) ran successfully in 6ms
2023-08-12 14:32:35.703 [main] INFO  liquibase.changelog - Foreign key constraint added to organisation (id)
2023-08-12 14:32:35.706 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-33::aleksandr (generated) ran successfully in 6ms
2023-08-12 14:32:35.715 [main] INFO  liquibase.changelog - Foreign key constraint added to participant (id)
2023-08-12 14:32:35.718 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-34::aleksandr (generated) ran successfully in 6ms
2023-08-12 14:32:35.727 [main] INFO  liquibase.changelog - Foreign key constraint added to review (organisation_id)
2023-08-12 14:32:35.730 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-35::aleksandr (generated) ran successfully in 8ms
2023-08-12 14:32:35.740 [main] INFO  liquibase.changelog - Foreign key constraint added to review (participant_id)
2023-08-12 14:32:35.742 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-36::aleksandr (generated) ran successfully in 8ms
2023-08-12 14:32:35.751 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (event_id)
2023-08-12 14:32:35.755 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-37::aleksandr (generated) ran successfully in 8ms
2023-08-12 14:32:35.766 [main] INFO  liquibase.changelog - Foreign key constraint added to ticket (participant_id)
2023-08-12 14:32:35.770 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-38::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.785 [main] INFO  liquibase.changelog - Foreign key constraint added to users (profile_picture)
2023-08-12 14:32:35.789 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-39::aleksandr (generated) ran successfully in 11ms
2023-08-12 14:32:35.804 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (category_id)
2023-08-12 14:32:35.807 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-40::aleksandr (generated) ran successfully in 9ms
2023-08-12 14:32:35.824 [main] INFO  liquibase.changelog - Foreign key constraint added to event_category (event_id)
2023-08-12 14:32:35.829 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-41::aleksandr (generated) ran successfully in 13ms
2023-08-12 14:32:35.848 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (event_id)
2023-08-12 14:32:35.851 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-42::aleksandr (generated) ran successfully in 12ms
2023-08-12 14:32:35.866 [main] INFO  liquibase.changelog - Foreign key constraint added to event_save (participant_id)
2023-08-12 14:32:35.870 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/000-changelog.xml::1691839910237-43::aleksandr (generated) ran successfully in 12ms
2023-08-12 14:32:35.898 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-12 14:32:35.901 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/001-category.sql::raw::includeAll ran successfully in 23ms
2023-08-12 14:32:35.917 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-12 14:32:35.920 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/002-currency.sql::raw::includeAll ran successfully in 13ms
2023-08-12 14:32:35.938 [main] INFO  liquibase.changelog - Custom SQL executed
2023-08-12 14:32:35.940 [main] INFO  liquibase.changelog - ChangeSet liquibase/change-logs/009-get_distance.sql::raw::includeAll ran successfully in 12ms
2023-08-12 14:32:35.954 [main] INFO  liquibase.lockservice - Successfully released change log lock
2023-08-12 14:32:36.088 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-12 14:32:36.192 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.1.7.Final
2023-08-12 14:32:36.673 [main] INFO  SQL dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-08-12 14:32:38.135 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-12 14:32:38.149 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:32:43.056 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: USD
2023-08-12 14:32:43.879 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: EUR
2023-08-12 14:32:44.817 [main] INFO  c.r.service.common.CurrencyExchanger - Updated exchange rates for currency: UAH
2023-08-12 14:32:48.323 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bca34d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7469445d, org.springframework.security.web.context.SecurityContextHolderFilter@8911222, org.springframework.security.web.header.HeaderWriterFilter@4fbc7da0, org.springframework.web.filter.CorsFilter@1377af49, org.springframework.security.web.authentication.logout.LogoutFilter@4c1c9116, com.ringo.auth.JwtFilter@7d1f906b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11c27ace, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5194394, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@152e530d, org.springframework.security.web.session.SessionManagementFilter@76c9658c, org.springframework.security.web.access.ExceptionTranslationFilter@744f4027, org.springframework.security.web.access.intercept.AuthorizationFilter@4a57cec1]
2023-08-12 14:32:48.775 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2023-08-12 14:32:48.789 [main] INFO  com.ringo.RingoApplication - Started RingoApplication in 19.412 seconds (process running for 20.361)
2023-08-12 14:33:14.191 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 14:33:14.192 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-08-12 14:33:14.194 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-08-12 14:33:14.275 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:16.694 [http-nio-8080-exec-2] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 14:33:16.827 [http-nio-8080-exec-3] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:17.036 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:18.935 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:19.304 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 14:33:19.418 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:19.516 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:21.451 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:21.528 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:23.275 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:23.604 [http-nio-8080-exec-7] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 14:33:23.709 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:23.780 [http-nio-8080-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
com.auth0.jwt.exceptions.JWTDecodeException: The token was expected to have 3 parts, but got 0.
	at com.auth0.jwt.TokenUtils.wrongNumberOfParts(TokenUtils.java:45)
	at com.auth0.jwt.TokenUtils.splitToken(TokenUtils.java:23)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:37)
	at com.auth0.jwt.JWTDecoder.<init>(JWTDecoder.java:33)
	at com.auth0.jwt.JWT.decode(JWT.java:52)
	at com.ringo.auth.JwtService.getEmailFromToken(JwtService.java:110)
	at com.ringo.auth.JwtFilter.doFilterInternal(JwtFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-08-12 14:33:23.835 [http-nio-8080-exec-1] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:25.752 [http-nio-8080-exec-2] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:25.864 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-12 14:33:25.981 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:26.052 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:27.824 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:27.908 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:29.747 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:29.806 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:31.621 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:31.740 [http-nio-8080-exec-8] WARN  c.r.exception.GlobalExceptionHandler - Wrong password
2023-08-12 14:33:31.852 [http-nio-8080-exec-6] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:31.922 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:33.703 [http-nio-8080-exec-10] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:33.787 [http-nio-8080-exec-3] WARN  c.r.exception.GlobalExceptionHandler - Bad credentials
2023-08-12 14:33:33.823 [http-nio-8080-exec-4] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:35.648 [http-nio-8080-exec-5] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:35.861 [http-nio-8080-exec-11] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 14:33:35.863 [http-nio-8080-exec-11] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 14:33:35.887 [http-nio-8080-exec-11] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 14:33:37.092 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:38.973 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:39.032 [http-nio-8080-exec-9] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 14:33:39.033 [http-nio-8080-exec-9] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 14:33:39.039 [http-nio-8080-exec-9] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 14:33:39.468 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - deletePhoto: 2
2023-08-12 14:33:39.634 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:41.428 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:41.526 [http-nio-8080-exec-10] INFO  c.r.s.company.OrganisationService - findOrganisationById: 12
2023-08-12 14:33:41.622 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:43.770 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:43.789 [http-nio-8080-exec-3] INFO  c.r.s.company.OrganisationService - findOrganisationById: 13
2023-08-12 14:33:43.860 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:45.671 [http-nio-8080-exec-8] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:45.732 [http-nio-8080-exec-9] INFO  c.r.s.company.OrganisationService - findOrganisationById: 14
2023-08-12 14:33:45.798 [http-nio-8080-exec-10] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_ORGANISATION
2023-08-12 14:33:47.757 [http-nio-8080-exec-1] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:47.775 [http-nio-8080-exec-2] INFO  c.r.s.company.OrganisationService - findOrganisationById: 15
2023-08-12 14:33:47.856 [http-nio-8080-exec-3] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:49.677 [http-nio-8080-exec-11] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:49.716 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 14:33:49.718 [http-nio-8080-exec-5] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 14:33:49.721 [http-nio-8080-exec-5] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 14:33:50.561 [http-nio-8080-exec-6] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:52.484 [http-nio-8080-exec-9] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:52.526 [http-nio-8080-exec-7] INFO  c.r.s.common.AbstractUserService - email: test@test.com, setPhoto: test_profile_picture.jpeg
2023-08-12 14:33:52.527 [http-nio-8080-exec-7] INFO  c.ringo.service.common.PhotoService - savePhoto: jpeg
2023-08-12 14:33:52.534 [http-nio-8080-exec-7] WARN  c.a.services.s3.AmazonS3Client - No content length specified for stream data.  Stream contents will be buffered in memory and could result in out of memory errors.
2023-08-12 14:33:52.945 [http-nio-8080-exec-10] INFO  c.ringo.service.common.PhotoService - deletePhoto: 4
2023-08-12 14:33:53.061 [http-nio-8080-exec-2] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:54.794 [http-nio-8080-exec-4] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:54.812 [http-nio-8080-exec-3] INFO  c.r.s.company.ParticipantService - findParticipantById: 18
2023-08-12 14:33:54.863 [http-nio-8080-exec-5] INFO  c.r.s.common.AbstractUserService - save: test@test.com, role: ROLE_PARTICIPANT
2023-08-12 14:33:56.769 [http-nio-8080-exec-7] INFO  c.ringo.auth.AuthenticationService - User [email: test@test.com] is authenticated
2023-08-12 14:33:56.830 [http-nio-8080-exec-3] INFO  c.r.s.company.ParticipantService - findParticipantById: 19
2023-08-12 14:34:38.950 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-12 14:34:38.955 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-08-12 14:34:38.974 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
